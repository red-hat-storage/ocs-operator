---
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |2-

      [
          {
              "apiVersion": "ocs.openshift.io/v1",
              "kind": "StorageCluster",
              "metadata": {
                  "name": "example-storagecluster",
                  "namespace": "openshift-storage"
              },
              "spec": {
                  "manageNodes": false,
                  "monPVCTemplate": {
                      "spec": {
                          "accessModes": [
                              "ReadWriteOnce"
                          ],
                          "resources": {
                              "requests": {
                                  "storage": "10Gi"
                              }
                          },
                          "storageClassName": "gp2"
                      }
                  },
                  "storageDeviceSets": [
                      {
                          "count": 3,
                          "dataPVCTemplate": {
                              "spec": {
                                  "accessModes": [
                                      "ReadWriteOnce"
                                  ],
                                  "resources": {
                                      "requests": {
                                          "storage": "1Ti"
                                      }
                                  },
                                  "storageClassName": "gp2",
                                  "volumeMode": "Block"
                              }
                          },
                          "name": "example-deviceset",
                          "placement": {},
                          "portable": true,
                          "resources": {}
                      }
                  ]
              }
          }
      ]
    capabilities: Deep Insights
    categories: Storage
    containerImage: quay.io/ocs-dev/ocs-operator:4.10.0
    description: Red Hat OpenShift Container Storage provides hyperconverged storage
      for applications within an OpenShift cluster.
    external.features.ocs.openshift.io/export-script: |-
      JycnCkNvcHlyaWdodCAyMDIwIFRoZSBSb29rIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQu
      CgpMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxp
      Y2Vuc2UiKTsKeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3
      aXRoIHRoZSBMaWNlbnNlLgpZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQK
      CglodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClVubGVzcyByZXF1
      aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUK
      ZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElT
      IiBCQVNJUywKV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVp
      dGhlciBleHByZXNzIG9yIGltcGxpZWQuClNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmlj
      IGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKbGltaXRhdGlvbnMgdW5kZXIgdGhl
      IExpY2Vuc2UuCicnJwoKaW1wb3J0IGVycm5vCmltcG9ydCBzeXMKaW1wb3J0IGpzb24KaW1wb3J0
      IGFyZ3BhcnNlCmltcG9ydCB1bml0dGVzdAppbXBvcnQgcmUKaW1wb3J0IHJlcXVlc3RzCmltcG9y
      dCBzdWJwcm9jZXNzCmZyb20gb3MgaW1wb3J0IGxpbmVzZXAgYXMgTElORVNFUApmcm9tIG9zIGlt
      cG9ydCBwYXRoCgojIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCAyLngKdHJ5OgogICAgTW9k
      dWxlTm90Rm91bmRFcnJvcgpleGNlcHQ6CiAgICBNb2R1bGVOb3RGb3VuZEVycm9yID0gSW1wb3J0
      RXJyb3IKCnRyeToKICAgIGltcG9ydCByYWRvcwpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvciBh
      cyBub01vZEVycjoKICAgIHByaW50KCJFcnJvcjogJXNcbkV4aXRpbmcgdGhlIHNjcmlwdC4uLiIg
      JSBub01vZEVycikKICAgIHN5cy5leGl0KDEpCgp0cnk6CiAgICBpbXBvcnQgcmJkCmV4Y2VwdCBN
      b2R1bGVOb3RGb3VuZEVycm9yIGFzIG5vTW9kRXJyOgogICAgcHJpbnQoIkVycm9yOiAlc1xuRXhp
      dGluZyB0aGUgc2NyaXB0Li4uIiAlIG5vTW9kRXJyKQogICAgc3lzLmV4aXQoMSkgICAgCgp0cnk6
      CiAgICAjIGZvciAyLjcueAogICAgZnJvbSBTdHJpbmdJTyBpbXBvcnQgU3RyaW5nSU8KZXhjZXB0
      IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICAjIGZvciAzLngKICAgIGZyb20gaW8gaW1wb3J0IFN0
      cmluZ0lPCgp0cnk6CiAgICAjIGZvciAyLjcueAogICAgZnJvbSB1cmxwYXJzZSBpbXBvcnQgdXJs
      cGFyc2UKZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICAjIGZvciAzLngKICAgIGZyb20g
      dXJsbGliLnBhcnNlIGltcG9ydCB1cmxwYXJzZQoKY2xhc3MgRXhlY3V0aW9uRmFpbHVyZUV4Y2Vw
      dGlvbihFeGNlcHRpb24pOgogICAgcGFzcwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyBEdW1teVJhZG9zICMjIyMjIyMj
      IyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMKIyB0aGlzIGlzIG1haW5seSBmb3IgdGVzdGluZyBhbmQgY291bGQgYmUgdXNlZCB3aGVyZSAn
      cmFkb3MnIGlzIG5vdCBhdmFpbGFibGUKCgpjbGFzcyBEdW1teVJhZG9zKG9iamVjdCk6CiAgICBk
      ZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5yZXR1cm5fdmFsID0gMAogICAgICAgIHNl
      bGYuZXJyX21lc3NhZ2UgPSAnJwogICAgICAgIHNlbGYuc3RhdGUgPSAnY29ubmVjdGVkJwogICAg
      ICAgIHNlbGYuY21kX291dHB1dF9tYXAgPSB7fQogICAgICAgIHNlbGYuY21kX25hbWVzID0ge30K
      ICAgICAgICBzZWxmLl9pbml0X2NtZF9vdXRwdXRfbWFwKCkKICAgICAgICBzZWxmLmR1bW15X2hv
      c3RfaXBfbWFwID0ge30KCiAgICBkZWYgX2luaXRfY21kX291dHB1dF9tYXAoc2VsZik6CiAgICAg
      ICAganNvbl9maWxlX25hbWUgPSAndGVzdC1kYXRhL2NlcGgtc3RhdHVzLW91dCcKICAgICAgICBz
      Y3JpcHRfZGlyID0gcGF0aC5hYnNwYXRoKHBhdGguZGlybmFtZShfX2ZpbGVfXykpCiAgICAgICAg
      Y2VwaF9zdGF0dXNfc3RyID0gIiIKICAgICAgICB3aXRoIG9wZW4ocGF0aC5qb2luKHNjcmlwdF9k
      aXIsIGpzb25fZmlsZV9uYW1lKSwgJ3InKSBhcyBqc29uX2ZpbGU6CiAgICAgICAgICAgIGNlcGhf
      c3RhdHVzX3N0ciA9IGpzb25fZmlsZS5yZWFkKCkKICAgICAgICBzZWxmLmNtZF9uYW1lc1snZnMg
      bHMnXSA9ICcnJ3siZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImZzIGxzIn0nJycKICAgICAg
      ICBzZWxmLmNtZF9uYW1lc1sncXVvcnVtX3N0YXR1cyddID0gJycneyJmb3JtYXQiOiAianNvbiIs
      ICJwcmVmaXgiOiAicXVvcnVtX3N0YXR1cyJ9JycnCiAgICAgICAgc2VsZi5jbWRfbmFtZXNbJ21n
      ciBzZXJ2aWNlcyddID0gJycneyJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAibWdyIHNlcnZp
      Y2VzIn0nJycKICAgICAgICAjIGFsbCB0aGUgY29tbWFuZHMgYW5kIHRoZWlyIG91dHB1dAogICAg
      ICAgIHNlbGYuY21kX291dHB1dF9tYXBbc2VsZi5jbWRfbmFtZXNbJ2ZzIGxzJ10KICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgIF0gPSAnJydbeyJuYW1lIjoibXlmcyIsIm1ldGFkYXRhX3Bvb2wi
      OiJteWZzLW1ldGFkYXRhIiwibWV0YWRhdGFfcG9vbF9pZCI6MiwiZGF0YV9wb29sX2lkcyI6WzNd
      LCJkYXRhX3Bvb2xzIjpbIm15ZnMtcmVwbGljYXRlZCJdfV0nJycKICAgICAgICBzZWxmLmNtZF9v
      dXRwdXRfbWFwW3NlbGYuY21kX25hbWVzWydxdW9ydW1fc3RhdHVzJ11dID0gJycneyJlbGVjdGlv
      bl9lcG9jaCI6MywicXVvcnVtIjpbMF0sInF1b3J1bV9uYW1lcyI6WyJhIl0sInF1b3J1bV9sZWFk
      ZXJfbmFtZSI6ImEiLCJxdW9ydW1fYWdlIjoxNDM4NSwiZmVhdHVyZXMiOnsicXVvcnVtX2NvbiI6
      IjQ1NDAxMzgyOTI4MzY2OTYwNjMiLCJxdW9ydW1fbW9uIjpbImtyYWtlbiIsImx1bWlub3VzIiwi
      bWltaWMiLCJvc2RtYXAtcHJ1bmUiLCJuYXV0aWx1cyIsIm9jdG9wdXMiXX0sIm1vbm1hcCI6eyJl
      cG9jaCI6MSwiZnNpZCI6ImFmNGUxNjczLTBiNzItNDAyZC05OTBhLTIyZDI5MTlkMGYxYyIsIm1v
      ZGlmaWVkIjoiMjAyMC0wNS0wN1QwMzozNjozOS45MTgwMzVaIiwiY3JlYXRlZCI6IjIwMjAtMDUt
      MDdUMDM6MzY6MzkuOTE4MDM1WiIsIm1pbl9tb25fcmVsZWFzZSI6MTUsIm1pbl9tb25fcmVsZWFz
      ZV9uYW1lIjoib2N0b3B1cyIsImZlYXR1cmVzIjp7InBlcnNpc3RlbnQiOlsia3Jha2VuIiwibHVt
      aW5vdXMiLCJtaW1pYyIsIm9zZG1hcC1wcnVuZSIsIm5hdXRpbHVzIiwib2N0b3B1cyJdLCJvcHRp
      b25hbCI6W119LCJtb25zIjpbeyJyYW5rIjowLCJuYW1lIjoiYSIsInB1YmxpY19hZGRycyI6eyJh
      ZGRydmVjIjpbeyJ0eXBlIjoidjIiLCJhZGRyIjoiMTAuMTEwLjIwNS4xNzQ6MzMwMCIsIm5vbmNl
      IjowfSx7InR5cGUiOiJ2MSIsImFkZHIiOiIxMC4xMTAuMjA1LjE3NDo2Nzg5Iiwibm9uY2UiOjB9
      XX0sImFkZHIiOiIxMC4xMTAuMjA1LjE3NDo2Nzg5LzAiLCJwdWJsaWNfYWRkciI6IjEwLjExMC4y
      MDUuMTc0OjY3ODkvMCIsInByaW9yaXR5IjowLCJ3ZWlnaHQiOjB9XX19JycnCiAgICAgICAgc2Vs
      Zi5jbWRfb3V0cHV0X21hcFtzZWxmLmNtZF9uYW1lc1snbWdyIHNlcnZpY2VzJ10KICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgIF0gPSAnJyd7ImRhc2hib2FyZCI6Imh0dHBzOi8vY2VwaC1kYXNo
      Ym9hcmQ6ODQ0My8iLCJwcm9tZXRoZXVzIjoiaHR0cDovL2NlcGgtZGFzaGJvYXJkLWRiOjkyODMv
      In0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6IFsibW9uIiwgImFs
      bG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVtX3N0YXR1cyIsICJvc2QiLCAiYWxsb3cgcnd4IHBv
      b2w9ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9v
      bD1kZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyB4IHBvb2w9ZGVmYXVsdC5yZ3cuYnVja2V0cy5p
      bmRleCJdLCAiZW50aXR5IjogImNsaWVudC5oZWFsdGhjaGVja2VyIiwgImZvcm1hdCI6ICJqc29u
      IiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10gPSAnJydbeyJlbnRpdHkiOiJj
      bGllbnQuaGVhbHRoY2hlY2tlciIsImtleSI6IkFRREZrYk5lZnQ1YkZSQUFUbmRMTlVTRUtydW96
      eGlaaTNscmRBPT0iLCJjYXBzIjp7Im1vbiI6ImFsbG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVt
      X3N0YXR1cyIsIm9zZCI6ImFsbG93IHJ3eCBwb29sPWRlZmF1bHQucmd3Lm1ldGEsIGFsbG93IHIg
      cG9vbD0ucmd3LnJvb3QsIGFsbG93IHJ3IHBvb2w9ZGVmYXVsdC5yZ3cuY29udHJvbCwgYWxsb3cg
      eCBwb29sPWRlZmF1bHQucmd3LmJ1Y2tldHMuaW5kZXgifX1dJycnCiAgICAgICAgc2VsZi5jbWRf
      b3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1vbiIsICJwcm9maWxlIHJiZCwgYWxsb3cgY29tbWFu
      ZCAnb3NkIGJsb2NrbGlzdCciLCAib3NkIiwgInByb2ZpbGUgcmJkIl0sICJlbnRpdHkiOiAiY2xp
      ZW50LmNzaS1yYmQtbm9kZSIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQt
      b3ItY3JlYXRlIn0nJyddID0gJycnW3siZW50aXR5IjoiY2xpZW50LmNzaS1yYmQtbm9kZSIsImtl
      eSI6IkFRQk9nck5lSGJLMUF4QUF1YllCZVY4UzFVL0dQenE1U1ZlcTZnPT0iLCJjYXBzIjp7Im1v
      biI6InByb2ZpbGUgcmJkLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsIm9zZCI6InBy
      b2ZpbGUgcmJkIn19XScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJjYXBzIjog
      WyJtb24iLCAicHJvZmlsZSByYmQsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwgIm1n
      ciIsICJhbGxvdyBydyIsICJvc2QiLCAicHJvZmlsZSByYmQiXSwgImVudGl0eSI6ICJjbGllbnQu
      Y3NpLXJiZC1wcm92aXNpb25lciIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBn
      ZXQtb3ItY3JlYXRlIn0nJyddID0gJycnW3siZW50aXR5IjoiY2xpZW50LmNzaS1yYmQtcHJvdmlz
      aW9uZXIiLCJrZXkiOiJBUUJOZ3JOZTFnZXlLeEFBOGVrVmlSZEUraHNzNU93ZVlCa3dOZz09Iiwi
      Y2FwcyI6eyJtZ3IiOiJhbGxvdyBydyIsIm1vbiI6InByb2ZpbGUgcmJkLCBhbGxvdyBjb21tYW5k
      ICdvc2QgYmxvY2tsaXN0JyIsIm9zZCI6InByb2ZpbGUgcmJkIn19XScnJwogICAgICAgIHNlbGYu
      Y21kX291dHB1dF9tYXBbJycneyJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwgYWxsb3cgY29tbWFu
      ZCAnb3NkIGJsb2NrbGlzdCciLCAibWdyIiwgImFsbG93IHJ3IiwgIm9zZCIsICJhbGxvdyBydyB0
      YWcgY2VwaGZzICo9KiIsICJtZHMiLCAiYWxsb3cgcnciXSwgImVudGl0eSI6ICJjbGllbnQuY3Np
      LWNlcGhmcy1ub2RlIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1j
      cmVhdGUifScnJ10gPSAnJydbeyJlbnRpdHkiOiJjbGllbnQuY3NpLWNlcGhmcy1ub2RlIiwia2V5
      IjoiQVFCT2dyTmVFTnVuS3hBQVBDbWdFN1I2RzhEY1huYUoxRjMycWc9PSIsImNhcHMiOnsibWRz
      IjoiYWxsb3cgcnciLCJtZ3IiOiJhbGxvdyBydyIsIm1vbiI6ImFsbG93IHIsIGFsbG93IGNvbW1h
      bmQgJ29zZCBibG9ja2xpc3QnIiwib3NkIjoiYWxsb3cgcncgdGFnIGNlcGhmcyAqPSoifX1dJycn
      CiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1vbiIsICJhbGxvdyBy
      LCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsICJtZ3IiLCAiYWxsb3cgcnciLCAib3Nk
      IiwgImFsbG93IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9KiJdLCAiZW50aXR5IjogImNsaWVudC5j
      c2ktY2VwaGZzLXByb3Zpc2lvbmVyIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRo
      IGdldC1vci1jcmVhdGUifScnJ10gPSAnJydbeyJlbnRpdHkiOiJjbGllbnQuY3NpLWNlcGhmcy1w
      cm92aXNpb25lciIsImtleSI6IkFRQk9nck5lQUZnY0dCQUF2R3FLT0FEMEQzeHhtVlkwUjkxMmRn
      PT0iLCJjYXBzIjp7Im1nciI6ImFsbG93IHJ3IiwibW9uIjoiYWxsb3cgciwgYWxsb3cgY29tbWFu
      ZCAnb3NkIGJsb2NrbGlzdCciLCJvc2QiOiJhbGxvdyBydyB0YWcgY2VwaGZzIG1ldGFkYXRhPSoi
      fX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1vbiIsICJh
      bGxvdyByLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsICJtZ3IiLCAiYWxsb3cgcnci
      LCAib3NkIiwgImFsbG93IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9KiJdLCAiZW50aXR5IjogImNs
      aWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyLW9wZW5zaGlmdC1zdG9yYWdlIiwgImZvcm1hdCI6
      ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10gPSAnJydbeyJlbnRp
      dHkiOiJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNpb25lci1vcGVuc2hpZnQtc3RvcmFnZSIsImtl
      eSI6IkJRQk9nck5lQUZnY0dCQUF2R3FLT0FEMEQzeHhtVlkwUjkxMmRnPT0iLCJjYXBzIjp7Im1n
      ciI6ImFsbG93IHJ3IiwibW9uIjoiYWxsb3cgciwgYWxsb3cgY29tbWFuZCAnb3NkIGJsb2NrbGlz
      dCciLCJvc2QiOiJhbGxvdyBydyB0YWcgY2VwaGZzIG1ldGFkYXRhPSoifX1dJycnCiAgICAgICAg
      c2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1vbiIsICJhbGxvdyByLCBhbGxvdyBj
      b21tYW5kICdvc2QgYmxvY2tsaXN0JyIsICJtZ3IiLCAiYWxsb3cgcnciLCAib3NkIiwgImFsbG93
      IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9bXlmcyJdLCAiZW50aXR5IjogImNsaWVudC5jc2ktY2Vw
      aGZzLXByb3Zpc2lvbmVyLW9wZW5zaGlmdC1zdG9yYWdlLW15ZnMiLCAiZm9ybWF0IjogImpzb24i
      LCAicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNs
      aWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyLW9wZW5zaGlmdC1zdG9yYWdlLW15ZnMiLCJrZXki
      OiJDUUJPZ3JOZUFGZ2NHQkFBdkdxS09BRDBEM3h4bVZZMFI5MTJkZz09IiwiY2FwcyI6eyJtZ3Ii
      OiJhbGxvdyBydyIsIm1vbiI6ImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3Qn
      Iiwib3NkIjoiYWxsb3cgcncgdGFnIGNlcGhmcyBtZXRhZGF0YT1teWZzIn19XScnJwogICAgICAg
      IHNlbGYuY21kX291dHB1dF9tYXBbJycneyJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwgYWxsb3cg
      Y29tbWFuZCBxdW9ydW1fc3RhdHVzLCBhbGxvdyBjb21tYW5kIHZlcnNpb24iLCAibWdyIiwgImFs
      bG93IGNvbW1hbmQgY29uZmlnIiwgIm9zZCIsICJhbGxvdyByd3ggcG9vbD1kZWZhdWx0LnJndy5t
      ZXRhLCBhbGxvdyByIHBvb2w9LnJndy5yb290LCBhbGxvdyBydyBwb29sPWRlZmF1bHQucmd3LmNv
      bnRyb2wsIGFsbG93IHJ4IHBvb2w9ZGVmYXVsdC5yZ3cubG9nLCBhbGxvdyB4IHBvb2w9ZGVmYXVs
      dC5yZ3cuYnVja2V0cy5pbmRleCJdLCAiZW50aXR5IjogImNsaWVudC5oZWFsdGhjaGVja2VyIiwg
      ImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10gPSAn
      JydbeyJlbnRpdHkiOiJjbGllbnQuaGVhbHRoY2hlY2tlciIsImtleSI6IkFRREZrYk5lZnQ1YkZS
      QUFUbmRMTlVTRUtydW96eGlaaTNscmRBPT0iLCJjYXBzIjp7Im1vbiI6ICJhbGxvdyByLCBhbGxv
      dyBjb21tYW5kIHF1b3J1bV9zdGF0dXMsIGFsbG93IGNvbW1hbmQgdmVyc2lvbiIsICJtZ3IiOiAi
      YWxsb3cgY29tbWFuZCBjb25maWciLCAib3NkIjogImFsbG93IHJ3eCBwb29sPWRlZmF1bHQucmd3
      Lm1ldGEsIGFsbG93IHIgcG9vbD0ucmd3LnJvb3QsIGFsbG93IHJ3IHBvb2w9ZGVmYXVsdC5yZ3cu
      Y29udHJvbCwgYWxsb3cgcnggcG9vbD1kZWZhdWx0LnJndy5sb2csIGFsbG93IHggcG9vbD1kZWZh
      dWx0LnJndy5idWNrZXRzLmluZGV4In19XScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBb
      JycneyJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAibWdyIHNlcnZpY2VzIn0nJyddID0gJycn
      eyJkYXNoYm9hcmQiOiAiaHR0cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0am5sOjcw
      MDAvIiwgInByb21ldGhldXMiOiAiaHR0cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0
      am5sOjkyODMvIn0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siZW50aXR5Ijog
      ImNsaWVudC5oZWFsdGhjaGVja2VyIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRo
      IGdldCJ9JycnXSA9ICcnJ3siZGFzaGJvYXJkIjogImh0dHA6Ly9yb29rLWNlcGgtbWdyLWEtNTdj
      ZjlmODRiYy1mNGpubDo3MDAwLyIsICJwcm9tZXRoZXVzIjogImh0dHA6Ly9yb29rLWNlcGgtbWdy
      LWEtNTdjZjlmODRiYy1mNGpubDo5MjgzLyJ9JycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21h
      cFsnJyd7ImVudGl0eSI6ICJjbGllbnQuaGVhbHRoY2hlY2tlciIsICJmb3JtYXQiOiAianNvbiIs
      ICJwcmVmaXgiOiAiYXV0aCBnZXQifScnJ10gPSAnJydbeyJlbnRpdHkiOiJjbGllbnQuaGVhbHRo
      Y2hlY2tlciIsImtleSI6IkFRREZrYk5lZnQ1YkZSQUFUbmRMTlVTRUtydW96eGlaaTNscmRBPT0i
      LCJjYXBzIjp7Im1vbiI6ICJhbGxvdyByLCBhbGxvdyBjb21tYW5kIHF1b3J1bV9zdGF0dXMsIGFs
      bG93IGNvbW1hbmQgdmVyc2lvbiIsICJtZ3IiOiAiYWxsb3cgY29tbWFuZCBjb25maWciLCAib3Nk
      IjogImFsbG93IHJ3eCBwb29sPWRlZmF1bHQucmd3Lm1ldGEsIGFsbG93IHIgcG9vbD0ucmd3LnJv
      b3QsIGFsbG93IHJ3IHBvb2w9ZGVmYXVsdC5yZ3cuY29udHJvbCwgYWxsb3cgcnggcG9vbD1kZWZh
      dWx0LnJndy5sb2csIGFsbG93IHggcG9vbD1kZWZhdWx0LnJndy5idWNrZXRzLmluZGV4In19XScn
      JwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJlbnRpdHkiOiAiY2xpZW50LmNzaS1j
      ZXBoZnMtbm9kZSIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQifScnJ10g
      PSAnJydbXScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJlbnRpdHkiOiAiY2xp
      ZW50LmNzaS1yYmQtbm9kZSIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQi
      fScnJ10gPSAnJydbXScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJlbnRpdHki
      OiAiY2xpZW50LmNzaS1yYmQtcHJvdmlzaW9uZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4
      IjogImF1dGggZ2V0In0nJyddID0gJycnW10nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFw
      WycnJ3siZW50aXR5IjogImNsaWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyIiwgImZvcm1hdCI6
      ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldCJ9JycnXSA9ICcnJ1tdJycnCiAgICAgICAgc2Vs
      Zi5jbWRfb3V0cHV0X21hcFsnJyd7ImVudGl0eSI6ICJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNp
      b25lci1vcGVuc2hpZnQtc3RvcmFnZSIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0
      aCBnZXQifScnJ10gPSAnJydbXScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJl
      bnRpdHkiOiAiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXItb3BlbnNoaWZ0LXN0b3JhZ2Ut
      bXlmcyIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQifScnJ10gPSAnJydb
      XScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbJycneyJlbnRpdHkiOiAiY2xpZW50LmNz
      aS1jZXBoZnMtcHJvdmlzaW9uZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGgg
      Z2V0In0nJyddID0gJycnW3siZW50aXR5IjoiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIi
      LCJrZXkiOiJBUURGa2JOZWZ0NWJGUkFBVG5kTE5VU0VLcnVvenhpWmkzbHJkQT09IiwiY2FwcyI6
      eyJtb24iOiJhbGxvdyByIiwgIm1nciI6ImFsbG93IHJ3IiwgIm9zZCI6ImFsbG93IHJ3IHRhZyBj
      ZXBoZnMgbWV0YWRhdGE9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3si
      Y2FwcyI6IFsibW9uIiwgImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwg
      Im1nciIsICJhbGxvdyBydyIsICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBtZXRhZGF0YT0q
      Il0sICJlbnRpdHkiOiAiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIiLCAiZm9ybWF0Ijog
      Impzb24iLCAicHJlZml4IjogImF1dGggY2FwcyJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVu
      dC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyIiwia2V5IjoiQVFERmtiTmVmdDViRlJBQVRuZExOVVNF
      S3J1b3p4aVppM2xyZEE9PSIsImNhcHMiOnsibW9uIjoiYWxsb3cgciwgIGFsbG93IGNvbW1hbmQg
      J29zZCBibG9ja2xpc3QnIiwgIm1nciI6ImFsbG93IHJ3IiwgIm9zZCI6ImFsbG93IHJ3IHRhZyBj
      ZXBoZnMgbWV0YWRhdGE9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWyd7ImZv
      cm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJzdGF0dXMifSddID0gY2VwaF9zdGF0dXNfc3RyCgog
      ICAgZGVmIHNodXRkb3duKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgZ2V0X2ZzaWQoc2Vs
      Zik6CiAgICAgICAgcmV0dXJuICdhZjRlMTY3My0wYjcyLTQwMmQtOTkwYS0yMmQyOTE5ZDBmMWMn
      CgogICAgZGVmIGNvbmZfcmVhZF9maWxlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgY29u
      bmVjdChzZWxmKToKICAgICAgICBwYXNzCgogICAgZGVmIHBvb2xfZXhpc3RzKHNlbGYsIHBvb2xf
      bmFtZSk6CiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgbW9uX2NvbW1hbmQoc2VsZiwgY21k
      LCBvdXQpOgogICAgICAgIGpzb25fY21kID0ganNvbi5sb2FkcyhjbWQpCiAgICAgICAganNvbl9j
      bWRfc3RyID0ganNvbi5kdW1wcyhqc29uX2NtZCwgc29ydF9rZXlzPVRydWUpCiAgICAgICAgY21k
      X291dHB1dCA9IHNlbGYuY21kX291dHB1dF9tYXBbanNvbl9jbWRfc3RyXQogICAgICAgIHJldHVy
      biBzZWxmLnJldHVybl92YWwsIFwKICAgICAgICAgICAgY21kX291dHB1dCwgXAogICAgICAgICAg
      ICAie30iLmZvcm1hdChzZWxmLmVycl9tZXNzYWdlKS5lbmNvZGUoJ3V0Zi04JykKCiAgICBkZWYg
      X2NvbnZlcnRfaG9zdG5hbWVfdG9faXAoc2VsZiwgaG9zdF9uYW1lKToKICAgICAgICBpcF9yZWdf
      eCA9IHJlLmNvbXBpbGUocidcZHsxLDN9LlxkezEsM30uXGR7MSwzfS5cZHsxLDN9JykKICAgICAg
      ICAjIGlmIHByb3ZpZGVkIGhvc3QgaXMgZGlyZWN0bHkgYW4gSVAgYWRkcmVzcywgcmV0dXJuIHRo
      ZSBzYW1lCiAgICAgICAgaWYgaXBfcmVnX3gubWF0Y2goaG9zdF9uYW1lKToKICAgICAgICAgICAg
      cmV0dXJuIGhvc3RfbmFtZQogICAgICAgIGltcG9ydCByYW5kb20KICAgICAgICBob3N0X2lwID0g
      c2VsZi5kdW1teV9ob3N0X2lwX21hcC5nZXQoaG9zdF9uYW1lLCAiIikKICAgICAgICBpZiBub3Qg
      aG9zdF9pcDoKICAgICAgICAgICAgaG9zdF9pcCA9ICIxNzIuOS57fS57fSIuZm9ybWF0KAogICAg
      ICAgICAgICAgICAgcmFuZG9tLnJhbmRpbnQoMCwgMjU0KSwgcmFuZG9tLnJhbmRpbnQoMCwgMjU0
      KSkKICAgICAgICAgICAgc2VsZi5kdW1teV9ob3N0X2lwX21hcFtob3N0X25hbWVdID0gaG9zdF9p
      cAogICAgICAgIGRlbCByYW5kb20KICAgICAgICByZXR1cm4gaG9zdF9pcAoKICAgIEBjbGFzc21l
      dGhvZAogICAgZGVmIFJhZG9zKGNvbmZmaWxlPU5vbmUpOgogICAgICAgIHJldHVybiBEdW1teVJh
      ZG9zKCkKCgpjbGFzcyBSYWRvc0pTT046CiAgICBFWFRFUk5BTF9VU0VSX05BTUUgPSAiY2xpZW50
      LmhlYWx0aGNoZWNrZXIiCiAgICBFWFRFUk5BTF9SR1dfQURNSU5fT1BTX1VTRVJfTkFNRSA9ICJy
      Z3ctYWRtaW4tb3BzLXVzZXIiCiAgICBFTVBUWV9PVVRQVVRfTElTVCA9ICJFbXB0eSBvdXRwdXQg
      bGlzdCIKICAgIERFRkFVTFRfUkdXX1BPT0xfUFJFRklYID0gImRlZmF1bHQiCiAgICBERUZBVUxU
      X01PTklUT1JJTkdfRU5EUE9JTlRfUE9SVCA9ICI5MjgzIgoKICAgIEBjbGFzc21ldGhvZAogICAg
      ZGVmIGdlbl9hcmdfcGFyc2VyKGNscywgYXJnc190b19wYXJzZT1Ob25lKToKICAgICAgICBhcmdQ
      ID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoKQoKICAgICAgICBjb21tb25fZ3JvdXAgPSBhcmdQ
      LmFkZF9hcmd1bWVudF9ncm91cCgnY29tbW9uJykKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2Fy
      Z3VtZW50KCItLXZlcmJvc2UiLCAiLXYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgYWN0aW9uPSdzdG9yZV90cnVlJywgZGVmYXVsdD1GYWxzZSkKICAgICAgICBjb21tb25fZ3Jv
      dXAuYWRkX2FyZ3VtZW50KCItLWNlcGgtY29uZiIsICItYyIsCiAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICBoZWxwPSJQcm92aWRlIGEgY2VwaCBjb25mIGZpbGUuIiwgdHlwZT1zdHIp
      CiAgICAgICAgY29tbW9uX2dyb3VwLmFkZF9hcmd1bWVudCgiLS1ydW4tYXMtdXNlciIsICItdSIs
      IGRlZmF1bHQ9IiIsIHR5cGU9c3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      aGVscD0iUHJvdmlkZXMgYSB1c2VyIG5hbWUgdG8gY2hlY2sgdGhlIGNsdXN0ZXIncyBoZWFsdGgg
      c3RhdHVzLCBtdXN0IGJlIHByZWZpeGVkIGJ5ICdjbGllbnQuJyIpCiAgICAgICAgY29tbW9uX2dy
      b3VwLmFkZF9hcmd1bWVudCgiLS1jbHVzdGVyLW5hbWUiLCBkZWZhdWx0PSIiLAogICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iQ2VwaCBjbHVzdGVyIG5hbWUiKQogICAgICAg
      IGNvbW1vbl9ncm91cC5hZGRfYXJndW1lbnQoIi0tbmFtZXNwYWNlIiwgZGVmYXVsdD0iIiwKICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9Ik5hbWVzcGFjZSB3aGVyZSBDZXBo
      Q2x1c3RlciBpcyBydW5uaW5nIikKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCIt
      LXJndy1wb29sLXByZWZpeCIsIGRlZmF1bHQ9IiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICBoZWxwPSJSR1cgUG9vbCBwcmVmaXgiKQogICAgICAgIGNvbW1vbl9ncm91cC5hZGRf
      YXJndW1lbnQoIi0tcmVzdHJpY3RlZC1hdXRoLXBlcm1pc3Npb24iLCBkZWZhdWx0PUZhbHNlLAog
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUmVzdHJpY3RlZCBjZXBoQ1NJ
      S2V5cmluZ3MgYXV0aCBwZXJtaXNzaW9ucyB0byBzcGVjaWZpYyBwb29scywgY2x1c3RlciBhbmQg
      cG9vbCBuYW1lc3BhY2VzLiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTWFu
      ZGF0b3J5IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQgYXJlIC0tcmJkLWRhdGEtcG9vbC1uYW1l
      LCAtLXJhZG9zLW5hbWVzcGFjZSBhbmQgLS1jbHVzdGVyLW5hbWUuIisKICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICItLWNlcGhmcy1maWxlc3lzdGVtLW5hbWUgZmxhZyBjYW4gYWxz
      byBiZSBwYXNzZWQgaW4gY2FzZSBvZiBjZXBoZnMgdXNlciByZXN0cmljdGlvbiwgc28gaXQgY2Fu
      IHJlc3RyaWN0IHVzZXIgdG8gcGFydGljdWxhciBjZXBoZnMgZmlsZXN5c3RlbSIrCiAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAic2FtcGxlIHJ1bjogYHB5dGhvbjMgL2V0Yy9jZXBo
      L2NyZWF0ZS1leHRlcm5hbC1jbHVzdGVyLXJlc291cmNlcy5weSAtLWNlcGhmcy1maWxlc3lzdGVt
      LW5hbWUgbXlmcyAtLXJiZC1kYXRhLXBvb2wtbmFtZSByZXBsaWNhcG9vbCAtLXJhZG9zLW5hbWVz
      cGFjZSByYWRvc05hbWVzcGFjZSAtLWNsdXN0ZXItbmFtZSByb29rU3RvcmFnZSAtLXJlc3RyaWN0
      ZWQtYXV0aC1wZXJtaXNzaW9uIHRydWVgIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICJOb3RlOiBSZXN0cmljdGluZyB0aGUgdXNlcnMgcGVyIHBvb2wsIHBlciBjbHVzdGVyIGFu
      ZCBwZXIgcG9vbCBuYW1lc3BhY2Ugd2lsbCByZXF1aXJlIHRvIGNyZWF0ZSBuZXcgdXNlcnMgYW5k
      IG5ldyBzZWNyZXRzIGZvciB0aGF0IHVzZXJzLiIpCgogICAgICAgIG91dHB1dF9ncm91cCA9IGFy
      Z1AuYWRkX2FyZ3VtZW50X2dyb3VwKCdvdXRwdXQnKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRf
      YXJndW1lbnQoIi0tZm9ybWF0IiwgIi10IiwgY2hvaWNlcz1bImpzb24iLCAiYmFzaCJdLAogICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdD0nanNvbicsIGhlbHA9IlByb3Zp
      ZGVzIHRoZSBvdXRwdXQgZm9ybWF0IChqc29uIHwgYmFzaCkiKQogICAgICAgIG91dHB1dF9ncm91
      cC5hZGRfYXJndW1lbnQoIi0tb3V0cHV0IiwgIi1vIiwgZGVmYXVsdD0iIiwKICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgIGhlbHA9Ik91dHB1dCB3aWxsIGJlIHN0b3JlZCBpbnRvIHRo
      ZSBwcm92aWRlZCBmaWxlIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLWNl
      cGhmcy1maWxlc3lzdGVtLW5hbWUiLCBkZWZhdWx0PSIiLAogICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgaGVscD0iUHJvdmlkZXMgdGhlIG5hbWUgb2YgdGhlIENlcGggZmlsZXN5c3Rl
      bSIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1jZXBoZnMtbWV0YWRhdGEt
      cG9vbC1uYW1lIiwgZGVmYXVsdD0iIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      IGhlbHA9IlByb3ZpZGVzIHRoZSBuYW1lIG9mIHRoZSBjZXBoZnMgbWV0YWRhdGEgcG9vbCIpCiAg
      ICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1jZXBoZnMtZGF0YS1wb29sLW5hbWUi
      LCBkZWZhdWx0PSIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJv
      dmlkZXMgdGhlIG5hbWUgb2YgdGhlIGNlcGhmcyBkYXRhIHBvb2wiKQogICAgICAgIG91dHB1dF9n
      cm91cC5hZGRfYXJndW1lbnQoIi0tcmJkLWRhdGEtcG9vbC1uYW1lIiwgZGVmYXVsdD0iIiwgcmVx
      dWlyZWQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJQcm92
      aWRlcyB0aGUgbmFtZSBvZiB0aGUgUkJEIGRhdGFwb29sIikKICAgICAgICBvdXRwdXRfZ3JvdXAu
      YWRkX2FyZ3VtZW50KCItLXJndy1lbmRwb2ludCIsIGRlZmF1bHQ9IiIsIHJlcXVpcmVkPUZhbHNl
      LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUmFkb3MgR2F0ZVdheSBl
      bmRwb2ludCAoaW4gPElQPjo8UE9SVD4gZm9ybWF0KSIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFk
      ZF9hcmd1bWVudCgiLS1yZ3ctdGxzLWNlcnQtcGF0aCIsIGRlZmF1bHQ9IiIsIHJlcXVpcmVkPUZh
      bHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUmFkb3MgR2F0ZVdh
      eSBlbmRwb2ludCBUTFMgY2VydGlmaWNhdGUiKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRfYXJn
      dW1lbnQoIi0tcmd3LXNraXAtdGxzIiwgcmVxdWlyZWQ9RmFsc2UsIGRlZmF1bHQ9RmFsc2UsCiAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJJZ25vcmUgVExTIGNlcnRpZmlj
      YXRpb24gdmFsaWRhdGlvbiB3aGVuIGEgc2VsZi1zaWduZWQgY2VydGlmaWNhdGUgaXMgcHJvdmlk
      ZWQgKE5PVCBSRUNPTU1FTkRFRCIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgi
      LS1tb25pdG9yaW5nLWVuZHBvaW50IiwgZGVmYXVsdD0iIiwgcmVxdWlyZWQ9RmFsc2UsCiAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJDZXBoIE1hbmFnZXIgcHJvbWV0aGV1
      cyBleHBvcnRlciBlbmRwb2ludHMgKGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIDxJUD4gZW50cmll
      cyBvZiBhY3RpdmUgYW5kIHN0YW5kYnkgbWdycykiKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRf
      YXJndW1lbnQoIi0tbW9uaXRvcmluZy1lbmRwb2ludC1wb3J0IiwgZGVmYXVsdD0iIiwgcmVxdWly
      ZWQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJDZXBoIE1h
      bmFnZXIgcHJvbWV0aGV1cyBleHBvcnRlciBwb3J0IikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRk
      X2FyZ3VtZW50KCItLXJiZC1tZXRhZGF0YS1lYy1wb29sLW5hbWUiLCBkZWZhdWx0PSIiLCByZXF1
      aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IlByb3Zp
      ZGVzIHRoZSBuYW1lIG9mIGVyYXN1cmUgY29kZWQgUkJEIG1ldGFkYXRhIHBvb2wiKQogICAgICAg
      IG91dHB1dF9ncm91cC5hZGRfYXJndW1lbnQoIi0tZHJ5LXJ1biIsIGRlZmF1bHQ9RmFsc2UsIGFj
      dGlvbj0nc3RvcmVfdHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxw
      PSJEcnkgcnVuIHByaW50cyB0aGUgZXhlY3V0ZWQgY29tbWFuZHMgd2l0aG91dCBydW5uaW5nIHRo
      ZW0iKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRfYXJndW1lbnQoIi0tcmFkb3MtbmFtZXNwYWNl
      IixkZWZhdWx0PSIiLCByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgIGhlbHA9ImRpdmlkZXMgYSBwb29sIGludG8gc2VwYXJhdGUgbG9naWNhbCBuYW1lc3Bh
      Y2VzIikKCiAgICAgICAgdXBncmFkZV9ncm91cCA9IGFyZ1AuYWRkX2FyZ3VtZW50X2dyb3VwKCd1
      cGdyYWRlJykKICAgICAgICB1cGdyYWRlX2dyb3VwLmFkZF9hcmd1bWVudCgiLS11cGdyYWRlIiwg
      YWN0aW9uPSdzdG9yZV90cnVlJywgZGVmYXVsdD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICBoZWxwPSJVcGdyYWRlcyB0aGUgJ2NzaS11c2VyJyhGb3IgZXhhbXBsZTog
      Y2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIpIHdpdGggbmV3IHBlcm1pc3Npb25zIG5lZWRl
      ZCBmb3IgdGhlIG5ldyBjbHVzdGVyIHZlcnNpb24gYW5kIG9sZGVyIHBlcm1pc3Npb24gd2lsbCBz
      dGlsbCBiZSBhcHBsaWVkLiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJT
      YW1wbGUgcnVuOiBgcHl0aG9uMyAvZXRjL2NlcGgvY3JlYXRlLWV4dGVybmFsLWNsdXN0ZXItcmVz
      b3VyY2VzLnB5IC0tdXBncmFkZWAsIHRoaXMgd2lsbCB1cGdyYWRlIGFsbCB0aGUgZGVmYXVsdCBj
      c2kgdXNlcnMobm9uLXJlc3RyaWN0ZWQpIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgIkZvciByZXN0cmljdGVkIHVzZXJzKEZvciBleGFtcGxlOiBjbGllbnQuY3NpLWNlcGhm
      cy1wcm92aXNpb25lci1vcGVuc2hpZnQtc3RvcmFnZS1teWZzKSwgdXNlcnMgY3JlYXRlZCB1c2lu
      ZyAtLXJlc3RyaWN0ZWQtYXV0aC1wZXJtaXNzaW9uIGZsYWcgbmVlZCB0byBwYXNzIG1hbmRhdG9y
      eSBmbGFncyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYW5kYXRvcnkg
      ZmxhZ3M6ICctLXJiZC1kYXRhLXBvb2wtbmFtZSwgLS1yYWRvcy1uYW1lc3BhY2UsIC0tY2x1c3Rl
      ci1uYW1lIGFuZCAtLXJ1bi1hcy11c2VyJyBmbGFncyB3aGlsZSB1cGdyYWRpbmciKwogICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbiBjYXNlIG9mIGNlcGhmcyB1c2VycyBpZiB5
      b3UgaGF2ZSBwYXNzZWQgLS1jZXBoZnMtZmlsZXN5c3RlbS1uYW1lIGZsYWcgd2hpbGUgY3JlYXRp
      bmcgdXNlciB0aGVuIHdoaWxlIHVwZ3JhZGluZyBpdCB3aWxsIGJlIG1hbmRhdG9yeSB0b28iKwog
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTYW1wbGUgcnVuOiBgcHl0aG9uMyAv
      ZXRjL2NlcGgvY3JlYXRlLWV4dGVybmFsLWNsdXN0ZXItcmVzb3VyY2VzLnB5IC0tdXBncmFkZSAt
      LXJiZC1kYXRhLXBvb2wtbmFtZSByZXBsaWNhcG9vbCAtLXJhZG9zLW5hbWVzcGFjZSByYWRvc05h
      bWVzcGFjZSAtLWNsdXN0ZXItbmFtZSByb29rU3RvcmFnZSAgLS1ydW4tYXMtdXNlciBjbGllbnQu
      Y3NpLXJiZC1ub2RlLXJvb2tTdG9yYWdlLXJlcGxpY2Fwb29sLXJhZG9zTmFtZXNwYWNlYCIrCiAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBTOiBBbiBleGlzdGluZyBub24tcmVz
      dHJpY3RlZCB1c2VyIGNhbm5vdCBiZSBkb3duZ3JhZGVkIHRvIGEgcmVzdHJpY3RlZCB1c2VyIGJ5
      IHVwZ3JhZGluZy4gQWRtaW4gbmVlZCB0byBjcmVhdGUgYSBuZXcgcmVzdHJpY3RlZCB1c2VyIGZv
      ciB0aGlzIGJ5IHJlLXJ1bm5pbmcgdGhlIHNjcmlwdC4iKwogICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICJVcGdyYWRlIGZsYWcgc2hvdWxkIG9ubHkgYmUgdXNlZCB0byBhcHBlbmQg
      bmV3IHBlcm1pc3Npb25zIHRvIHVzZXJzLCBpdCBzaG91bGRuJ3QgYmUgdXNlZCBmb3IgY2hhbmdp
      bmcgdXNlciBhbHJlYWR5IGFwcGxpZWQgcGVybWlzc2lvbiwgZm9yIGV4YW1wbGUgeW91IHNob3Vs
      ZG4ndCBjaGFuZ2UgaW4gd2hpY2ggcG9vbCB1c2VyIGhhcyBhY2Nlc3MiKQoKICAgICAgICBpZiBh
      cmdzX3RvX3BhcnNlOgogICAgICAgICAgICBhc3NlcnQgdHlwZShhcmdzX3RvX3BhcnNlKSA9PSBs
      aXN0LCBcCiAgICAgICAgICAgICAgICAiQXJndW1lbnQgdG8gJ2dlbl9hcmdfcGFyc2VyJyBzaG91
      bGQgYmUgYSBsaXN0IgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFyZ3NfdG9fcGFyc2UgPSBz
      eXMuYXJndlsxOl0KICAgICAgICByZXR1cm4gYXJnUC5wYXJzZV9hcmdzKGFyZ3NfdG9fcGFyc2Up
      CgogICAgZGVmIHZhbGlkYXRlX3Jnd19tZXRhZGF0YV9lY19wb29sX25hbWUoc2VsZik6CiAgICAg
      ICAgaWYgc2VsZi5fYXJnX3BhcnNlci5yYmRfbWV0YWRhdGFfZWNfcG9vbF9uYW1lOgogICAgICAg
      ICAgICByYmRfbWV0YWRhdGFfZWNfcG9vbF9uYW1lID0gc2VsZi5fYXJnX3BhcnNlci5yYmRfbWV0
      YWRhdGFfZWNfcG9vbF9uYW1lCiAgICAgICAgICAgIHJiZF9wb29sX25hbWUgPSBzZWxmLl9hcmdf
      cGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQoKICAgICAgICAgICAgaWYgcmJkX3Bvb2xfbmFtZSA9
      PSAiIjoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAg
      ICAgICAgICAgICAgICAgICAgIkZsYWcgJy0tcmJkLWRhdGEtcG9vbC1uYW1lJyBzaG91bGQgbm90
      IGJlIGVtcHR5IgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgaWYgcmJkX21ldGFkYXRh
      X2VjX3Bvb2xfbmFtZSA9PSAiIjoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1
      cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgIkZsYWcgJy0tcmJkLW1ldGFkYXRhLWVj
      LXBvb2wtbmFtZScgc2hvdWxkIG5vdCBiZSBlbXB0eSIKICAgICAgICAgICAgICAgICkKCiAgICAg
      ICAgICAgIGNtZF9qc29uID0gewogICAgICAgICAgICAgICAgInByZWZpeCI6ICJvc2QgZHVtcCIs
      ICJmb3JtYXQiOiAianNvbiIKICAgICAgICAgICAgfQogICAgICAgICAgICByZXRfdmFsLCBqc29u
      X291dCwgZXJyX21zZyA9IHNlbGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAg
      ICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAg
      ICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAg
      ICJ7fSIuZm9ybWF0KGNtZF9qc29uWydwcmVmaXgnXSkgKyAiIGNvbW1hbmQgZmFpbGVkLlxuIiAr
      CiAgICAgICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cgaWYgcmV0X3Zh
      bCAhPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwIGVsc2Ugc2VsZi5F
      TVBUWV9PVVRQVVRfTElTVCkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgbWV0YWRhdGFf
      cG9vbF9leGlzdCwgcG9vbF9leGlzdCA9IEZhbHNlLCBGYWxzZQoKICAgICAgICAgICAgZm9yIGtl
      eSBpbiBqc29uX291dFsncG9vbHMnXToKICAgICAgICAgICAgICAgICMgaWYgZXJhc3VyZV9jb2Rl
      X3Byb2ZpbGUgaXMgZW1wdHkgYW5kIHBvb2wgbmFtZSBleGlzdHMgdGhlbiBpdCByZXBsaWNhIHBv
      b2wKICAgICAgICAgICAgICAgIGlmIGtleVsnZXJhc3VyZV9jb2RlX3Byb2ZpbGUnXSA9PSAiIiBh
      bmQga2V5Wydwb29sX25hbWUnXSA9PSByYmRfbWV0YWRhdGFfZWNfcG9vbF9uYW1lOgogICAgICAg
      ICAgICAgICAgICAgIG1ldGFkYXRhX3Bvb2xfZXhpc3QgPSBUcnVlCiAgICAgICAgICAgICAgICAj
      IGlmIGVyYXN1cmVfY29kZV9wcm9maWxlIGlzIG5vdCBlbXB0eSBhbmQgcG9vbCBuYW1lIGV4aXN0
      cyB0aGVuIGl0IGlzIGVjIHBvb2wKICAgICAgICAgICAgICAgIGlmIGtleVsnZXJhc3VyZV9jb2Rl
      X3Byb2ZpbGUnXSBhbmQga2V5Wydwb29sX25hbWUnXSA9PSByYmRfcG9vbF9uYW1lOgogICAgICAg
      ICAgICAgICAgICAgIHBvb2xfZXhpc3QgPSBUcnVlCgogICAgICAgICAgICBpZiBub3QgbWV0YWRh
      dGFfcG9vbF9leGlzdDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNl
      cHRpb24oCiAgICAgICAgICAgICAgICAgICAgIlByb3ZpZGVkIHJiZF9lY19tZXRhZGF0YV9wb29s
      IG5hbWUsIHt9LCBkb2VzIG5vdCBleGlzdCIuZm9ybWF0KHJiZF9tZXRhZGF0YV9lY19wb29sX25h
      bWUpKQogICAgICAgICAgICBpZiBub3QgcG9vbF9leGlzdDoKICAgICAgICAgICAgICAgIHJhaXNl
      IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgIlByb3ZpZGVk
      IHJiZF9kYXRhX3Bvb2wgbmFtZSwge30sIGRvZXMgbm90IGV4aXN0Ii5mb3JtYXQocmJkX3Bvb2xf
      bmFtZSkpCiAgICAgICAgICAgIHJldHVybiByYmRfbWV0YWRhdGFfZWNfcG9vbF9uYW1lCgogICAg
      ZGVmIGRyeV9ydW4oc2VsZiwgbXNnKToKICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9y
      dW46CiAgICAgICAgICAgIHByaW50KCJFeGVjdXRlOiAiICsgIiciICsgbXNnICsgIiciKQoKICAg
      IGRlZiB2YWxpZGF0ZV9yZ3dfZW5kcG9pbnRfdGxzX2NlcnQoc2VsZik6CiAgICAgICAgaWYgc2Vs
      Zi5fYXJnX3BhcnNlci5yZ3dfdGxzX2NlcnRfcGF0aDoKICAgICAgICAgICAgd2l0aCBvcGVuKHNl
      bGYuX2FyZ19wYXJzZXIucmd3X3Rsc19jZXJ0X3BhdGgsIGVuY29kaW5nPSd1dGY4JykgYXMgZjoK
      ICAgICAgICAgICAgICAgIGNvbnRlbnRzID0gZi5yZWFkKCkKICAgICAgICAgICAgICAgIHJldHVy
      biBjb250ZW50cy5yc3RyaXAoKQoKICAgIGRlZiBfY2hlY2tfY29uZmxpY3Rpbmdfb3B0aW9ucyhz
      ZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5fYXJnX3BhcnNlci51cGdyYWRlIGFuZCBub3Qgc2Vs
      Zi5fYXJnX3BhcnNlci5yYmRfZGF0YV9wb29sX25hbWU6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1
      dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiRWl0aGVyICctLXVwZ3JhZGUn
      IG9yICctLXJiZC1kYXRhLXBvb2wtbmFtZSA8cG9vbF9uYW1lPicgc2hvdWxkIGJlIHNwZWNpZmll
      ZCIpCgogICAgZGVmIF9pbnZhbGlkX2VuZHBvaW50KHNlbGYsIGVuZHBvaW50X3N0cik6CiAgICAg
      ICAgdHJ5OgogICAgICAgICAgICBpcHY0LCBwb3J0ID0gZW5kcG9pbnRfc3RyLnNwbGl0KCc6JykK
      ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFp
      bHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJOb3QgYSBwcm9wZXIgZW5kcG9pbnQ6IHt9
      LCA8SVB2ND46PFBPUlQ+LCBmb3JtYXQgaXMgZXhwZWN0ZWQiLmZvcm1hdChlbmRwb2ludF9zdHIp
      KQogICAgICAgIGlwUGFydHMgPSBpcHY0LnNwbGl0KCcuJykKICAgICAgICBpZiBsZW4oaXBQYXJ0
      cykgIT0gNDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAg
      ICAgICAgICAgICAgICJOb3QgYSB2YWxpZCBJUCBhZGRyZXNzOiB7fSIuZm9ybWF0KGlwdjQpKQog
      ICAgICAgIGZvciBlYWNoUGFydCBpbiBpcFBhcnRzOgogICAgICAgICAgICBpZiBub3QgZWFjaFBh
      cnQuaXNkaWdpdCgpOgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2Vw
      dGlvbigKICAgICAgICAgICAgICAgICAgICAiSVAgYWRkcmVzcyBwYXJ0cyBzaG91bGQgYmUgbnVt
      YmVyczoge30iLmZvcm1hdChpcHY0KSkKICAgICAgICAgICAgaW50UGFydCA9IGludChlYWNoUGFy
      dCkKICAgICAgICAgICAgaWYgaW50UGFydCA8IDAgb3IgaW50UGFydCA+IDI1NDoKICAgICAgICAg
      ICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAg
      ICAgIk91dCBvZiByYW5nZSBJUCBhZGRyZXNzZXM6IHt9Ii5mb3JtYXQoaXB2NCkpCiAgICAgICAg
      aWYgbm90IHBvcnQuaXNkaWdpdCgpOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJl
      RXhjZXB0aW9uKCJQb3J0IG5vdCB2YWxpZDoge30iLmZvcm1hdChwb3J0KSkKICAgICAgICBpbnRQ
      b3J0ID0gaW50KHBvcnQpCiAgICAgICAgaWYgaW50UG9ydCA8IDEgb3IgaW50UG9ydCA+IDIqKjE2
      LTE6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAg
      ICAgICAgICAiT3V0IG9mIHJhbmdlIHBvcnQgbnVtYmVyOiB7fSIuZm9ybWF0KHBvcnQpKQogICAg
      ICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBlbmRwb2ludF9kaWFsKHNlbGYsIGVuZHBvaW50X3N0
      ciwgdGltZW91dD0zLCBjZXJ0PU5vbmUpOgogICAgICAgICMgaWYgdGhlICdjbHVzdGVyJyBpbnN0
      YW5jZSBpcyBhIGR1bW15IG9uZSwKICAgICAgICAjIGRvbid0IHRyeSB0byByZWFjaCBvdXQgdG8g
      dGhlIGVuZHBvaW50CiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNsdXN0ZXIsIER1bW15UmFk
      b3MpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBwcm90b2NvbHMgPSBbImh0dHAiLCAiaHR0
      cHMiXQogICAgICAgIGZvciBwcmVmaXggaW4gcHJvdG9jb2xzOgogICAgICAgICAgICB0cnk6CiAg
      ICAgICAgICAgICAgICBlcCA9ICJ7fTovL3t9Ii5mb3JtYXQocHJlZml4LCBlbmRwb2ludF9zdHIp
      CiAgICAgICAgICAgICAgICAjIElmIHZlcmlmeSBpcyBzZXQgdG8gYSBwYXRoIHRvIGEgZGlyZWN0
      b3J5LAogICAgICAgICAgICAgICAgIyB0aGUgZGlyZWN0b3J5IG11c3QgaGF2ZSBiZWVuIHByb2Nl
      c3NlZCB1c2luZyB0aGUgY19yZWhhc2ggdXRpbGl0eSBzdXBwbGllZCB3aXRoIE9wZW5TU0wuCiAg
      ICAgICAgICAgICAgICBpZiBwcmVmaXggPT0gImh0dHBzIiBhbmQgY2VydCBhbmQgc2VsZi5fYXJn
      X3BhcnNlci5yZ3dfc2tpcF90bHM6CiAgICAgICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLmhl
      YWQoZXAsIHRpbWVvdXQ9dGltZW91dCwgdmVyaWZ5PUZhbHNlKQogICAgICAgICAgICAgICAgZWxp
      ZiBwcmVmaXggPT0gImh0dHBzIiBhbmQgY2VydDoKICAgICAgICAgICAgICAgICAgICByID0gcmVx
      dWVzdHMuaGVhZChlcCwgdGltZW91dD10aW1lb3V0LCB2ZXJpZnk9Y2VydCkKICAgICAgICAgICAg
      ICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLmhlYWQoZXAsIHRpbWVv
      dXQ9dGltZW91dCkKICAgICAgICAgICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAg
      ICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAg
      ICBjb250aW51ZQogICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAg
      ICAgICAgICJ1bmFibGUgdG8gY29ubmVjdCB0byBlbmRwb2ludDoge30iLmZvcm1hdChlbmRwb2lu
      dF9zdHIpKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhcmdfbGlzdD1Ob25lKToKICAgICAgICBz
      ZWxmLm91dF9tYXAgPSB7fQogICAgICAgIHNlbGYuX2V4Y2x1ZGVkX2tleXMgPSBzZXQoKQogICAg
      ICAgIHNlbGYuX2FyZ19wYXJzZXIgPSBzZWxmLmdlbl9hcmdfcGFyc2VyKGFyZ3NfdG9fcGFyc2U9
      YXJnX2xpc3QpCiAgICAgICAgc2VsZi5fY2hlY2tfY29uZmxpY3Rpbmdfb3B0aW9ucygpCiAgICAg
      ICAgc2VsZi5ydW5fYXNfdXNlciA9IHNlbGYuX2FyZ19wYXJzZXIucnVuX2FzX3VzZXIKICAgICAg
      ICBzZWxmLm91dHB1dF9maWxlID0gc2VsZi5fYXJnX3BhcnNlci5vdXRwdXQKICAgICAgICBzZWxm
      LmNlcGhfY29uZiA9IHNlbGYuX2FyZ19wYXJzZXIuY2VwaF9jb25mCiAgICAgICAgc2VsZi5NSU5f
      VVNFUl9DQVBfUEVSTUlTU0lPTlMgPSB7CiAgICAgICAgICAgICdtZ3InOiAnYWxsb3cgY29tbWFu
      ZCBjb25maWcnLAogICAgICAgICAgICAnbW9uJzogJ2FsbG93IHIsIGFsbG93IGNvbW1hbmQgcXVv
      cnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJzaW9uJywKICAgICAgICAgICAgJ29zZCc6ICJh
      bGxvdyByd3ggcG9vbD17MH0ucmd3Lm1ldGEsICIgKwogICAgICAgICAgICAiYWxsb3cgciBwb29s
      PS5yZ3cucm9vdCwgIiArCiAgICAgICAgICAgICJhbGxvdyBydyBwb29sPXswfS5yZ3cuY29udHJv
      bCwgIiArCiAgICAgICAgICAgICJhbGxvdyByeCBwb29sPXswfS5yZ3cubG9nLCAiICsKICAgICAg
      ICAgICAgImFsbG93IHggcG9vbD17MH0ucmd3LmJ1Y2tldHMuaW5kZXgiCiAgICAgICAgfQogICAg
      ICAgICMgaWYgdXNlciBub3QgcHJvdmlkZWQsIGdpdmUgYSBkZWZhdWx0IHVzZXIKICAgICAgICBp
      ZiBub3Qgc2VsZi5ydW5fYXNfdXNlciBhbmQgbm90IHNlbGYuX2FyZ19wYXJzZXIudXBncmFkZToK
      ICAgICAgICAgICAgc2VsZi5ydW5fYXNfdXNlciA9IHNlbGYuRVhURVJOQUxfVVNFUl9OQU1FCiAg
      ICAgICAgaWYgbm90IHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4IGFuZCBub3Qgc2Vs
      Zi5fYXJnX3BhcnNlci51cGdyYWRlOgogICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLnJnd19w
      b29sX3ByZWZpeCA9IHNlbGYuREVGQVVMVF9SR1dfUE9PTF9QUkVGSVgKICAgICAgICBpZiBzZWxm
      LmNlcGhfY29uZjoKICAgICAgICAgICAgc2VsZi5jbHVzdGVyID0gcmFkb3MuUmFkb3MoY29uZmZp
      bGU9c2VsZi5jZXBoX2NvbmYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5jbHVzdGVy
      ID0gcmFkb3MuUmFkb3MoKQogICAgICAgICAgICBzZWxmLmNsdXN0ZXIuY29uZl9yZWFkX2ZpbGUo
      KQogICAgICAgIHNlbGYuY2x1c3Rlci5jb25uZWN0KCkKCiAgICBkZWYgc2h1dGRvd24oc2VsZik6
      CiAgICAgICAgaWYgc2VsZi5jbHVzdGVyLnN0YXRlID09ICJjb25uZWN0ZWQiOgogICAgICAgICAg
      ICBzZWxmLmNsdXN0ZXIuc2h1dGRvd24oKQoKICAgIGRlZiBnZXRfZnNpZChzZWxmKToKICAgICAg
      ICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBzZWxmLmRy
      eV9ydW4oImNlcGggZnNpZCIpCiAgICAgICAgcmV0dXJuIHN0cihzZWxmLmNsdXN0ZXIuZ2V0X2Zz
      aWQoKSkKCiAgICBkZWYgX2NvbW1vbl9jbWRfanNvbl9nZW4oc2VsZiwgY21kX2pzb24pOgogICAg
      ICAgIGNtZCA9IGpzb24uZHVtcHMoY21kX2pzb24sIHNvcnRfa2V5cz1UcnVlKQogICAgICAgIHJl
      dF92YWwsIGNtZF9vdXQsIGVycl9tc2cgPSBzZWxmLmNsdXN0ZXIubW9uX2NvbW1hbmQoY21kLCBi
      JycpCiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci52ZXJib3NlOgogICAgICAgICAgICBwcmlu
      dCgiQ29tbWFuZCBJbnB1dDoge30iLmZvcm1hdChjbWQpKQogICAgICAgICAgICBwcmludCgiUmV0
      dXJuIFZhbDoge31cbkNvbW1hbmQgT3V0cHV0OiB7fVxuRXJyb3IgTWVzc2FnZToge31cbi0tLS0t
      LS0tLS1cbiIuZm9ybWF0KAogICAgICAgICAgICAgICAgICByZXRfdmFsLCBjbWRfb3V0LCBlcnJf
      bXNnKSkKICAgICAgICBqc29uX291dCA9IHt9CiAgICAgICAgIyBpZiB0aGVyZSBpcyBubyBlcnJv
      ciAoaS5lOyByZXRfdmFsIGlzIFpFUk8pIGFuZCAnY21kX291dCcgaXMgbm90IGVtcHR5CiAgICAg
      ICAgIyB0aGVuIGNvbnZlcnQgJ2NtZF9vdXQnIHRvIGEganNvbiBvdXRwdXQKICAgICAgICBpZiBy
      ZXRfdmFsID09IDAgYW5kIGNtZF9vdXQ6CiAgICAgICAgICAgIGpzb25fb3V0ID0ganNvbi5sb2Fk
      cyhjbWRfb3V0KQogICAgICAgIHJldHVybiByZXRfdmFsLCBqc29uX291dCwgZXJyX21zZwoKICAg
      IGRlZiBnZXRfY2VwaF9leHRlcm5hbF9tb25fZGF0YShzZWxmKToKICAgICAgICBjbWRfanNvbiA9
      IHsicHJlZml4IjogInF1b3J1bV9zdGF0dXMiLCAiZm9ybWF0IjogImpzb24ifQogICAgICAgIGlm
      IHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuZHJ5X3J1
      bigiY2VwaCAiICsgY21kX2pzb25bJ3ByZWZpeCddKQogICAgICAgIHJldF92YWwsIGpzb25fb3V0
      LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAj
      IGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJldF92YWwg
      IT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZh
      aWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ3F1b3J1bV9zdGF0dXMnIGNvbW1hbmQg
      ZmFpbGVkLlxuIiArCiAgICAgICAgICAgICAgICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJyX21zZyBp
      ZiByZXRfdmFsICE9IDAgZWxzZSBzZWxmLkVNUFRZX09VVFBVVF9MSVNUKSkKICAgICAgICBxX2xl
      YWRlcl9uYW1lID0ganNvbl9vdXRbJ3F1b3J1bV9sZWFkZXJfbmFtZSddCiAgICAgICAgcV9sZWFk
      ZXJfZGV0YWlscyA9IHt9CiAgICAgICAgcV9sZWFkZXJfbWF0Y2hpbmdfbGlzdCA9IFtsIGZvciBs
      IGluIGpzb25fb3V0Wydtb25tYXAnXVsnbW9ucyddCiAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICBpZiBsWyduYW1lJ10gPT0gcV9sZWFkZXJfbmFtZV0KICAgICAgICBpZiBsZW4ocV9s
      ZWFkZXJfbWF0Y2hpbmdfbGlzdCkgPT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFp
      bHVyZUV4Y2VwdGlvbigiTm8gbWF0Y2hpbmcgJ21vbicgZGV0YWlscyBmb3VuZCIpCiAgICAgICAg
      cV9sZWFkZXJfZGV0YWlscyA9IHFfbGVhZGVyX21hdGNoaW5nX2xpc3RbMF0KICAgICAgICAjIGdl
      dCB0aGUgYWRkcmVzcyB2ZWN0b3Igb2YgdGhlIHF1b3J1bS1sZWFkZXIKICAgICAgICBxX2xlYWRl
      cl9hZGRydmVjID0gcV9sZWFkZXJfZGV0YWlscy5nZXQoCiAgICAgICAgICAgICdwdWJsaWNfYWRk
      cnMnLCB7fSkuZ2V0KCdhZGRydmVjJywgW10pCiAgICAgICAgIyBpZiB0aGUgcXVvcnVtLWxlYWRl
      ciBoYXMgb25seSBvbmUgYWRkcmVzcyBpbiB0aGUgYWRkcmVzcy12ZWN0b3IKICAgICAgICAjIGFu
      ZCBpdCBpcyBvZiB0eXBlICd2MicgKGllOyB3aXRoIDxJUD46MzMwMCksCiAgICAgICAgIyByYWlz
      ZSBhbiBleGNlcHRpb24gdG8gbWFrZSB1c2VyIGF3YXJlIHRoYXQKICAgICAgICAjIHRoZXkgaGF2
      ZSB0byBlbmFibGUgJ3YxJyAoaWU7IHdpdGggPElQPjo2Nzg5KSB0eXBlIGFzIHdlbGwKICAgICAg
      ICBpZiBsZW4ocV9sZWFkZXJfYWRkcnZlYykgPT0gMSBhbmQgcV9sZWFkZXJfYWRkcnZlY1swXVsn
      dHlwZSddID09ICd2Mic6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24oCiAgICAgICAgICAgICAgICAiT25seSAndjInIGFkZHJlc3MgdHlwZSBpcyBlbmFibGVkLCB1
      c2VyIHNob3VsZCBhbHNvIGVuYWJsZSAndjEnIHR5cGUgYXMgd2VsbCIpCiAgICAgICAgaXBfcG9y
      dCA9IHN0cihxX2xlYWRlcl9kZXRhaWxzWydwdWJsaWNfYWRkciddLnNwbGl0KCcvJylbMF0pCiAg
      ICAgICAgcmV0dXJuICJ7fT17fSIuZm9ybWF0KHN0cihxX2xlYWRlcl9uYW1lKSwgaXBfcG9ydCkK
      CiAgICBkZWYgX2pvaW5faG9zdF9wb3J0KHNlbGYsIGVuZHBvaW50LCBwb3J0KToKICAgICAgICBw
      b3J0ID0gInt9Ii5mb3JtYXQocG9ydCkKICAgICAgICAjIHJlZ2V4IHRvIGNoZWNrIHRoZSBnaXZl
      biBlbmRwb2ludCBpcyBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMKICAgICAgICBpcHY2X3Jl
      Z3ggPSByZS5jb21waWxlKHInXlxbW15dXSpcXSQnKQogICAgICAgICMgZW5kcG9pbnQgaGFzICc6
      JyBpbiBpdCBhbmQgaWYgbm90IChhbHJlYWR5KSBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMK
      ICAgICAgICBpZiBlbmRwb2ludC5jb3VudCgnOicpIGFuZCBub3QgaXB2Nl9yZWd4Lm1hdGNoKGVu
      ZHBvaW50KToKICAgICAgICAgICAgZW5kcG9pbnQgPSAnW3t9XScuZm9ybWF0KGVuZHBvaW50KQog
      ICAgICAgIGlmIG5vdCBwb3J0OgogICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQKICAgICAgICBy
      ZXR1cm4gJzonLmpvaW4oW2VuZHBvaW50LCBwb3J0XSkKCiAgICBkZWYgX2NvbnZlcnRfaG9zdG5h
      bWVfdG9faXAoc2VsZiwgaG9zdF9uYW1lKToKICAgICAgICAjIGlmICdjbHVzdGVyJyBpbnN0YW5j
      ZSBpcyBhIGR1bW15IHR5cGUsCiAgICAgICAgIyBjYWxsIHRoZSBkdW1teSBpbnN0YW5jZSdzICJj
      b252ZXJ0IiBtZXRob2QKICAgICAgICBpZiBub3QgaG9zdF9uYW1lOgogICAgICAgICAgICByYWlz
      ZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCJFbXB0eSBob3N0bmFtZSBwcm92aWRlZCIpCiAg
      ICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNsdXN0ZXIsIER1bW15UmFkb3MpOgogICAgICAgICAg
      ICByZXR1cm4gc2VsZi5jbHVzdGVyLl9jb252ZXJ0X2hvc3RuYW1lX3RvX2lwKGhvc3RfbmFtZSkK
      ICAgICAgICBpbXBvcnQgc29ja2V0CiAgICAgICAgaXAgPSBzb2NrZXQuZ2V0aG9zdGJ5bmFtZSho
      b3N0X25hbWUpCiAgICAgICAgZGVsIHNvY2tldAogICAgICAgIHJldHVybiBpcAoKICAgIGRlZiBn
      ZXRfYWN0aXZlX2FuZF9zdGFuZGJ5X21ncnMoc2VsZik6CiAgICAgICAgaWYgc2VsZi5fYXJnX3Bh
      cnNlci5kcnlfcnVuOgogICAgICAgICAgICByZXR1cm4gIiIsIHNlbGYuZHJ5X3J1bigiY2VwaCBz
      dGF0dXMiKQogICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9IHNlbGYuX2FyZ19wYXJz
      ZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0CiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9p
      cF9saXN0ID0gc2VsZi5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50CiAgICAgICAgc3Rh
      bmRieV9tZ3JzID0gW10KICAgICAgICBpZiBub3QgbW9uaXRvcmluZ19lbmRwb2ludF9pcF9saXN0
      OgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogInN0YXR1cyIsICJmb3JtYXQiOiAi
      anNvbiJ9CiAgICAgICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29t
      bW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAgICAgIyBpZiB0aGVyZSBpcyBhbiB1
      bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwKICAgICAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihq
      c29uX291dCkgPT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNl
      cHRpb24oCiAgICAgICAgICAgICAgICAgICAgIidtZ3Igc2VydmljZXMnIGNvbW1hbmQgZmFpbGVk
      LlxuIiArCiAgICAgICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cgaWYg
      cmV0X3ZhbCAhPSAwIGVsc2Ugc2VsZi5FTVBUWV9PVVRQVVRfTElTVCkpCiAgICAgICAgICAgIG1v
      bml0b3JpbmdfZW5kcG9pbnQgPSBqc29uX291dC5nZXQoJ21ncm1hcCcsIHt9KS5nZXQoCiAgICAg
      ICAgICAgICAgICAnc2VydmljZXMnLCB7fSkuZ2V0KCdwcm9tZXRoZXVzJywgJycpCiAgICAgICAg
      ICAgIGlmIG5vdCBtb25pdG9yaW5nX2VuZHBvaW50OgogICAgICAgICAgICAgICAgcmFpc2UgRXhl
      Y3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiJ3Byb21ldGhldXMn
      IHNlcnZpY2Ugbm90IGZvdW5kLCBpcyB0aGUgZXhwb3J0ZXIgZW5hYmxlZD8nLlxuIikKICAgICAg
      ICAgICAgIyBub3cgY2hlY2sgdGhlIHN0YW5kLWJ5IG1nci1zCiAgICAgICAgICAgIHN0YW5kYnlf
      YXJyID0ganNvbl9vdXQuZ2V0KCdtZ3JtYXAnLCB7fSkuZ2V0KCdzdGFuZGJ5cycsIFtdKQogICAg
      ICAgICAgICBmb3IgZWFjaF9zdGFuZGJ5IGluIHN0YW5kYnlfYXJyOgogICAgICAgICAgICAgICAg
      aWYgJ25hbWUnIGluIGVhY2hfc3RhbmRieS5rZXlzKCk6CiAgICAgICAgICAgICAgICAgICAgc3Rh
      bmRieV9tZ3JzLmFwcGVuZChlYWNoX3N0YW5kYnlbJ25hbWUnXSkKICAgICAgICAgICAgdHJ5Ogog
      ICAgICAgICAgICAgICAgcGFyc2VkX2VuZHBvaW50ID0gdXJscGFyc2UobW9uaXRvcmluZ19lbmRw
      b2ludCkKICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICByYWlz
      ZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJpbnZhbGlk
      IGVuZHBvaW50OiB7fSIuZm9ybWF0KG1vbml0b3JpbmdfZW5kcG9pbnQpKQogICAgICAgICAgICBt
      b25pdG9yaW5nX2VuZHBvaW50X2lwX2xpc3QgPSBwYXJzZWRfZW5kcG9pbnQuaG9zdG5hbWUKICAg
      ICAgICAgICAgaWYgbm90IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydDoKICAgICAgICAgICAgICAg
      IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9ICJ7fSIuZm9ybWF0KHBhcnNlZF9lbmRwb2ludC5w
      b3J0KQoKICAgICAgICAjIGlmIG1vbml0b3JpbmcgZW5kcG9pbnQgcG9ydCBpcyBub3Qgc2V0LCBw
      dXQgYSBkZWZhdWx0IG1vbiBwb3J0CiAgICAgICAgaWYgbm90IG1vbml0b3JpbmdfZW5kcG9pbnRf
      cG9ydDoKICAgICAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gc2VsZi5ERUZBVUxU
      X01PTklUT1JJTkdfRU5EUE9JTlRfUE9SVAoKICAgICAgICAjIHVzZXIgY291bGQgZ2l2ZSBjb21t
      YSBhbmQgc3BhY2Ugc2VwYXJhdGVkIGlucHV0cyAobGlrZSAtLW1vbml0b3JpbmctZW5kcG9pbnQ9
      IjxpcDE+LCA8aXAyPiIpCiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9pcF9saXN0ID0gbW9u
      aXRvcmluZ19lbmRwb2ludF9pcF9saXN0LnJlcGxhY2UoCiAgICAgICAgICAgICIsIiwgIiAiKQog
      ICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfaXBfbGlzdF9zcGxpdCA9IG1vbml0b3JpbmdfZW5k
      cG9pbnRfaXBfbGlzdC5zcGxpdCgpCiAgICAgICAgIyBpZiBtb25pdG9yaW5nLWVuZHBvaW50IGNv
      dWxkIG5vdCBiZSBmb3VuZCwgcmFpc2UgYW4gZXJyb3IKICAgICAgICBpZiBsZW4obW9uaXRvcmlu
      Z19lbmRwb2ludF9pcF9saXN0X3NwbGl0KSA9PSAwOgogICAgICAgICAgICByYWlzZSBFeGVjdXRp
      b25GYWlsdXJlRXhjZXB0aW9uKCJObyAnbW9uaXRvcmluZy1lbmRwb2ludCcgZm91bmQiKQogICAg
      ICAgICMgZmlyc3QgaXAgaXMgdHJlYXRlZCBhcyB0aGUgbWFpbiBtb25pdG9yaW5nLWVuZHBvaW50
      CiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9pcCA9IG1vbml0b3JpbmdfZW5kcG9pbnRfaXBf
      bGlzdF9zcGxpdFswXQogICAgICAgICMgcmVzdCBvZiB0aGUgaXAtcyBhcmUgYWRkZWQgdG8gdGhl
      ICdzdGFuZGJ5X21ncnMnIGxpc3QKICAgICAgICBzdGFuZGJ5X21ncnMuZXh0ZW5kKG1vbml0b3Jp
      bmdfZW5kcG9pbnRfaXBfbGlzdF9zcGxpdFsxOl0pCgogICAgICAgIHRyeToKICAgICAgICAgICAg
      ZmFpbGVkX2lwID0gbW9uaXRvcmluZ19lbmRwb2ludF9pcAogICAgICAgICAgICBtb25pdG9yaW5n
      X2VuZHBvaW50X2lwID0gc2VsZi5fY29udmVydF9ob3N0bmFtZV90b19pcCgKICAgICAgICAgICAg
      ICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfaXApCiAgICAgICAgICAgICMgY29sbGVjdCBhbGwgdGhl
      ICdzdGFuZC1ieScgbWdyIGlwcwogICAgICAgICAgICBtZ3JfaXBzID0gW10KICAgICAgICAgICAg
      Zm9yIGVhY2hfc3RhbmRieV9tZ3IgaW4gc3RhbmRieV9tZ3JzOgogICAgICAgICAgICAgICAgZmFp
      bGVkX2lwID0gZWFjaF9zdGFuZGJ5X21ncgogICAgICAgICAgICAgICAgbWdyX2lwcy5hcHBlbmQo
      CiAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29udmVydF9ob3N0bmFtZV90b19pcChlYWNoX3N0
      YW5kYnlfbWdyKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZh
      aWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiQ29udmVyc2lvbiBvZiBob3N0OiB7fSB0
      byBJUCBmYWlsZWQuICIKICAgICAgICAgICAgICAgICJQbGVhc2UgZW50ZXIgdGhlIElQIGFkZHJl
      c3NlcyBvZiBhbGwgdGhlIGNlcGgtbWdycyB3aXRoIHRoZSAnLS1tb25pdG9yaW5nLWVuZHBvaW50
      JyBmbGFnIi5mb3JtYXQoZmFpbGVkX2lwKSkKICAgICAgICBtb25pdG9yaW5nX2VuZHBvaW50ID0g
      c2VsZi5fam9pbl9ob3N0X3BvcnQoCiAgICAgICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfaXAs
      IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCkKICAgICAgICBzZWxmLl9pbnZhbGlkX2VuZHBvaW50
      KG1vbml0b3JpbmdfZW5kcG9pbnQpCiAgICAgICAgc2VsZi5lbmRwb2ludF9kaWFsKG1vbml0b3Jp
      bmdfZW5kcG9pbnQpCgogICAgICAgICMgYWRkIHRoZSB2YWxpZGF0ZWQgYWN0aXZlIG1nciBJUCBp
      bnRvIHRoZSBmaXJzdCBpbmRleAogICAgICAgIG1ncl9pcHMuaW5zZXJ0KDAsIG1vbml0b3Jpbmdf
      ZW5kcG9pbnRfaXApCiAgICAgICAgYWxsX21ncl9pcHNfc3RyID0gIiwiLmpvaW4obWdyX2lwcykK
      ICAgICAgICByZXR1cm4gYWxsX21ncl9pcHNfc3RyLCBtb25pdG9yaW5nX2VuZHBvaW50X3BvcnQK
      CiAgICBkZWYgY2hlY2tfdXNlcl9leGlzdChzZWxmLHVzZXIpOgogICAgICAgIGNtZF9qc29uID0g
      eyJwcmVmaXgiOiAiYXV0aCBnZXQiLCAiZW50aXR5IjogInt9Ii5mb3JtYXQoCiAgICAgICAgICAg
      IHVzZXIpLCAiZm9ybWF0IjogImpzb24ifQogICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBfID0g
      c2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICBpZiByZXRfdmFsICE9
      IDAgb3IgbGVuKGpzb25fb3V0KSA9PSAwOgogICAgICAgICAgICByZXR1cm4gIiIKICAgICAgICBy
      ZXR1cm4gc3RyKGpzb25fb3V0WzBdWydrZXknXSkKICAgIAogICAgZGVmIGdldF9jZXBoZnNfcHJv
      dmlzaW9uZXJfY2Fwc19hbmRfZW50aXR5KHNlbGYpOgogICAgICAgIGVudGl0eSA9ICJjbGllbnQu
      Y3NpLWNlcGhmcy1wcm92aXNpb25lciIKICAgICAgICBjYXBzID0geyJtb24iOiAiYWxsb3cgciwg
      YWxsb3cgY29tbWFuZCAnb3NkIGJsb2NrbGlzdCciLAogICAgICAgICAgICAgICAgIm1nciI6ICJh
      bGxvdyBydyIsCiAgICAgICAgICAgICAgICAib3NkIjogImFsbG93IHJ3IHRhZyBjZXBoZnMgbWV0
      YWRhdGE9KiJ9CiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVy
      bWlzc2lvbjoKICAgICAgICAgICAgY2x1c3Rlcl9uYW1lID0gc2VsZi5fYXJnX3BhcnNlci5jbHVz
      dGVyX25hbWUKICAgICAgICAgICAgaWYgY2x1c3Rlcl9uYW1lID09ICIiOgogICAgICAgICAgICAg
      ICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAi
      Y2x1c3Rlcl9uYW1lIG5vdCBmb3VuZCwgcGxlYXNlIHNldCB0aGUgJy0tY2x1c3Rlci1uYW1lJyBm
      bGFnIikKICAgICAgICAgICAgY2VwaGZzX2ZpbGVzeXN0ZW0gPSBzZWxmLl9hcmdfcGFyc2VyLmNl
      cGhmc19maWxlc3lzdGVtX25hbWUKICAgICAgICAgICAgaWYgY2VwaGZzX2ZpbGVzeXN0ZW0gPT0g
      IiI6CiAgICAgICAgICAgICAgICBlbnRpdHkgPSAie30te30iLmZvcm1hdChlbnRpdHksY2x1c3Rl
      cl9uYW1lKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZW50aXR5ID0gInt9LXt9
      LXt9Ii5mb3JtYXQoZW50aXR5LGNsdXN0ZXJfbmFtZSxjZXBoZnNfZmlsZXN5c3RlbSkKICAgICAg
      ICAgICAgICAgIGNhcHNbIm9zZCJdID0gImFsbG93IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9e30i
      LmZvcm1hdChjZXBoZnNfZmlsZXN5c3RlbSkKICAgICAgICAKICAgICAgICByZXR1cm4gY2Fwcyxl
      bnRpdHkKICAgIAogICAgZGVmIGdldF9jZXBoZnNfbm9kZV9jYXBzX2FuZF9lbnRpdHkoc2VsZik6
      CiAgICAgICAgZW50aXR5ID0gImNsaWVudC5jc2ktY2VwaGZzLW5vZGUiCiAgICAgICAgY2FwcyA9
      IHsibW9uIjogImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwKICAgICAg
      ICAgICAgICAgICJtZ3IiOiAiYWxsb3cgcnciLAogICAgICAgICAgICAgICAgIm9zZCI6ICJhbGxv
      dyBydyB0YWcgY2VwaGZzICo9KiIsCiAgICAgICAgICAgICAgICAibWRzIjogImFsbG93IHJ3In0K
      ICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnJlc3RyaWN0ZWRfYXV0aF9wZXJtaXNzaW9uOgog
      ICAgICAgICAgICBjbHVzdGVyX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLmNsdXN0ZXJfbmFtZQog
      ICAgICAgICAgICBpZiBjbHVzdGVyX25hbWUgPT0gIiI6CiAgICAgICAgICAgICAgICByYWlzZSBF
      eGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJjbHVzdGVyX25h
      bWUgbm90IGZvdW5kLCBwbGVhc2Ugc2V0IHRoZSAnLS1jbHVzdGVyLW5hbWUnIGZsYWciKQogICAg
      ICAgICAgICBjZXBoZnNfZmlsZXN5c3RlbSA9IHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2ZpbGVz
      eXN0ZW1fbmFtZQogICAgICAgICAgICBpZiBjZXBoZnNfZmlsZXN5c3RlbSA9PSAiIjoKICAgICAg
      ICAgICAgICAgIGVudGl0eSA9ICJ7fS17fSIuZm9ybWF0KGVudGl0eSxjbHVzdGVyX25hbWUpCiAg
      ICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbnRpdHkgPSAie30te30te30iLmZvcm1h
      dChlbnRpdHksY2x1c3Rlcl9uYW1lLGNlcGhmc19maWxlc3lzdGVtKQogICAgICAgICAgICAgICAg
      Y2Fwc1sib3NkIl0gPSAiYWxsb3cgcncgdGFnIGNlcGhmcyBkYXRhPXt9Ii5mb3JtYXQoY2VwaGZz
      X2ZpbGVzeXN0ZW0pCiAgICAgICAgICAgIAogICAgICAgIHJldHVybiBjYXBzLGVudGl0eSAgICAK
      ICAgIAogICAgZGVmIGdldF9yYmRfcHJvdmlzaW9uZXJfY2Fwc19hbmRfZW50aXR5KHNlbGYpOgog
      ICAgICAgIGVudGl0eSA9ICJjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lciIKICAgICAgICBjYXBz
      ID0geyJtb24iOiAicHJvZmlsZSByYmQsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwK
      ICAgICAgICAgICAgICAgICJtZ3IiOiAiYWxsb3cgcnciLAogICAgICAgICAgICAgICAgIm9zZCI6
      ICJwcm9maWxlIHJiZCJ9CiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1
      dGhfcGVybWlzc2lvbjoKICAgICAgICAgICAgcmJkX3Bvb2xfbmFtZSA9IHNlbGYuX2FyZ19wYXJz
      ZXIucmJkX2RhdGFfcG9vbF9uYW1lCiAgICAgICAgICAgIGNsdXN0ZXJfbmFtZSA9IHNlbGYuX2Fy
      Z19wYXJzZXIuY2x1c3Rlcl9uYW1lCiAgICAgICAgICAgIHJhZG9zX25hbWVzcGFjZSA9IHNlbGYu
      X2FyZ19wYXJzZXIucmFkb3NfbmFtZXNwYWNlCiAgICAgICAgICAgIGlmIHJiZF9wb29sX25hbWUg
      PT0gIiIgb3IgY2x1c3Rlcl9uYW1lID09ICIiIG9yIHJhZG9zX25hbWVzcGFjZSA9PSAiIjoKICAg
      ICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAg
      ICAgICAgICAgIm1hbmRhdG9yeSBmbGFncyBub3QgZm91bmQsIHBsZWFzZSBzZXQgdGhlICctLXJi
      ZC1kYXRhLXBvb2wtbmFtZScsICctLWNsdXN0ZXItbmFtZScgYW5kIC0tcmFkb3MtbmFtZXNwYWNl
      IGZsYWdzIikKICAgICAgICAgICAgZW50aXR5ID0gInt9LXt9LXt9LXt9Ii5mb3JtYXQoZW50aXR5
      LGNsdXN0ZXJfbmFtZSxyYmRfcG9vbF9uYW1lLHJhZG9zX25hbWVzcGFjZSkKICAgICAgICAgICAg
      Y2Fwc1sib3NkIl0gPSAicHJvZmlsZSByYmQgcG9vbD17fSIuZm9ybWF0KHJiZF9wb29sX25hbWUp
      CiAgICAgICAgCiAgICAgICAgcmV0dXJuIGNhcHMsZW50aXR5ICAgIAogICAgCiAgICBkZWYgZ2V0
      X3JiZF9ub2RlX2NhcHNfYW5kX2VudGl0eShzZWxmKToKICAgICAgICBlbnRpdHkgPSAiY2xpZW50
      LmNzaS1yYmQtbm9kZSIKICAgICAgICBjYXBzID0geyJtb24iOiAicHJvZmlsZSByYmQsIGFsbG93
      IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwKICAgICAgICAgICAgICAgICJvc2QiOiAicHJvZmls
      ZSByYmQifQogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIucmVzdHJpY3RlZF9hdXRoX3Blcm1p
      c3Npb246CiAgICAgICAgICAgIHJiZF9wb29sX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLnJiZF9k
      YXRhX3Bvb2xfbmFtZQogICAgICAgICAgICBjbHVzdGVyX25hbWUgPSBzZWxmLl9hcmdfcGFyc2Vy
      LmNsdXN0ZXJfbmFtZQogICAgICAgICAgICByYWRvc19uYW1lc3BhY2UgPSBzZWxmLl9hcmdfcGFy
      c2VyLnJhZG9zX25hbWVzcGFjZQogICAgICAgICAgICBpZiByYmRfcG9vbF9uYW1lID09ICIiIG9y
      IGNsdXN0ZXJfbmFtZSA9PSAiIiBvciByYWRvc19uYW1lc3BhY2UgPT0gIiI6CiAgICAgICAgICAg
      ICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAg
      ICJtYW5kYXRvcnkgZmxhZ3Mgbm90IGZvdW5kLCBwbGVhc2Ugc2V0IHRoZSAnLS1yYmQtZGF0YS1w
      b29sLW5hbWUnLCAnLS1jbHVzdGVyLW5hbWUnIGFuZCAtLXJhZG9zLW5hbWVzcGFjZSBmbGFncyIp
      CiAgICAgICAgICAgIGVudGl0eSA9ICJ7fS17fS17fS17fSIuZm9ybWF0KGVudGl0eSxjbHVzdGVy
      X25hbWUscmJkX3Bvb2xfbmFtZSxyYWRvc19uYW1lc3BhY2UpCiAgICAgICAgICAgIGNhcHNbIm9z
      ZCJdID0gInByb2ZpbGUgcmJkIHBvb2w9e30iLmZvcm1hdChyYmRfcG9vbF9uYW1lKQogICAgICAg
      ICAgICAKICAgICAgICByZXR1cm4gY2FwcyxlbnRpdHkKICAgIAogICAgZGVmIGdldF9jYXBzX2Fu
      ZF9lbnRpdHkoc2VsZiwgdXNlcl9uYW1lKToKICAgICAgICBpZiAiY2xpZW50LmNzaS1jZXBoZnMt
      cHJvdmlzaW9uZXIiIGluIHVzZXJfbmFtZToKICAgICAgICAgICAgaWYgImNsaWVudC5jc2ktY2Vw
      aGZzLXByb3Zpc2lvbmVyIiAhPSB1c2VyX25hbWU6CiAgICAgICAgICAgICAgICBzZWxmLl9hcmdf
      cGFyc2VyLnJlc3RyaWN0ZWRfYXV0aF9wZXJtaXNzaW9uID0gVHJ1ZQogICAgICAgICAgICByZXR1
      cm4gc2VsZi5nZXRfY2VwaGZzX3Byb3Zpc2lvbmVyX2NhcHNfYW5kX2VudGl0eSgpCiAgICAgICAg
      ZWxpZiAiY2xpZW50LmNzaS1jZXBoZnMtbm9kZSIgaW4gdXNlcl9uYW1lOgogICAgICAgICAgICBp
      ZiAiY2xpZW50LmNzaS1jZXBoZnMtbm9kZSIgIT0gdXNlcl9uYW1lOgogICAgICAgICAgICAgICAg
      c2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbiA9IFRydWUKICAgICAg
      ICAgICAgcmV0dXJuIHNlbGYuZ2V0X2NlcGhmc19ub2RlX2NhcHNfYW5kX2VudGl0eSgpCiAgICAg
      ICAgZWxpZiAiY2xpZW50LmNzaS1yYmQtcHJvdmlzaW9uZXIiIGluIHVzZXJfbmFtZToKICAgICAg
      ICAgICAgaWYgImNsaWVudC5jc2ktcmJkLXByb3Zpc2lvbmVyIiAhPSB1c2VyX25hbWU6CiAgICAg
      ICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLnJlc3RyaWN0ZWRfYXV0aF9wZXJtaXNzaW9uID0g
      VHJ1ZQogICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRfcmJkX3Byb3Zpc2lvbmVyX2NhcHNfYW5k
      X2VudGl0eSgpCiAgICAgICAgZWxpZiAiY2xpZW50LmNzaS1yYmQtbm9kZSIgaW4gdXNlcl9uYW1l
      OgogICAgICAgICAgICBpZiAiY2xpZW50LmNzaS1yYmQtbm9kZSIgIT0gdXNlcl9uYW1lOgogICAg
      ICAgICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbiA9
      IFRydWUKICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0X3JiZF9ub2RlX2NhcHNfYW5kX2VudGl0
      eSgpICAgICAgICAgICAgIAogICAgICAgIAogICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVF
      eGNlcHRpb24oCiAgICAgICAgICAgICAgICAibm8gdXNlciBmb3VuZCB3aXRoIHVzZXJfbmFtZTog
      e30gLCIuZm9ybWF0KHVzZXJfbmFtZSkKICAgICAgICAgICAgICAgICsgImdldF9jYXBzX2FuZF9l
      bnRpdHkgY29tbWFuZCBmYWlsZWQuXG4iKSAgICAKICAgIAogICAgZGVmIGNyZWF0ZV9jZXBoQ1NJ
      S2V5cmluZ191c2VyKHNlbGYsdXNlcik6CiAgICAgICAgJycnCiAgICAgICAgY29tbWFuZDogY2Vw
      aCBhdXRoIGdldC1vci1jcmVhdGUgY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIgbW9uICdh
      bGxvdyByJyBtZ3IgJ2FsbG93IHJ3JyBvc2QgJ2FsbG93IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9
      KicKICAgICAgICAnJycKICAgICAgICBjYXBzLCBlbnRpdHkgPSBzZWxmLmdldF9jYXBzX2FuZF9l
      bnRpdHkodXNlcikKICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1dGggZ2V0LW9yLWNy
      ZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBlbnRpdHksCiAgICAgICAg
      ICAgICAgICAgICAgICAgICJjYXBzIjogW2NhcCBmb3IgY2FwX2xpc3QgaW4gbGlzdChjYXBzLml0
      ZW1zKCkpIGZvciBjYXAgaW4gY2FwX2xpc3RdLAogICAgICAgICAgICAgICAgICAgICAgICAiZm9y
      bWF0IjogImpzb24ifQogICAgICAgIAogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1
      bjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuZHJ5X3J1bigiY2VwaCAiICsgY21kX2pzb25bJ3By
      ZWZpeCddICsgIiAiICsgY21kX2pzb25bJ2VudGl0eSddICsgIiAiICsgIiAiLmpvaW4oY21kX2pz
      b25bJ2NhcHMnXSkpCiAgICAgICAgIyBjaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3QKICAgICAg
      ICB1c2VyX2tleSA9IHNlbGYuY2hlY2tfdXNlcl9leGlzdChlbnRpdHkpCiAgICAgICAgaWYgdXNl
      cl9rZXkgIT0gIiI6CiAgICAgICAgICAgIHJldHVybiB1c2VyX2tleQogICAgICAgIAogICAgICAg
      IHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihj
      bWRfanNvbikKICAgICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAog
      ICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAg
      IHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ2F1dGgg
      Z2V0LW9yLWNyZWF0ZSB7fScgY29tbWFuZCBmYWlsZWQuXG4iLmZvcm1hdCh1c2VyKSArCiAgICAg
      ICAgICAgICAgICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJyX21zZyBpZiByZXRfdmFsICE9IDAgZWxz
      ZSBzZWxmLkVNUFRZX09VVFBVVF9MSVNUKSkKICAgICAgICByZXR1cm4gc3RyKGpzb25fb3V0WzBd
      WydrZXknXSkKCiAgICBkZWYgZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscyhzZWxmKToKICAg
      ICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImZzIGxzIiwgImZvcm1hdCI6ICJqc29uIn0KICAg
      ICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBzZWxm
      LmRyeV9ydW4oImNlcGggIiArIGNtZF9qc29uWydwcmVmaXgnXSkKICAgICAgICByZXRfdmFsLCBq
      c29uX291dCwgZXJyX21zZyA9IHNlbGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAg
      ICAgICAgIyBpZiB0aGVyZSBpcyBhbiB1bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwgcmVwb3J0IGFuIGVy
      cm9yCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwOgogICAgICAgICAgICAjIGlmIGZzIGFuZCBkYXRh
      X3Bvb2wgYXJndW1lbnRzIGFyZSBub3Qgc2V0LCBzaWxlbnRseSByZXR1cm4KICAgICAgICAgICAg
      aWYgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZmlsZXN5c3RlbV9uYW1lID09ICIiIGFuZCBzZWxm
      Ll9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xfbmFtZSA9PSAiIjoKICAgICAgICAgICAgICAg
      IHJldHVybgogICAgICAgICAgICAjIGlmIHVzZXIgaGFzIHByb3ZpZGVkIGFueSBvZiB0aGUKICAg
      ICAgICAgICAgIyAnLS1jZXBoZnMtZmlsZXN5c3RlbS1uYW1lJyBvciAnLS1jZXBoZnMtZGF0YS1w
      b29sLW5hbWUnIGFyZ3VtZW50cywKICAgICAgICAgICAgIyByYWlzZSBhbiBleGNlcHRpb24gYXMg
      d2UgYXJlIHVuYWJsZSB0byB2ZXJpZnkgdGhlIGFyZ3MKICAgICAgICAgICAgcmFpc2UgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICInZnMgbHMnIGNlcGggY2FsbCBm
      YWlsZWQgd2l0aCBlcnJvcjoge30iLmZvcm1hdChlcnJfbXNnKSkKCiAgICAgICAgbWF0Y2hpbmdf
      anNvbl9vdXQgPSB7fQogICAgICAgICMgaWYgJy0tY2VwaGZzLWZpbGVzeXN0ZW0tbmFtZScgYXJn
      dW1lbnQgaXMgcHJvdmlkZWQsCiAgICAgICAgIyBjaGVjayB3aGV0aGVyIHRoZSBwcm92aWRlZCBm
      aWxlc3lzdGVtLW5hbWUgZXhpc3RzIG9yIG5vdAogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIu
      Y2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZToKICAgICAgICAgICAgIyBnZXQgdGhlIG1hdGNoaW5nIGxp
      c3QKICAgICAgICAgICAgbWF0Y2hpbmdfanNvbl9vdXRfbGlzdCA9IFttYXRjaGVkIGZvciBtYXRj
      aGVkIGluIGpzb25fb3V0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYg
      c3RyKG1hdGNoZWRbJ25hbWUnXSkgPT0gc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZmlsZXN5c3Rl
      bV9uYW1lXQogICAgICAgICAgICAjIHVuYWJsZSB0byBmaW5kIGEgbWF0Y2hpbmcgZnMtbmFtZSwg
      cmFpc2UgYW4gZXJyb3IKICAgICAgICAgICAgaWYgbGVuKG1hdGNoaW5nX2pzb25fb3V0X2xpc3Qp
      ID09IDA6CiAgICAgICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAog
      ICAgICAgICAgICAgICAgICAgICgiRmlsZXN5c3RlbSBwcm92aWRlZCwgJ3t9JywgIiArCiAgICAg
      ICAgICAgICAgICAgICAgICJpcyBub3QgZm91bmQgaW4gdGhlIGZzLWxpc3Q6ICd7fSciKS5mb3Jt
      YXQoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2ZpbGVz
      eXN0ZW1fbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgW3N0cih4WyduYW1lJ10pIGZvciB4
      IGluIGpzb25fb3V0XSkpCiAgICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0ID0gbWF0Y2hpbmdf
      anNvbl9vdXRfbGlzdFswXQogICAgICAgICMgaWYgY2VwaGZzIGZpbGVzeXN0ZW0gbmFtZSBpcyBu
      b3QgcHJvdmlkZWQsCiAgICAgICAgIyB0cnkgdG8gZ2V0IGEgZGVmYXVsdCBmcyBuYW1lIGJ5IGRv
      aW5nIHRoZSBmb2xsb3dpbmcKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIGEuIGNoZWNrIGlm
      IHRoZXJlIGlzIG9ubHkgb25lIGZpbGVzeXN0ZW0gaXMgcHJlc2VudAogICAgICAgICAgICBpZiBs
      ZW4oanNvbl9vdXQpID09IDE6CiAgICAgICAgICAgICAgICBtYXRjaGluZ19qc29uX291dCA9IGpz
      b25fb3V0WzBdCiAgICAgICAgICAgICMgYi4gb3IgZWxzZSwgY2hlY2sgaWYgZGF0YV9wb29sIG5h
      bWUgaXMgcHJvdmlkZWQKICAgICAgICAgICAgZWxpZiBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19k
      YXRhX3Bvb2xfbmFtZToKICAgICAgICAgICAgICAgICMgYW5kIGlmIHByZXNlbnQsIGNoZWNrIHdo
      ZXRoZXIgdGhlcmUgZXhpc3RzIGEgZnMgd2hpY2ggaGFzIHRoZSBkYXRhX3Bvb2wKICAgICAgICAg
      ICAgICAgIGZvciBlYWNoSiBpbiBqc29uX291dDoKICAgICAgICAgICAgICAgICAgICBpZiBzZWxm
      Ll9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xfbmFtZSBpbiBlYWNoSlsnZGF0YV9wb29scydd
      OgogICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ19qc29uX291dCA9IGVhY2hKCiAgICAg
      ICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAjIGlmIHRoZXJlIGlzIG5v
      IG1hdGNoaW5nIGZzIGV4aXN0cywgdGhhdCBtZWFucyBwcm92aWRlZCBkYXRhX3Bvb2wgbmFtZSBp
      cyBpbnZhbGlkCiAgICAgICAgICAgICAgICBpZiBub3QgbWF0Y2hpbmdfanNvbl9vdXQ6CiAgICAg
      ICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAg
      ICAgICAgICAgICAgICAgIlByb3ZpZGVkIGRhdGFfcG9vbCBuYW1lLCB7fSwgZG9lcyBub3QgZXhp
      c3RzIi5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2Vy
      LmNlcGhmc19kYXRhX3Bvb2xfbmFtZSkpCiAgICAgICAgICAgICMgYy4gaWYgbm90aGluZyBpcyBz
      ZXQgYW5kIGNvdWxkbid0IGZpbmQgYSBkZWZhdWx0LAogICAgICAgICAgICBlbHNlOgogICAgICAg
      ICAgICAgICAgIyBqdXN0IHJldHVybiBzaWxlbnRseQogICAgICAgICAgICAgICAgcmV0dXJuCgog
      ICAgICAgIGlmIG1hdGNoaW5nX2pzb25fb3V0OgogICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2Vy
      LmNlcGhmc19maWxlc3lzdGVtX25hbWUgPSBzdHIoCiAgICAgICAgICAgICAgICBtYXRjaGluZ19q
      c29uX291dFsnbmFtZSddKQogICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19tZXRh
      ZGF0YV9wb29sX25hbWUgPSBzdHIoCiAgICAgICAgICAgICAgICBtYXRjaGluZ19qc29uX291dFsn
      bWV0YWRhdGFfcG9vbCddKQoKICAgICAgICBpZiB0eXBlKG1hdGNoaW5nX2pzb25fb3V0WydkYXRh
      X3Bvb2xzJ10pID09IGxpc3Q6CiAgICAgICAgICAgICMgaWYgdGhlIHVzZXIgaGFzIGFscmVhZHkg
      cHJvdmlkZWQgZGF0YS1wb29sLW5hbWUsCiAgICAgICAgICAgICMgdGhyb3VnaCAtLWNlcGhmcy1k
      YXRhLXBvb2wtbmFtZQogICAgICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRh
      X3Bvb2xfbmFtZToKICAgICAgICAgICAgICAgICMgaWYgdGhlIHByb3ZpZGVkIG5hbWUgaXMgbm90
      IG1hdGNoaW5nIHdpdGggdGhlIG9uZSBpbiB0aGUgbGlzdAogICAgICAgICAgICAgICAgaWYgc2Vs
      Zi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWUgbm90IGluIG1hdGNoaW5nX2pzb25f
      b3V0WydkYXRhX3Bvb2xzJ106CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFp
      bHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgInt9OiAne30nLCB7fToge30i
      LmZvcm1hdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQcm92aWRlZCBkYXRhLXBvb2wt
      bmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLmNlcGhm
      c19kYXRhX3Bvb2xfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2Vzbid0IG1h
      dGNoIGZyb20gdGhlIGRhdGEtcG9vbHMnIGxpc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgW3N0cih4KSBmb3IgeCBpbiBtYXRjaGluZ19qc29uX291dFsnZGF0YV9wb29scyddXSkpCiAg
      ICAgICAgICAgICMgaWYgZGF0YV9wb29sIG5hbWUgaXMgbm90IHByb3ZpZGVkLAogICAgICAgICAg
      ICAjIHRoZW4gdHJ5IHRvIGZpbmQgYSBkZWZhdWx0IGRhdGEgcG9vbCBuYW1lCiAgICAgICAgICAg
      IGVsc2U6CiAgICAgICAgICAgICAgICAjIGlmIG5vIGRhdGFfcG9vbHMgZXhpc3QsIHNpbGVudGx5
      IHJldHVybgogICAgICAgICAgICAgICAgaWYgbGVuKG1hdGNoaW5nX2pzb25fb3V0WydkYXRhX3Bv
      b2xzJ10pID09IDA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBz
      ZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xfbmFtZSA9IHN0cigKICAgICAgICAgICAg
      ICAgICAgICBtYXRjaGluZ19qc29uX291dFsnZGF0YV9wb29scyddWzBdKQogICAgICAgICAgICAj
      IGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lICdkYXRhX3Bvb2xzJyBleGlzdCwKICAgICAgICAg
      ICAgIyB0aGVuIHdhcm4gdGhlIHVzZXIgdGhhdCB3ZSBhcmUgdXNpbmcgdGhlIHNlbGVjdGVkIG5h
      bWUKICAgICAgICAgICAgaWYgbGVuKG1hdGNoaW5nX2pzb25fb3V0WydkYXRhX3Bvb2xzJ10pID4g
      MToKICAgICAgICAgICAgICAgIHByaW50KCJ7fToge31cbnt9OiAne30nXG4iLmZvcm1hdCgKICAg
      ICAgICAgICAgICAgICAgICAiV0FSTklORzogTXVsdGlwbGUgZGF0YSBwb29scyBkZXRlY3RlZCIs
      CiAgICAgICAgICAgICAgICAgICAgW3N0cih4KSBmb3IgeCBpbiBtYXRjaGluZ19qc29uX291dFsn
      ZGF0YV9wb29scyddXSwKICAgICAgICAgICAgICAgICAgICAiVXNpbmcgdGhlIGRhdGEtcG9vbCIs
      CiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25h
      bWUpKQoKICAgIGRlZiBjcmVhdGVfY2hlY2tlcktleShzZWxmKToKICAgICAgICBjbWRfanNvbiA9
      IHsicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgImVu
      dGl0eSI6IHNlbGYucnVuX2FzX3VzZXIsCiAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBbIm1v
      biIsIHNlbGYuTUlOX1VTRVJfQ0FQX1BFUk1JU1NJT05TWydtb24nXSwKICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAibWdyIiwgc2VsZi5NSU5fVVNFUl9DQVBfUEVSTUlTU0lPTlNbJ21ncidd
      LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCBzZWxmLk1JTl9VU0VSX0NBUF9Q
      RVJNSVNTSU9OU1snb3NkJ10uZm9ybWF0KHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4
      KV0sCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICBpZiBzZWxm
      Ll9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBzZWxmLmRyeV9ydW4oImNl
      cGggIiArIGNtZF9qc29uWydwcmVmaXgnXSArICIgIiArIGNtZF9qc29uWydlbnRpdHknXSArICIg
      IiArICIgIi5qb2luKGNtZF9qc29uWydjYXBzJ10pKQogICAgICAgIHJldF92YWwsIGpzb25fb3V0
      LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAj
      IGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJldF92YWwg
      IT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZh
      aWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ2F1dGggZ2V0LW9yLWNyZWF0ZSB7fScg
      Y29tbWFuZCBmYWlsZWRcbiIuZm9ybWF0KHNlbGYucnVuX2FzX3VzZXIpICsKICAgICAgICAgICAg
      ICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBlbHNlIHNlbGYu
      RU1QVFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJldHVybiBzdHIoanNvbl9vdXRbMF1bJ2tleSdd
      KQoKICAgIGRlZiBnZXRfY2VwaF9kYXNoYm9hcmRfbGluayhzZWxmKToKICAgICAgICBjbWRfanNv
      biA9IHsicHJlZml4IjogIm1nciBzZXJ2aWNlcyIsICJmb3JtYXQiOiAianNvbiJ9CiAgICAgICAg
      aWYgc2VsZi5fYXJnX3BhcnNlci5kcnlfcnVuOgogICAgICAgICAgICByZXR1cm4gc2VsZi5kcnlf
      cnVuKCJjZXBoICIgKyBjbWRfanNvblsncHJlZml4J10pCiAgICAgICAgcmV0X3ZhbCwganNvbl9v
      dXQsIF8gPSBzZWxmLl9jb21tb25fY21kX2pzb25fZ2VuKGNtZF9qc29uKQogICAgICAgICMgaWYg
      dGhlcmUgaXMgYW4gdW5zdWNjZXNzZnVsIGF0dGVtcHQsCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAw
      IG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBp
      ZiBub3QgJ2Rhc2hib2FyZCcgaW4ganNvbl9vdXQ6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAg
      ICAgICAgcmV0dXJuIGpzb25fb3V0WydkYXNoYm9hcmQnXQoKICAgIGRlZiBjcmVhdGVfcmd3X2Fk
      bWluX29wc191c2VyKHNlbGYpOgogICAgICAgIGNtZCA9IFsncmFkb3Nndy1hZG1pbicsICd1c2Vy
      JywgJ2NyZWF0ZScsICctLXVpZCcsIHNlbGYuRVhURVJOQUxfUkdXX0FETUlOX09QU19VU0VSX05B
      TUUsICctLWRpc3BsYXktbmFtZScsCiAgICAgICAgICAgICAgICdSb29rIFJHVyBBZG1pbiBPcHMg
      dXNlcicsICctLWNhcHMnLCAnYnVja2V0cz0qO3VzZXJzPSo7dXNhZ2U9cmVhZDttZXRhZGF0YT1y
      ZWFkO3pvbmU9cmVhZCddCiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5kcnlfcnVuOgogICAg
      ICAgICAgICByZXR1cm4gc2VsZi5kcnlfcnVuKCJjZXBoICIgKyAiICIuam9pbihjbWQpKQogICAg
      ICAgIHRyeToKICAgICAgICAgICAgb3V0cHV0ID0gc3VicHJvY2Vzcy5jaGVja19vdXRwdXQoY21k
      LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnI9c3Vi
      cHJvY2Vzcy5QSVBFKQogICAgICAgIGV4Y2VwdCBzdWJwcm9jZXNzLkNhbGxlZFByb2Nlc3NFcnJv
      ciBhcyBleGVjRXJyOgogICAgICAgICAgICAjIGlmIHRoZSB1c2VyIGFscmVhZHkgZXhpc3RzLCB3
      ZSBqdXN0IHF1ZXJ5IGl0CiAgICAgICAgICAgIGlmIGV4ZWNFcnIucmV0dXJuY29kZSA9PSBlcnJu
      by5FRVhJU1Q6CiAgICAgICAgICAgICAgICBjbWQgPSBbJ3JhZG9zZ3ctYWRtaW4nLCAndXNlcics
      ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAnLS11aWQnLCBzZWxmLkVYVEVSTkFMX1JH
      V19BRE1JTl9PUFNfVVNFUl9OQU1FCiAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAg
      ICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHN1YnByb2Nlc3MuY2hlY2tf
      b3V0cHV0KGNtZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKQogICAgICAgICAgICAgICAgZXhjZXB0IHN1
      YnByb2Nlc3MuQ2FsbGVkUHJvY2Vzc0Vycm9yIGFzIGV4ZWNFcnI6CiAgICAgICAgICAgICAgICAg
      ICAgZXJyX21zZyA9ICJmYWlsZWQgdG8gZXhlY3V0ZSBjb21tYW5kICVzLiBPdXRwdXQ6ICVzLiBD
      b2RlOiAlcy4gRXJyb3I6ICVzIiAlICgKICAgICAgICAgICAgICAgICAgICAgICAgY21kLCBleGVj
      RXJyLm91dHB1dCwgZXhlY0Vyci5yZXR1cm5jb2RlLCBleGVjRXJyLnN0ZGVycikKICAgICAgICAg
      ICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZXJyX21zZykKICAgICAgICAgICAgZWxzZToKICAg
      ICAgICAgICAgICAgIGVycl9tc2cgPSAiZmFpbGVkIHRvIGV4ZWN1dGUgY29tbWFuZCAlcy4gT3V0
      cHV0OiAlcy4gQ29kZTogJXMuIEVycm9yOiAlcyIgJSAoCiAgICAgICAgICAgICAgICAgICAgY21k
      LCBleGVjRXJyLm91dHB1dCwgZXhlY0Vyci5yZXR1cm5jb2RlLCBleGVjRXJyLnN0ZGVycikKICAg
      ICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihlcnJfbXNnKQoKICAgICAgICBqc29ub3V0cHV0
      ID0ganNvbi5sb2FkcyhvdXRwdXQpCiAgICAgICAgcmV0dXJuIGpzb25vdXRwdXRbImtleXMiXVsw
      XVsnYWNjZXNzX2tleSddLCBqc29ub3V0cHV0WyJrZXlzIl1bMF1bJ3NlY3JldF9rZXknXQoKICAg
      IGRlZiB2YWxpZGF0ZV9wb29sKHNlbGYpOgogICAgICAgIHBvb2xzX3RvX3ZhbGlkYXRlID0gW3Nl
      bGYuX2FyZ19wYXJzZXIucmJkX2RhdGFfcG9vbF9uYW1lXQogICAgICAgICMgaWYgcmd3X2VuZHBv
      aW50IGlzIHByb3ZpZGVkLCB2YWxpZGF0ZSBpdAogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIu
      cmd3X2VuZHBvaW50OgogICAgICAgICAgICBzZWxmLl9pbnZhbGlkX2VuZHBvaW50KHNlbGYuX2Fy
      Z19wYXJzZXIucmd3X2VuZHBvaW50KQogICAgICAgICAgICBzZWxmLmVuZHBvaW50X2RpYWwoc2Vs
      Zi5fYXJnX3BhcnNlci5yZ3dfZW5kcG9pbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICBjZXJ0PXNlbGYudmFsaWRhdGVfcmd3X2VuZHBvaW50X3Rsc19jZXJ0KCkpCiAgICAgICAgICAg
      IHJnd19wb29sX3RvX3ZhbGlkYXRlID0gWyJ7MH0ucmd3Lm1ldGEiLmZvcm1hdChzZWxmLl9hcmdf
      cGFyc2VyLnJnd19wb29sX3ByZWZpeCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICIucmd3LnJvb3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiezB9
      LnJndy5jb250cm9sIi5mb3JtYXQoCiAgICAgICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLnJn
      d19wb29sX3ByZWZpeCksCiAgICAgICAgICAgICAgICAiezB9LnJndy5sb2ciLmZvcm1hdCgKICAg
      ICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4KV0KICAgICAgICAg
      ICAgcG9vbHNfdG9fdmFsaWRhdGUuZXh0ZW5kKHJnd19wb29sX3RvX3ZhbGlkYXRlKQoKICAgICAg
      ICBmb3IgcG9vbCBpbiBwb29sc190b192YWxpZGF0ZToKICAgICAgICAgICAgaWYgbm90IHNlbGYu
      Y2x1c3Rlci5wb29sX2V4aXN0cyhwb29sKToKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlv
      bkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgIlRoZSBwcm92aWRlZCBwb29s
      LCAne30nLCBkb2VzIG5vdCBleGlzdCIuZm9ybWF0KHBvb2wpKQogICAgCiAgICBkZWYgdmFsaWRh
      dGVfcmFkb3NfbmFtZXNwYWNlKHNlbGYpOgogICAgICAgIHJiZF9wb29sX25hbWUgPSBzZWxmLl9h
      cmdfcGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQogICAgICAgIHJhZG9zX25hbWVzcGFjZSA9IHNl
      bGYuX2FyZ19wYXJzZXIucmFkb3NfbmFtZXNwYWNlCiAgICAgICAgaWYgcmFkb3NfbmFtZXNwYWNl
      ID09ICIiOgogICAgICAgICAgICByZXR1cm4KICAgICAgICByYmRfaW5zdCA9IHJiZC5SQkQoKQog
      ICAgICAgIGlvY3R4ID0gc2VsZi5jbHVzdGVyLm9wZW5faW9jdHgocmJkX3Bvb2xfbmFtZSkKICAg
      ICAgICBpZiByYmRfaW5zdC5uYW1lc3BhY2VfZXhpc3RzKGlvY3R4LCByYWRvc19uYW1lc3BhY2Up
      ID09IEZhbHNlOgogICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAg
      ICAgICAgICAgICAgICAgICAgKCJUaGUgcHJvdmlkZWQgcmFkb3MgTmFtZXNwYWNlLCAne30nLCBp
      cyBub3QgZm91bmQgaW4gdGhlIHBvb2wgJ3t9JyIpLmZvcm1hdCgKICAgICAgICAgICAgICAgICAg
      ICAgICAgcmFkb3NfbmFtZXNwYWNlLHJiZF9wb29sX25hbWUpKQogICAgCiAgICBkZWYgX2dlbl9v
      dXRwdXRfbWFwKHNlbGYpOgogICAgICAgIGlmIHNlbGYub3V0X21hcDoKICAgICAgICAgICAgcmV0
      dXJuCiAgICAgICAgc2VsZi52YWxpZGF0ZV9wb29sKCkKICAgICAgICBzZWxmLnZhbGlkYXRlX3Jh
      ZG9zX25hbWVzcGFjZSgpCiAgICAgICAgc2VsZi5fZXhjbHVkZWRfa2V5cy5hZGQoJ0NMVVNURVJf
      TkFNRScpCiAgICAgICAgc2VsZi5nZXRfY2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKCkKICAgICAg
      ICBzZWxmLm91dF9tYXBbJ05BTUVTUEFDRSddID0gc2VsZi5fYXJnX3BhcnNlci5uYW1lc3BhY2UK
      ICAgICAgICBzZWxmLm91dF9tYXBbJ0NMVVNURVJfTkFNRSddID0gc2VsZi5fYXJnX3BhcnNlci5j
      bHVzdGVyX25hbWUKICAgICAgICBzZWxmLm91dF9tYXBbJ1JPT0tfRVhURVJOQUxfRlNJRCddID0g
      c2VsZi5nZXRfZnNpZCgpCiAgICAgICAgc2VsZi5vdXRfbWFwWydST09LX0VYVEVSTkFMX1VTRVJO
      QU1FJ10gPSBzZWxmLnJ1bl9hc191c2VyCiAgICAgICAgc2VsZi5vdXRfbWFwWydST09LX0VYVEVS
      TkFMX0NFUEhfTU9OX0RBVEEnXSA9IHNlbGYuZ2V0X2NlcGhfZXh0ZXJuYWxfbW9uX2RhdGEoKQog
      ICAgICAgIHNlbGYub3V0X21hcFsnUk9PS19FWFRFUk5BTF9VU0VSX1NFQ1JFVCddID0gc2VsZi5j
      cmVhdGVfY2hlY2tlcktleSgpCiAgICAgICAgc2VsZi5vdXRfbWFwWydST09LX0VYVEVSTkFMX0RB
      U0hCT0FSRF9MSU5LJ10gPSBzZWxmLmdldF9jZXBoX2Rhc2hib2FyZF9saW5rKCkKICAgICAgICBz
      ZWxmLm91dF9tYXBbJ0NTSV9SQkRfTk9ERV9TRUNSRVRfU0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9j
      ZXBoQ1NJS2V5cmluZ191c2VyKCJjbGllbnQuY3NpLXJiZC1ub2RlIikKICAgICAgICBzZWxmLm91
      dF9tYXBbJ0NTSV9SQkRfUFJPVklTSU9ORVJfU0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9jZXBoQ1NJ
      S2V5cmluZ191c2VyKCJjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lciIpCiAgICAgICAgc2VsZi5v
      dXRfbWFwWydDRVBIRlNfUE9PTF9OQU1FJ10gPSBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRh
      X3Bvb2xfbmFtZQogICAgICAgIHNlbGYub3V0X21hcFsnQ0VQSEZTX01FVEFEQVRBX1BPT0xfTkFN
      RSddID0gc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfbWV0YWRhdGFfcG9vbF9uYW1lCiAgICAgICAg
      c2VsZi5vdXRfbWFwWydDRVBIRlNfRlNfTkFNRSddID0gc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNf
      ZmlsZXN5c3RlbV9uYW1lCiAgICAgICAgc2VsZi5vdXRfbWFwWydSRVNUUklDVEVEX0FVVEhfUEVS
      TUlTU0lPTiddID0gc2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbgog
      ICAgICAgIHNlbGYub3V0X21hcFsnUkFET1NfTkFNRVNQQUNFJ10gPSBzZWxmLl9hcmdfcGFyc2Vy
      LnJhZG9zX25hbWVzcGFjZQogICAgICAgIHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RFX1NF
      Q1JFVCddID0gJycKICAgICAgICBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJf
      U0VDUkVUJ10gPSAnJwogICAgICAgICMgY3JlYXRlIENlcGhGUyBub2RlIGFuZCBwcm92aXNpb25l
      ciBrZXlyaW5nIG9ubHkgd2hlbiBNRFMgZXhpc3RzCiAgICAgICAgaWYgc2VsZi5vdXRfbWFwWydD
      RVBIRlNfRlNfTkFNRSddIGFuZCBzZWxmLm91dF9tYXBbJ0NFUEhGU19QT09MX05BTUUnXToKICAg
      ICAgICAgICAgc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVUJ10gPSBzZWxmLmNy
      ZWF0ZV9jZXBoQ1NJS2V5cmluZ191c2VyKCJjbGllbnQuY3NpLWNlcGhmcy1ub2RlIikKICAgICAg
      ICAgICAgc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX1BST1ZJU0lPTkVSX1NFQ1JFVCddID0gc2Vs
      Zi5jcmVhdGVfY2VwaENTSUtleXJpbmdfdXNlcigiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9u
      ZXIiKQogICAgICAgIHNlbGYub3V0X21hcFsnUkdXX0VORFBPSU5UJ10gPSBzZWxmLl9hcmdfcGFy
      c2VyLnJnd19lbmRwb2ludAogICAgICAgIHNlbGYub3V0X21hcFsnUkdXX1RMU19DRVJUJ10gPSAn
      JwogICAgICAgIHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVCddLCBcCiAgICAgICAg
      ICAgIHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVF9QT1JUJ10gPSBzZWxmLmdldF9h
      Y3RpdmVfYW5kX3N0YW5kYnlfbWdycygpCiAgICAgICAgc2VsZi5vdXRfbWFwWydSQkRfUE9PTF9O
      QU1FJ10gPSBzZWxmLl9hcmdfcGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQogICAgICAgIHNlbGYu
      b3V0X21hcFsnUkJEX01FVEFEQVRBX0VDX1BPT0xfTkFNRSddID0gc2VsZi52YWxpZGF0ZV9yZ3df
      bWV0YWRhdGFfZWNfcG9vbF9uYW1lKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ1JHV19QT09MX1BS
      RUZJWCddID0gc2VsZi5fYXJnX3BhcnNlci5yZ3dfcG9vbF9wcmVmaXgKICAgICAgICBpZiBzZWxm
      Ll9hcmdfcGFyc2VyLnJnd19lbmRwb2ludDoKICAgICAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNl
      ci5kcnlfcnVuOgogICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVfcmd3X2FkbWluX29wc191c2Vy
      KCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYub3V0X21hcFsnQUNDRVNT
      X0tFWSddLCBzZWxmLm91dF9tYXBbJ1NFQ1JFVF9LRVknXSA9IHNlbGYuY3JlYXRlX3Jnd19hZG1p
      bl9vcHNfdXNlcigpCiAgICAgICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIucmd3X3Rsc19jZXJ0
      X3BhdGg6CiAgICAgICAgICAgICAgICBzZWxmLm91dF9tYXBbJ1JHV19UTFNfQ0VSVCddID0gc2Vs
      Zi52YWxpZGF0ZV9yZ3dfZW5kcG9pbnRfdGxzX2NlcnQoKQoKICAgIGRlZiBnZW5fc2hlbGxfb3V0
      KHNlbGYpOgogICAgICAgIHNlbGYuX2dlbl9vdXRwdXRfbWFwKCkKICAgICAgICBzaE91dElPID0g
      U3RyaW5nSU8oKQogICAgICAgIGZvciBrLCB2IGluIHNlbGYub3V0X21hcC5pdGVtcygpOgogICAg
      ICAgICAgICBpZiB2IGFuZCBrIG5vdCBpbiBzZWxmLl9leGNsdWRlZF9rZXlzOgogICAgICAgICAg
      ICAgICAgc2hPdXRJTy53cml0ZSgnZXhwb3J0IHt9PXt9e30nLmZvcm1hdChrLCB2LCBMSU5FU0VQ
      KSkKICAgICAgICBzaE91dCA9IHNoT3V0SU8uZ2V0dmFsdWUoKQogICAgICAgIHNoT3V0SU8uY2xv
      c2UoKQogICAgICAgIHJldHVybiBzaE91dAoKICAgIGRlZiBnZW5fanNvbl9vdXQoc2VsZik6CiAg
      ICAgICAgc2VsZi5fZ2VuX291dHB1dF9tYXAoKQogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIu
      ZHJ5X3J1bjoKICAgICAgICAgICAgcmV0dXJuICIiCiAgICAgICAganNvbl9vdXQgPSBbCiAgICAg
      ICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY2VwaC1tb24tZW5kcG9pbnRz
      IiwKICAgICAgICAgICAgICAgICJraW5kIjogIkNvbmZpZ01hcCIsCiAgICAgICAgICAgICAgICAi
      ZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHNlbGYub3V0X21hcFsnUk9PS19F
      WFRFUk5BTF9DRVBIX01PTl9EQVRBJ10sCiAgICAgICAgICAgICAgICAgICAgIm1heE1vbklkIjog
      IjAiLAogICAgICAgICAgICAgICAgICAgICJtYXBwaW5nIjogInt9IgogICAgICAgICAgICAgICAg
      fQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJy
      b29rLWNlcGgtbW9uIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAgICAgICAg
      ICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiYWRtaW4tc2VjcmV0IjogImFk
      bWluLXNlY3JldCIsCiAgICAgICAgICAgICAgICAgICAgImZzaWQiOiBzZWxmLm91dF9tYXBbJ1JP
      T0tfRVhURVJOQUxfRlNJRCddLAogICAgICAgICAgICAgICAgICAgICJtb24tc2VjcmV0IjogIm1v
      bi1zZWNyZXQiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICB7
      CiAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNlcGgtb3BlcmF0b3ItY3JlZHMiLAogICAg
      ICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJkYXRhIjogewog
      ICAgICAgICAgICAgICAgICAgICJ1c2VySUQiOiBzZWxmLm91dF9tYXBbJ1JPT0tfRVhURVJOQUxf
      VVNFUk5BTUUnXSwKICAgICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNlbGYub3V0X21hcFsn
      Uk9PS19FWFRFUk5BTF9VU0VSX1NFQ1JFVCddCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
      IH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogIm1vbml0b3JpbmctZW5k
      cG9pbnQiLAogICAgICAgICAgICAgICAgImtpbmQiOiAiQ2VwaENsdXN0ZXIiLAogICAgICAgICAg
      ICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgIk1vbml0b3JpbmdFbmRwb2ludCI6
      IHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVCddLAogICAgICAgICAgICAgICAgICAg
      ICJNb25pdG9yaW5nUG9ydCI6IHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVF9QT1JU
      J10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIF0KCiAgICAgICAgaWYg
      c2VsZi5vdXRfbWFwWydSQkRfTUVUQURBVEFfRUNfUE9PTF9OQU1FJ106CiAgICAgICAgICAgIGpz
      b25fb3V0LmFwcGVuZCh7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJjZXBoLXJiZCIsCiAgICAg
      ICAgICAgICAgICAia2luZCI6ICJTdG9yYWdlQ2xhc3MiLAogICAgICAgICAgICAgICAgImRhdGEi
      OiB7CiAgICAgICAgICAgICAgICAgICAgImRhdGFQb29sIjogc2VsZi5vdXRfbWFwWydSQkRfUE9P
      TF9OQU1FJ10sCiAgICAgICAgICAgICAgICAgICAgInBvb2wiOiBzZWxmLm91dF9tYXBbJ1JCRF9N
      RVRBREFUQV9FQ19QT09MX05BTUUnXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkK
      ICAgICAgICBlbHNlOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAg
      ICAgIm5hbWUiOiAiY2VwaC1yYmQiLAogICAgICAgICAgICAgICAgImtpbmQiOiAiU3RvcmFnZUNs
      YXNzIiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAgICAgICAgICJwb29s
      Ijogc2VsZi5vdXRfbWFwWydSQkRfUE9PTF9OQU1FJ10KICAgICAgICAgICAgICAgIH0sCiAgICAg
      ICAgICAgIH0pCgogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIucmVzdHJpY3RlZF9hdXRoX3Bl
      cm1pc3Npb246CiAgICAgICAgICAgIGNsdXN0ZXJfbmFtZSA9IHNlbGYuX2FyZ19wYXJzZXIuY2x1
      c3Rlcl9uYW1lCiAgICAgICAgICAgIHJiZF9wb29sX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLnJi
      ZF9kYXRhX3Bvb2xfbmFtZQogICAgICAgICAgICBjZXBoZnNfZmlsZXN5c3RlbSA9IHNlbGYuX2Fy
      Z19wYXJzZXIuY2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZQogICAgICAgICAgICByYWRvc19uYW1lc3Bh
      Y2UgPSBzZWxmLl9hcmdfcGFyc2VyLnJhZG9zX25hbWVzcGFjZQogICAgICAgICAgICBqc29uX291
      dC5hcHBlbmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAicm9vay1jc2ktcmJkLW5vZGUte30t
      e30te30iLmZvcm1hdChjbHVzdGVyX25hbWUscmJkX3Bvb2xfbmFtZSxyYWRvc19uYW1lc3BhY2Up
      LAogICAgICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJkYXRh
      IjogewogICAgICAgICAgICAgICAgICAgICJ1c2VySUQiOiAnY3NpLXJiZC1ub2RlLXt9LXt9LXt9
      Jy5mb3JtYXQoY2x1c3Rlcl9uYW1lLHJiZF9wb29sX25hbWUscmFkb3NfbmFtZXNwYWNlKSwKICAg
      ICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNlbGYub3V0X21hcFsnQ1NJX1JCRF9OT0RFX1NF
      Q1JFVF9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAg
      ICAgICAgIyBpZiAnQ1NJX1JCRF9QUk9WSVNJT05FUl9TRUNSRVQnIGV4aXN0cywgdGhlbiBvbmx5
      IGFkZCAncm9vay1jc2ktcmJkLXByb3Zpc2lvbmVyJyBTZWNyZXQKICAgICAgICAgICAgaWYgc2Vs
      Zi5vdXRfbWFwWydDU0lfUkJEX1BST1ZJU0lPTkVSX1NFQ1JFVCddOgogICAgICAgICAgICAgICAg
      anNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNzaS1y
      YmQtcHJvdmlzaW9uZXIte30te30te30iLmZvcm1hdChjbHVzdGVyX25hbWUscmJkX3Bvb2xfbmFt
      ZSxyYWRvc19uYW1lc3BhY2UpLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIs
      CiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ1
      c2VySUQiOiAnY3NpLXJiZC1wcm92aXNpb25lci17fS17fS17fScuZm9ybWF0KGNsdXN0ZXJfbmFt
      ZSxyYmRfcG9vbF9uYW1lLHJhZG9zX25hbWVzcGFjZSksCiAgICAgICAgICAgICAgICAgICAgICAg
      ICJ1c2VyS2V5Ijogc2VsZi5vdXRfbWFwWydDU0lfUkJEX1BST1ZJU0lPTkVSX1NFQ1JFVCddCiAg
      ICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICMgaWYg
      J0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJyBleGlzdHMsIHRoZW4gb25seSBhZGQgJ3Jv
      b2stY3NpLWNlcGhmcy1wcm92aXNpb25lcicgU2VjcmV0CiAgICAgICAgICAgIGlmIHNlbGYub3V0
      X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJT05FUl9TRUNSRVQnXSBhbmQgY2VwaGZzX2ZpbGVzeXN0
      ZW0gIT0gIiI6CiAgICAgICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAg
      ICAgICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhmcy1wcm92aXNpb25lci17fS17fSIuZm9ybWF0
      KGNsdXN0ZXJfbmFtZSxjZXBoZnNfZmlsZXN5c3RlbSksCiAgICAgICAgICAgICAgICAgICAgImtp
      bmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAg
      ICAgICAgICAgICAgImFkbWluSUQiOiAnY3NpLWNlcGhmcy1wcm92aXNpb25lci17fS17fScuZm9y
      bWF0KGNsdXN0ZXJfbmFtZSxjZXBoZnNfZmlsZXN5c3RlbSksCiAgICAgICAgICAgICAgICAgICAg
      ICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJT05FUl9TRUNS
      RVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAg
      ICBpZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ10gYW5kIGNl
      cGhmc19maWxlc3lzdGVtID09ICIiOgogICAgICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsK
      ICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNzaS1jZXBoZnMtcHJvdmlzaW9uZXIt
      e30iLmZvcm1hdChjbHVzdGVyX25hbWUpLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNl
      Y3JldCIsCiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAg
      ICAgICJhZG1pbklEIjogJ2NzaS1jZXBoZnMtcHJvdmlzaW9uZXIte30nLmZvcm1hdChjbHVzdGVy
      X25hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5LZXkiOiBzZWxmLm91dF9tYXBb
      J0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ10KICAgICAgICAgICAgICAgICAgICB9LAog
      ICAgICAgICAgICAgICAgfSkgICAgCiAgICAgICAgICAgICMgaWYgJ0NTSV9DRVBIRlNfTk9ERV9T
      RUNSRVQnIGV4aXN0cywgdGhlbiBvbmx5IGFkZCAncm9vay1jc2ktY2VwaGZzLW5vZGUnIFNlY3Jl
      dAogICAgICAgICAgICBpZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfTk9ERV9TRUNSRVQnXSBh
      bmQgY2VwaGZzX2ZpbGVzeXN0ZW0gIT0gIiI6CiAgICAgICAgICAgICAgICBqc29uX291dC5hcHBl
      bmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhmcy1ub2RlLXt9
      LXt9Ii5mb3JtYXQoY2x1c3Rlcl9uYW1lLGNlcGhmc19maWxlc3lzdGVtKSwKICAgICAgICAgICAg
      ICAgICAgICAia2luZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAgICAgICJkYXRhIjogewog
      ICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5JRCI6ICdjc2ktY2VwaGZzLW5vZGUte30te30n
      LmZvcm1hdChjbHVzdGVyX25hbWUsY2VwaGZzX2ZpbGVzeXN0ZW0pLAogICAgICAgICAgICAgICAg
      ICAgICAgICAiYWRtaW5LZXkiOiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfTk9ERV9TRUNSRVQn
      XQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlm
      IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RFX1NFQ1JFVCddIGFuZCBjZXBoZnNfZmlsZXN5
      c3RlbSA9PSAiIjoKICAgICAgICAgICAgICAgIGpzb25fb3V0LmFwcGVuZCh7CiAgICAgICAgICAg
      ICAgICAgICAgIm5hbWUiOiAicm9vay1jc2ktY2VwaGZzLW5vZGUte30iLmZvcm1hdChjbHVzdGVy
      X25hbWUpLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAgICAgICAgICAg
      ICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJhZG1pbklEIjogJ2Nz
      aS1jZXBoZnMtbm9kZS17fScuZm9ybWF0KGNsdXN0ZXJfbmFtZSksCiAgICAgICAgICAgICAgICAg
      ICAgICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RFX1NFQ1JFVCdd
      CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkgICAgCiAgICAgICAgZWxz
      ZToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAgICAgICJuYW1lIjog
      InJvb2stY3NpLXJiZC1ub2RlIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAg
      ICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAidXNlcklEIjogJ2Nz
      aS1yYmQtbm9kZScsCiAgICAgICAgICAgICAgICAgICAgInVzZXJLZXkiOiBzZWxmLm91dF9tYXBb
      J0NTSV9SQkRfTk9ERV9TRUNSRVRfU0VDUkVUJ10KICAgICAgICAgICAgICAgICAgICB9CiAgICAg
      ICAgICAgIH0pCiAgICAgICAgICAgICMgaWYgJ0NTSV9SQkRfUFJPVklTSU9ORVJfU0VDUkVUJyBl
      eGlzdHMsIHRoZW4gb25seSBhZGQgJ3Jvb2stY3NpLXJiZC1wcm92aXNpb25lcicgU2VjcmV0CiAg
      ICAgICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9WSVNJT05FUl9TRUNSRVQnXToK
      ICAgICAgICAgICAgICAgIGpzb25fb3V0LmFwcGVuZCh7CiAgICAgICAgICAgICAgICAgICAgIm5h
      bWUiOiAicm9vay1jc2ktcmJkLXByb3Zpc2lvbmVyIiwKICAgICAgICAgICAgICAgICAgICAia2lu
      ZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAg
      ICAgICAgICAgICAidXNlcklEIjogJ2NzaS1yYmQtcHJvdmlzaW9uZXInLAogICAgICAgICAgICAg
      ICAgICAgICAgICAidXNlcktleSI6IHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9WSVNJT05FUl9T
      RUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAg
      ICAgICAjIGlmICdDU0lfQ0VQSEZTX1BST1ZJU0lPTkVSX1NFQ1JFVCcgZXhpc3RzLCB0aGVuIG9u
      bHkgYWRkICdyb29rLWNzaS1jZXBoZnMtcHJvdmlzaW9uZXInIFNlY3JldAogICAgICAgICAgICBp
      ZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ106CiAgICAgICAg
      ICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJv
      b2stY3NpLWNlcGhmcy1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAi
      U2VjcmV0IiwKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAg
      ICAgICAgImFkbWluSUQiOiAnY3NpLWNlcGhmcy1wcm92aXNpb25lcicsCiAgICAgICAgICAgICAg
      ICAgICAgICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJT05F
      Ul9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAg
      ICAgICAgICAjIGlmICdDU0lfQ0VQSEZTX05PREVfU0VDUkVUJyBleGlzdHMsIHRoZW4gb25seSBh
      ZGQgJ3Jvb2stY3NpLWNlcGhmcy1ub2RlJyBTZWNyZXQKICAgICAgICAgICAgaWYgc2VsZi5vdXRf
      bWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVUJ106CiAgICAgICAgICAgICAgICBqc29uX291dC5h
      cHBlbmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhmcy1ub2Rl
      IiwKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAg
      ICAgICJkYXRhIjogewogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5JRCI6ICdjc2ktY2Vw
      aGZzLW5vZGUnLAogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5LZXkiOiBzZWxmLm91dF9t
      YXBbJ0NTSV9DRVBIRlNfTk9ERV9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAg
      ICAgICAgICAgIH0pCiAgICAgICAgIyBpZiAnUk9PS19FWFRFUk5BTF9EQVNIQk9BUkRfTElOSycg
      ZXhpc3RzLCB0aGVuIG9ubHkgYWRkICdyb29rLWNlcGgtZGFzaGJvYXJkLWxpbmsnIFNlY3JldAog
      ICAgICAgIGlmIHNlbGYub3V0X21hcFsnUk9PS19FWFRFUk5BTF9EQVNIQk9BUkRfTElOSyddOgog
      ICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAicm9v
      ay1jZXBoLWRhc2hib2FyZC1saW5rIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIs
      CiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAidXNlcklEIjog
      J2NlcGgtZGFzaGJvYXJkLWxpbmsnLAogICAgICAgICAgICAgICAgICAgICJ1c2VyS2V5Ijogc2Vs
      Zi5vdXRfbWFwWydST09LX0VYVEVSTkFMX0RBU0hCT0FSRF9MSU5LJ10KICAgICAgICAgICAgICAg
      IH0KICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdDRVBIRlNfRlNfTkFNRScgZXhpc3RzLCB0
      aGVuIG9ubHkgYWRkICdjZXBoZnMnIFN0b3JhZ2VDbGFzcwogICAgICAgIGlmIHNlbGYub3V0X21h
      cFsnQ0VQSEZTX0ZTX05BTUUnXToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAg
      ICAgICAgICAgICJuYW1lIjogImNlcGhmcyIsCiAgICAgICAgICAgICAgICAia2luZCI6ICJTdG9y
      YWdlQ2xhc3MiLAogICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAg
      ImZzTmFtZSI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX0ZTX05BTUUnXSwKICAgICAgICAgICAgICAg
      ICAgICAicG9vbCI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX1BPT0xfTkFNRSddCiAgICAgICAgICAg
      ICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgIyBpZiAnUkdXX0VORFBPSU5UJyBleGlzdHMs
      IHRoZW4gb25seSBhZGQgJ2NlcGgtcmd3JyBTdG9yYWdlQ2xhc3MKICAgICAgICBpZiBzZWxmLm91
      dF9tYXBbJ1JHV19FTkRQT0lOVCddOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAg
      ICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yZ3ciLAogICAgICAgICAgICAgICAgImtpbmQiOiAi
      U3RvcmFnZUNsYXNzIiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAgICAg
      ICAgICJlbmRwb2ludCI6IHNlbGYub3V0X21hcFsnUkdXX0VORFBPSU5UJ10sCiAgICAgICAgICAg
      ICAgICAgICAgInBvb2xQcmVmaXgiOiBzZWxmLm91dF9tYXBbJ1JHV19QT09MX1BSRUZJWCddCiAg
      ICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGpzb25fb3V0LmFwcGVu
      ZCgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJyZ3ctYWRt
      aW4tb3BzLXVzZXIiLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAgICAg
      ICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3NL
      ZXkiOiBzZWxmLm91dF9tYXBbJ0FDQ0VTU19LRVknXSwKICAgICAgICAgICAgICAgICAgICAgICAg
      InNlY3JldEtleSI6IHNlbGYub3V0X21hcFsnU0VDUkVUX0tFWSddCiAgICAgICAgICAgICAgICAg
      ICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdSR1dfVExTX0NFUlQnIGV4aXN0
      cywgdGhlbiBvbmx5IGFkZCB0aGUgImNlcGgtcmd3LXRscy1jZXJ0IiBzZWNyZXQKICAgICAgICBp
      ZiBzZWxmLm91dF9tYXBbJ1JHV19UTFNfQ0VSVCddOgogICAgICAgICAgICBqc29uX291dC5hcHBl
      bmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yZ3ctdGxzLWNlcnQiLAogICAgICAg
      ICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAg
      ICAgICAgICAgICAgICAgICJjZXJ0Ijogc2VsZi5vdXRfbWFwWydSR1dfVExTX0NFUlQnXSwKICAg
      ICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgcmV0dXJuIGpzb24uZHVtcHMo
      anNvbl9vdXQpK0xJTkVTRVAKCiAgICBkZWYgdXBncmFkZV91c2Vyc19wZXJtaXNzaW9ucyhzZWxm
      KToKICAgICAgICB1c2VycyA9IFsiY2xpZW50LmNzaS1jZXBoZnMtbm9kZSIsImNsaWVudC5jc2kt
      Y2VwaGZzLXByb3Zpc2lvbmVyIiwiY2xpZW50LmNzaS1yYmQtbm9kZSIsImNsaWVudC5jc2ktcmJk
      LXByb3Zpc2lvbmVyIl0KICAgICAgICBpZiBzZWxmLnJ1bl9hc191c2VyICE9ICIiIGFuZCBzZWxm
      LnJ1bl9hc191c2VyIG5vdCBpbiB1c2VyczoKICAgICAgICAgICAgdXNlcnMuYXBwZW5kKHNlbGYu
      cnVuX2FzX3VzZXIpCiAgICAgICAgZm9yIHVzZXIgaW4gdXNlcnM6CiAgICAgICAgICAgIHNlbGYu
      dXBncmFkZV91c2VyX3Blcm1pc3Npb25zKHVzZXIpCiAgICAgICAgCiAgICBkZWYgdXBncmFkZV91
      c2VyX3Blcm1pc3Npb25zKHNlbGYsdXNlcik6CiAgICAgICAgIyBjaGVjayB3aGV0aGVyIHRoZSBn
      aXZlbiB1c2VyIGV4aXN0cyBvciBub3QKICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1
      dGggZ2V0IiwgImVudGl0eSI6ICJ7fSIuZm9ybWF0KAogICAgICAgICAgICB1c2VyKSwgImZvcm1h
      dCI6ICJqc29uIn0KICAgICAgICByZXRfdmFsLCBqc29uX291dCwgZXJyX21zZyA9IHNlbGYuX2Nv
      bW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxl
      bihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAgcHJpbnQoInVzZXIge30gbm90IGZvdW5kIGZv
      ciB1cGdyYWRpbmcuIi5mb3JtYXQodXNlcikpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGV4
      aXN0aW5nX2NhcHMgPSBqc29uX291dFswXVsnY2FwcyddCiAgICAgICAgbmV3X2NhcCwgXyA9IHNl
      bGYuZ2V0X2NhcHNfYW5kX2VudGl0eSh1c2VyKQogICAgICAgIGNhcF9rZXlzID0gWyJtb24iLCAi
      bWdyIiwgIm9zZCIsICJtZHMiXQogICAgICAgIGNhcHMgPSBbXQogICAgICAgIGZvciBlYWNoQ2Fw
      IGluIGNhcF9rZXlzOgogICAgICAgICAgICBjdXJfY2FwX3ZhbHVlcyA9IGV4aXN0aW5nX2NhcHMu
      Z2V0KGVhY2hDYXAsICcnKQogICAgICAgICAgICBuZXdfY2FwX3ZhbHVlcyA9IG5ld19jYXAuZ2V0
      KGVhY2hDYXAsICcnKQogICAgICAgICAgICBjdXJfY2FwX3Blcm1fbGlzdCA9IFt4LnN0cmlwKCkK
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gY3VyX2NhcF92YWx1ZXMu
      c3BsaXQoJywnKSBpZiB4LnN0cmlwKCldCiAgICAgICAgICAgIG5ld19jYXBfcGVybV9saXN0ID0g
      W3guc3RyaXAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBuZXdf
      Y2FwX3ZhbHVlcy5zcGxpdCgnLCcpIGlmIHguc3RyaXAoKV0KICAgICAgICAgICAgIyBhcHBlbmQg
      bmV3X2NhcF9saXN0IHRvIGN1cl9jYXBfbGlzdCB0byBtYWludGFpbiB0aGUgb3JkZXIgb2YgY2Fw
      cwogICAgICAgICAgICBjdXJfY2FwX3Blcm1fbGlzdC5leHRlbmQobmV3X2NhcF9wZXJtX2xpc3Qp
      CiAgICAgICAgICAgICMgZWxpbWluYXRlIGR1cGxpY2F0ZXMgd2l0aG91dCB1c2luZyAnc2V0Jwog
      ICAgICAgICAgICAjIHNldCByZS1vcmRlcnMgaXRlbXMgaW4gdGhlIGxpc3QgYW5kIHdlIGhhdmUg
      dG8ga2VlcCB0aGUgb3JkZXIKICAgICAgICAgICAgbmV3X2NhcF9saXN0ID0gW10KICAgICAgICAg
      ICAgW25ld19jYXBfbGlzdC5hcHBlbmQoCiAgICAgICAgICAgICAgICB4KSBmb3IgeCBpbiBjdXJf
      Y2FwX3Blcm1fbGlzdCBpZiB4IG5vdCBpbiBuZXdfY2FwX2xpc3RdCiAgICAgICAgICAgIGV4aXN0
      aW5nX2NhcHNbZWFjaENhcF0gPSAiLCAiLmpvaW4obmV3X2NhcF9saXN0KQogICAgICAgICAgICBp
      ZiBleGlzdGluZ19jYXBzW2VhY2hDYXBdOgogICAgICAgICAgICAgICBjYXBzLmFwcGVuZChlYWNo
      Q2FwKQogICAgICAgICAgICAgICBjYXBzLmFwcGVuZChleGlzdGluZ19jYXBzW2VhY2hDYXBdKSAK
      ICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1dGggY2FwcyIsCiAgICAgICAgICAgICAg
      ICAgICAgImVudGl0eSI6IHVzZXIsCiAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBjYXBzLCAg
      IAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAianNvbiJ9CiAgICAgICAgcmV0X3ZhbCwg
      anNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21tb25fY21kX2pzb25fZ2VuKGNtZF9qc29uKQog
      ICAgICAgIGlmIHJldF92YWwgIT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVy
      ZUV4Y2VwdGlvbigiJ2F1dGggY2FwcyB7fScgY29tbWFuZCBmYWlsZWQuXG4iLmZvcm1hdCh1c2Vy
      KSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVycm9yOiB7
      fSIuZm9ybWF0KGVycl9tc2cpKQogICAgICAgIHByaW50KCJVcGRhdGVkIHVzZXIsIHt9LCBzdWNj
      ZXNzZnVsbHkuIi5mb3JtYXQodXNlcikpCgogICAgZGVmIG1haW4oc2VsZik6CiAgICAgICAgZ2Vu
      ZXJhdGVkX291dHB1dCA9ICcnCiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci51cGdyYWRlOgog
      ICAgICAgICAgICBzZWxmLnVwZ3JhZGVfdXNlcnNfcGVybWlzc2lvbnMoKQogICAgICAgIGVsaWYg
      c2VsZi5fYXJnX3BhcnNlci5mb3JtYXQgPT0gJ2pzb24nOgogICAgICAgICAgICBnZW5lcmF0ZWRf
      b3V0cHV0ID0gc2VsZi5nZW5fanNvbl9vdXQoKQogICAgICAgIGVsaWYgc2VsZi5fYXJnX3BhcnNl
      ci5mb3JtYXQgPT0gJ2Jhc2gnOgogICAgICAgICAgICBnZW5lcmF0ZWRfb3V0cHV0ID0gc2VsZi5n
      ZW5fc2hlbGxfb3V0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25G
      YWlsdXJlRXhjZXB0aW9uKCJVbnN1cHBvcnRlZCBmb3JtYXQ6IHt9Ii5mb3JtYXQoCiAgICAgICAg
      ICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLmZvcm1hdCkpCiAgICAgICAgcHJpbnQoJ3t9Jy5mb3Jt
      YXQoZ2VuZXJhdGVkX291dHB1dCkpCiAgICAgICAgaWYgc2VsZi5vdXRwdXRfZmlsZSBhbmQgZ2Vu
      ZXJhdGVkX291dHB1dDoKICAgICAgICAgICAgZk91dCA9IG9wZW4oc2VsZi5vdXRwdXRfZmlsZSwg
      J3cnKQogICAgICAgICAgICBmT3V0LndyaXRlKGdlbmVyYXRlZF9vdXRwdXQpCiAgICAgICAgICAg
      IGZPdXQuY2xvc2UoKQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMgTUFJTiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMK
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmlmIF9fbmFt
      ZV9fID09ICdfX21haW5fXyc6CiAgICByak9iaiA9IFJhZG9zSlNPTigpCiAgICB0cnk6CiAgICAg
      ICAgcmpPYmoubWFpbigpCiAgICBleGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBl
      cnI6CiAgICAgICAgcHJpbnQoIkV4ZWN1dGlvbiBGYWlsZWQ6IHt9Ii5mb3JtYXQoZXJyKSkKICAg
      ICAgICByYWlzZSBlcnIKICAgIGV4Y2VwdCBLZXlFcnJvciBhcyBrRXJyOgogICAgICAgIHByaW50
      KCJLZXlFcnJvcjogJXMiLCBrRXJyKQogICAgZXhjZXB0IE9TRXJyb3IgYXMgb3NFcnI6CiAgICAg
      ICAgcHJpbnQoIkVycm9yIHdoaWxlIHRyeWluZyB0byBvdXRwdXQgdGhlIGRhdGE6IHt9Ii5mb3Jt
      YXQob3NFcnIpKQogICAgZmluYWxseToKICAgICAgICByak9iai5zaHV0ZG93bigpCgoKIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyBURVNUICMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBpbm9yZGVyIHRvIHRlc3QgdGhlIHBhY2thZ2Us
      CiMgY2QgPHNjcmlwdF9kaXJlY3Rvcnk+CiMgcHl0aG9uMyAtbSB1bml0dGVzdCAtLXZlcmJvc2Ug
      PHNjcmlwdF9uYW1lX3dpdGhvdXRfZG90X3B5PgpjbGFzcyBUZXN0UmFkb3NKU09OKHVuaXR0ZXN0
      LlRlc3RDYXNlKToKICAgIGRlZiBzZXRVcChzZWxmKToKICAgICAgICBwcmludCgiXG5JIGFtIGlu
      IHNldHVwIikKICAgICAgICBzZWxmLnJqT2JqID0gUmFkb3NKU09OKFsnLS1yYmQtZGF0YS1wb29s
      LW5hbWU9YWJjJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLS1yZ3ctZW5kcG9p
      bnQ9MTAuMTAuMjEyLjEyMjo5MDAwJywgJy0tZm9ybWF0PWpzb24nXSkKICAgICAgICAjIGZvciB0
      ZXN0aW5nLCB3ZSBhcmUgdXNpbmcgJ0R1bW15UmFkb3MnIG9iamVjdAogICAgICAgIHNlbGYucmpP
      YmouY2x1c3RlciA9IER1bW15UmFkb3MuUmFkb3MoKQoKICAgIGRlZiB0ZWFyRG93bihzZWxmKToK
      ICAgICAgICBwcmludCgiXG5JIGFtIHRlYXJpbmcgZG93biB0aGUgc2V0dXBcbiIpCiAgICAgICAg
      c2VsZi5yak9iai5zaHV0ZG93bigpCgogICAgZGVmIHRlc3RfbWV0aG9kX21haW5fb3V0cHV0KHNl
      bGYpOgogICAgICAgIHByaW50KCJKU09OIE91dHB1dCIpCiAgICAgICAgc2VsZi5yak9iai5fYXJn
      X3BhcnNlci5mb3JtYXQgPSAianNvbiIKICAgICAgICBzZWxmLnJqT2JqLm1haW4oKQogICAgICAg
      IHByaW50KCJcblxuU2hlbGwgT3V0cHV0IikKICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2Vy
      LmZvcm1hdCA9ICJiYXNoIgogICAgICAgIHNlbGYucmpPYmoubWFpbigpCiAgICAgICAgcHJpbnQo
      IlxuXG5Ob24gY29tcGF0aWJsZSBvdXRwdXQgKC0tYWJjZCkiKQogICAgICAgIHRyeToKICAgICAg
      ICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5mb3JtYXQgPSAnYWJjZCcKICAgICAgICAgICAg
      c2VsZi5yak9iai5tYWluKCkKICAgICAgICAgICAgc2VsZi5mYWlsKCJGdW5jdGlvbiBzaG91bGQg
      aGF2ZSB0aHJvd24gYW4gRXhjZXB0aW9uIikKICAgICAgICBleGNlcHQgRXhlY3V0aW9uRmFpbHVy
      ZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJFeGNlcHRpb24gdGhyb3duIHN1
      Y2Nlc3NmdWxseToge30iLmZvcm1hdChlcnIpKQoKICAgIGRlZiB0ZXN0X21ldGhvZF9jcmVhdGVf
      Y2VwaENTSUtleXJpbmdfY2VwaEZTUHJvdmlzaW9uZXIoc2VsZik6CiAgICAgICAgY3NpS2V5cmlu
      ZyA9IHNlbGYucmpPYmouY3JlYXRlX2NlcGhDU0lLZXlyaW5nX3VzZXIoImNsaWVudC5jc2ktY2Vw
      aGZzLXByb3Zpc2lvbmVyIikKICAgICAgICBwcmludCgiY2VwaENTSUtleXJpbmcgd2l0aG91dCBy
      ZXN0cmljdGluZyBpdCB0byBhIG1ldGFkYXRhIHBvb2wuIHt9Ii5mb3JtYXQoY3NpS2V5cmluZykp
      CiAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lv
      biA9IFRydWUKICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLmNsdXN0ZXJfbmFtZSA9ICJv
      cGVuc2hpZnQtc3RvcmFnZSIKICAgICAgICBjc2lLZXlyaW5nID0gc2VsZi5yak9iai5jcmVhdGVf
      Y2VwaENTSUtleXJpbmdfdXNlcigiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIiKQogICAg
      ICAgIHByaW50KCJjZXBoQ1NJS2V5cmluZyBmb3IgYSBzcGVjaWZpYyBjbHVzdGVyLiB7fSIuZm9y
      bWF0KGNzaUtleXJpbmcpKQogICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIuY2VwaGZzX2Zp
      bGVzeXN0ZW1fbmFtZSA9ICJteWZzIgogICAgICAgIGNzaUtleXJpbmcgPSBzZWxmLnJqT2JqLmNy
      ZWF0ZV9jZXBoQ1NJS2V5cmluZ191c2VyKCJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNpb25lciIp
      CiAgICAgICAgcHJpbnQoImNlcGhDU0lLZXlyaW5nIGZvciBhIHNwZWNpZmljIG1ldGFkYXRhIHBv
      b2wgYW5kIGNsdXN0ZXIuIHt9Ii5mb3JtYXQoY3NpS2V5cmluZykpCgogICAgZGVmIHRlc3Rfbm9u
      X3plcm9fcmV0dXJuX2FuZF9lcnJvcihzZWxmKToKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIu
      cmV0dXJuX3ZhbCA9IDEKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuZXJyX21lc3NhZ2UgPSAi
      RHVtbXkgRXJyb3IiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLmNyZWF0ZV9j
      aGVja2VyS2V5KCkKICAgICAgICAgICAgc2VsZi5mYWlsKCJGYWlsZWQgdG8gcmFpc2UgYW4gZXhj
      ZXB0aW9uLCAnRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiciKQogICAgICAgIGV4Y2VwdCBFeGVj
      dXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3Nm
      dWxseSB0aHJvd24gZXJyb3IuXG5FcnJvcjoge30iLmZvcm1hdChlcnIpKQoKICAgIGRlZiB0ZXN0
      X211bHRpX2ZpbGVzeXN0ZW1fc2NlbmFyaW8oc2VsZik6CiAgICAgICAgY21kX2tleSA9IHNlbGYu
      cmpPYmouY2x1c3Rlci5jbWRfbmFtZXNbJ2ZzIGxzJ10KICAgICAgICBjbWRfb3V0ID0gc2VsZi5y
      ak9iai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldCiAgICAgICAgY21kX2pzb25fb3V0
      ID0ganNvbi5sb2FkcyhjbWRfb3V0KQogICAgICAgIHNlY29uZF9mc19kZXRhaWxzID0gZGljdChj
      bWRfanNvbl9vdXRbMF0pCiAgICAgICAgc2Vjb25kX2ZzX2RldGFpbHNbJ25hbWUnXSArPSAnLTIn
      CiAgICAgICAgY21kX2pzb25fb3V0LmFwcGVuZChzZWNvbmRfZnNfZGV0YWlscykKICAgICAgICBz
      ZWxmLnJqT2JqLmNsdXN0ZXIuY21kX291dHB1dF9tYXBbY21kX2tleV0gPSBqc29uLmR1bXBzKGNt
      ZF9qc29uX291dCkKICAgICAgICAjIG11bHRpcGxlIGZpbGVzeXN0ZW0gcHJlc2VudCwKICAgICAg
      ICAjIGJ1dCBubyBzcGVjaWZpYyAnLS1jZXBoZnMtZmlsZXN5c3RlbS1uYW1lJyBhcmd1bWVudCBw
      cm92aWRlZAogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5nZXRfY2VwaGZzX2Rh
      dGFfcG9vbF9kZXRhaWxzKCkKICAgICAgICAgICAgcHJpbnQoIkFzIHdlIGFyZSByZXR1cm5pbmcg
      c2lsZW50bHksIG5vIGVycm9yIHRocm93biBhcyBleHBlY3RlZCIpCiAgICAgICAgZXhjZXB0IEV4
      ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBzZWxmLmZhaWwoCiAg
      ICAgICAgICAgICAgICAiU3VwcG9zZWQgdG8gZ2V0IHJldHVybmVkIHNpbGVudGx5LCBidXQgaW5z
      dGVhZCBlcnJvciB0aHJvd246IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAjIHBhc3MgYW4gZXhp
      c3RpbmcgZmlsZXN5c3RlbSBuYW1lCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2Jq
      Ll9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWUgPSBzZWNvbmRfZnNfZGV0YWlsc1sn
      bmFtZSddCiAgICAgICAgICAgIHNlbGYucmpPYmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWls
      cygpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAg
      ICAgICAgICBzZWxmLmZhaWwoIlNob3VsZCBub3QgaGF2ZSB0aHJvd24gZXJyb3I6IHt9Ii5mb3Jt
      YXQoZXJyKSkKICAgICAgICAjIHBhc3MgYSBub24tZXhpc3RpbmcgZmlsZXN5c3RlbSBuYW1lCiAg
      ICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLmNlcGhmc19maWxl
      c3lzdGVtX25hbWUgKz0gIi1ub24tZXhpc3RpbmctZnMtbmFtZSIKICAgICAgICAgICAgc2VsZi5y
      ak9iai5nZXRfY2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKCkKICAgICAgICAgICAgc2VsZi5mYWls
      KCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVkIHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0
      IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3Vj
      Y2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30iLmZvcm1hdChlcnIpKQogICAgICAgICMgZW1wdHkg
      ZmlsZS1zeXN0ZW0gYXJyYXkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouY2x1
      c3Rlci5jbWRfb3V0cHV0X21hcFtjbWRfa2V5XSA9IGpzb24uZHVtcHMoW10pCiAgICAgICAgICAg
      IHNlbGYucmpPYmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAgIHNl
      bGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAg
      IGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJp
      bnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKCiAgICBkZWYg
      dGVzdF9tdWx0aV9kYXRhX3Bvb2xfc2NlbmFyaW8oc2VsZik6CiAgICAgICAgY21kX2tleSA9IHNl
      bGYucmpPYmouY2x1c3Rlci5jbWRfbmFtZXNbJ2ZzIGxzJ10KICAgICAgICBjbWRfb3V0ID0gc2Vs
      Zi5yak9iai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldCiAgICAgICAgY21kX2pzb25f
      b3V0ID0ganNvbi5sb2FkcyhjbWRfb3V0KQogICAgICAgIGZpcnN0X2ZzX2RldGFpbHMgPSBjbWRf
      anNvbl9vdXRbMF0KICAgICAgICBuZXdfZGF0YV9wb29sX25hbWUgPSAnbXlmcy1kYXRhMScKICAg
      ICAgICBmaXJzdF9mc19kZXRhaWxzWydkYXRhX3Bvb2xzJ10uYXBwZW5kKG5ld19kYXRhX3Bvb2xf
      bmFtZSkKICAgICAgICBwcmludCgiTW9kaWZpZWQgSlNPTiBDbWQgT3V0OiB7fSIuZm9ybWF0KGNt
      ZF9qc29uX291dCkpCiAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9w
      b29sX25hbWUgPSBuZXdfZGF0YV9wb29sX25hbWUKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIu
      Y21kX291dHB1dF9tYXBbY21kX2tleV0gPSBqc29uLmR1bXBzKGNtZF9qc29uX291dCkKICAgICAg
      ICBzZWxmLnJqT2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAgICAgICMgdXNl
      IGEgbm9uLWV4aXN0aW5nIGRhdGEtcG9vbC1uYW1lCiAgICAgICAgYmFkX2RhdGFfcG9vbF9uYW1l
      ID0gJ215ZnMtZGF0YTMnCiAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5jZXBoZnNfZGF0
      YV9wb29sX25hbWUgPSBiYWRfZGF0YV9wb29sX25hbWUKICAgICAgICB0cnk6CiAgICAgICAgICAg
      IHNlbGYucmpPYmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAgIHNl
      bGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAg
      IGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJp
      bnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAj
      IGVtcHR5IGRhdGEtcG9vbCBzY2VuYXJpbwogICAgICAgIGZpcnN0X2ZzX2RldGFpbHNbJ2RhdGFf
      cG9vbHMnXSA9IFtdCiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2Nt
      ZF9rZXldID0ganNvbi5kdW1wcyhjbWRfanNvbl9vdXQpCiAgICAgICAgdHJ5OgogICAgICAgICAg
      ICBzZWxmLnJqT2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAgICAgICAgICBz
      ZWxmLmZhaWwoIkFuIEV4Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3duIikKICAgICAg
      ICBleGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHBy
      aW50KCJTdWNjZXNzZnVsbHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikpCgogICAgZGVm
      IHRlc3RfdmFsaWRfcmd3X2VuZHBvaW50KHNlbGYpOgogICAgICAgIHNlbGYucmpPYmouX2ludmFs
      aWRfZW5kcG9pbnQoIjEwLjEwLjIxMi4xMzM6ODAwMCIpCiAgICAgICAgIyBpbnZhbGlkIHBvcnQK
      ICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouX2ludmFsaWRfZW5kcG9pbnQoIjEw
      LjEwLjIxMi4xMzM6MjM4MDAwIikKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24g
      d2FzIGV4cGVjdGVkIHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1
      cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93
      biBlcnJvcjoge30iLmZvcm1hdChlcnIpKQogICAgICAgICMgb3V0IG9mIHJhbmdlIElQCiAgICAg
      ICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9pbnZhbGlkX2VuZHBvaW50KCIxMC4xMDMz
      LjIxMi4xMzM6ODAwMCIpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdhcyBl
      eHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhj
      ZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24gZXJy
      b3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAjIG1hbCBmb3JtYXR0ZWQgSVAKICAgICAgICB0
      cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouX2ludmFsaWRfZW5kcG9pbnQoIjEwLjEwMy4uMjEy
      LjEzMzo4MDAwIikKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVj
      dGVkIHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjog
      e30iLmZvcm1hdChlcnIpKQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5faW52
      YWxpZF9lbmRwb2ludCgiMTAuMTAzLjIxMi4xMzM6OjgwMDAiKQogICAgICAgICAgICBzZWxmLmZh
      aWwoIkFuIEV4Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3duIikKICAgICAgICBleGNl
      cHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJT
      dWNjZXNzZnVsbHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikpCiAgICAgICAgdHJ5Ogog
      ICAgICAgICAgICBzZWxmLnJqT2JqLl9pbnZhbGlkX2VuZHBvaW50KCIxMC4xMC4xMDMuMjEyLjEz
      Mzo4MDAwIikKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVk
      IHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24g
      YXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30i
      LmZvcm1hdChlcnIpKQogICAgICAgIAogICAgZGVmIHRlc3RfdXBncmFkZV91c2VyX3Blcm1pc3Np
      b25zKHNlbGYpOgogICAgICAgIHNlbGYucmpPYmogPSBSYWRvc0pTT04oCiAgICAgICAgICAgIFsn
      LS11cGdyYWRlJywgJy0tcnVuLWFzLXVzZXI9Y2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIn
      LCAnLS1mb3JtYXQ9anNvbiddKQogICAgICAgICMgZm9yIHRlc3RpbmcsIHdlIGFyZSB1c2luZyAn
      RHVtbXlSYWRvcycgb2JqZWN0CiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyID0gRHVtbXlSYWRv
      cy5SYWRvcygpCiAgICAgICAgc2VsZi5yak9iai5tYWluKCkKCiAgICBkZWYgdGVzdF9tb25pdG9y
      aW5nX2VuZHBvaW50X3ZhbGlkYXRpb24oc2VsZik6CiAgICAgICAgc2VsZi5yak9iaiA9IFJhZG9z
      SlNPTihbJy0tcmJkLWRhdGEtcG9vbC1uYW1lPWFiYycsICctLWZvcm1hdD1qc29uJ10pCiAgICAg
      ICAgc2VsZi5yak9iai5jbHVzdGVyID0gRHVtbXlSYWRvcy5SYWRvcygpCgogICAgICAgIHZhbGlk
      X2lwX3BvcnRzID0gWygiMTAuMjIuMzEuMTMxIiwgIjM1MzQiKSwKICAgICAgICAgICAgICAgICAg
      ICAgICAgICAoIjEwLjE3Ny4zLjgxIiwgIiIpLCAoIiIsICIiKSwgKCIiLCAiOTA5MiIpXQogICAg
      ICAgIGZvciBlYWNoX2lwX3BvcnRfcGFpciBpbiB2YWxpZF9pcF9wb3J0czoKICAgICAgICAgICAg
      IyByZXNldCBtb25pdG9yaW5nIGlwIGFuZCBwb3J0CiAgICAgICAgICAgIHNlbGYucmpPYmouX2Fy
      Z19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludCA9ICcnCiAgICAgICAgICAgIHNlbGYucmpPYmou
      X2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gJycKICAgICAgICAgICAgbmV3
      X21vbl9pcCwgbmV3X21vbl9wb3J0ID0gZWFjaF9pcF9wb3J0X3BhaXIKICAgICAgICAgICAgY2hl
      Y2tfaXBfdmFsID0gc2VsZi5yak9iai5jbHVzdGVyLmR1bW15X2hvc3RfaXBfbWFwLmdldCgKICAg
      ICAgICAgICAgICAgIG5ld19tb25faXAsIG5ld19tb25faXApCiAgICAgICAgICAgIGNoZWNrX3Bv
      cnRfdmFsID0gUmFkb3NKU09OLkRFRkFVTFRfTU9OSVRPUklOR19FTkRQT0lOVF9QT1JUCiAgICAg
      ICAgICAgIGlmIG5ld19tb25faXA6CiAgICAgICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFy
      c2VyLm1vbml0b3JpbmdfZW5kcG9pbnQgPSBuZXdfbW9uX2lwCiAgICAgICAgICAgIGlmIG5ld19t
      b25fcG9ydDoKICAgICAgICAgICAgICAgIGNoZWNrX3BvcnRfdmFsID0gbmV3X21vbl9wb3J0CiAg
      ICAgICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnRf
      cG9ydCA9IG5ld19tb25fcG9ydAogICAgICAgICAgICAjIGZvciB0ZXN0aW5nLCB3ZSBhcmUgdXNp
      bmcgJ0R1bW15UmFkb3MnIG9iamVjdAogICAgICAgICAgICBtb25faXBzLCBtb25fcG9ydCA9IHNl
      bGYucmpPYmouZ2V0X2FjdGl2ZV9hbmRfc3RhbmRieV9tZ3JzKCkKICAgICAgICAgICAgbW9uX2lw
      ID0gbW9uX2lwcy5zcGxpdCgiLCIpWzBdCiAgICAgICAgICAgIGlmIGNoZWNrX2lwX3ZhbCBhbmQg
      Y2hlY2tfaXBfdmFsICE9IG1vbl9pcDoKICAgICAgICAgICAgICAgIHNlbGYuZmFpbCgiRXhwZWN0
      ZWQgSVA6IHt9LCBSZXR1cm5lZCBJUDoge30iLmZvcm1hdCgKICAgICAgICAgICAgICAgICAgICBj
      aGVja19pcF92YWwsIG1vbl9pcCkpCiAgICAgICAgICAgIGlmIGNoZWNrX3BvcnRfdmFsIGFuZCBj
      aGVja19wb3J0X3ZhbCAhPSBtb25fcG9ydDoKICAgICAgICAgICAgICAgIHNlbGYuZmFpbCgiRXhw
      ZWN0ZWQgUG9ydDogJ3t9JywgUmV0dXJuZWQgUG9ydDogJ3t9JyIuZm9ybWF0KAogICAgICAgICAg
      ICAgICAgICAgIGNoZWNrX3BvcnRfdmFsLCBtb25fcG9ydCkpCiAgICAgICAgICAgIHByaW50KCJN
      b25JUDoge30sIE1vblBvcnQ6IHt9Ii5mb3JtYXQobW9uX2lwLCBtb25fcG9ydCkpCgogICAgICAg
      IGludmFsaWRfaXBfcG9ydHMgPSBbKCIxMC4yMi4zMS4xMzEuNDMiLCAiNTMzNCIpLCAoIiIsICI5
      MTk0MyIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKCIxMC4xNzcuMy44MSIsICI5MDMy
      MCIpLCAoIiIsICI3MzQyMiIpLCAoIjEwLjIzMi4xMi44IiwgIjkwOTIyIildCiAgICAgICAgZm9y
      IGVhY2hfaXBfcG9ydF9wYWlyIGluIGludmFsaWRfaXBfcG9ydHM6CiAgICAgICAgICAgICMgcmVz
      ZXQgdGhlIGNvbW1hbmQtbGluZSBtb25pdG9yaW5nIGFyZ3MKICAgICAgICAgICAgc2VsZi5yak9i
      ai5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50ID0gJycKICAgICAgICAgICAgc2VsZi5y
      ak9iai5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50X3BvcnQgPSAnJwogICAgICAgICAg
      ICBuZXdfbW9uX2lwLCBuZXdfbW9uX3BvcnQgPSBlYWNoX2lwX3BvcnRfcGFpcgogICAgICAgICAg
      ICBpZiBuZXdfbW9uX2lwOgogICAgICAgICAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5t
      b25pdG9yaW5nX2VuZHBvaW50ID0gbmV3X21vbl9pcAogICAgICAgICAgICBpZiBuZXdfbW9uX3Bv
      cnQ6CiAgICAgICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLm1vbml0b3JpbmdfZW5k
      cG9pbnRfcG9ydCA9IG5ld19tb25fcG9ydAogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAg
      ICBtb25faXAsIG1vbl9wb3J0ID0gc2VsZi5yak9iai5nZXRfYWN0aXZlX2FuZF9zdGFuZGJ5X21n
      cnMoKQogICAgICAgICAgICAgICAgcHJpbnQoIltXcm9uZ10gTW9uSVA6IHt9LCBNb25Qb3J0OiB7
      fSIuZm9ybWF0KG1vbl9pcCwgbW9uX3BvcnQpKQogICAgICAgICAgICAgICAgc2VsZi5mYWlsKCJB
      biBleGNlcHRpb24gd2FzIGV4cGVjdGVkIikKICAgICAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZh
      aWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICAgICAgcHJpbnQoIkV4Y2VwdGlvbiB0
      aHJvd24gc3VjY2Vzc2Z1bGx5OiB7fSIuZm9ybWF0KGVycikpCg==
    external.features.ocs.openshift.io/supported-platforms: '["BareMetal", "None",
      "VSphere", "OpenStack", "oVirt"]'
    external.features.ocs.openshift.io/validation: '{"secrets":["rook-ceph-operator-creds",
      "rook-csi-rbd-node", "rook-csi-rbd-provisioner"], "configMaps": ["rook-ceph-mon-endpoints",
      "rook-ceph-mon"], "storageClasses": ["ceph-rbd"], "cephClusters": ["monitoring-endpoint"]}'
    features.ocs.openshift.io/disabled: '["ss-list"]'
    features.ocs.openshift.io/enabled: '["kms", "arbiter", "flexible-scaling", "multus",
      "pool-management", "namespace-store", "mcg-standalone", "taint-nodes", "vault-sa-kms",
      "hpcs-kms"]'
    olm.skipRange: '>=0.0.1 <4.10.0'
    operatorframework.io/initialization-resource: "\n    {\n        \"apiVersion\":
      \"ocs.openshift.io/v1\",\n        \"kind\": \"StorageCluster\",\n        \"metadata\":
      {\n            \"name\": \"example-storagecluster\",\n            \"namespace\":
      \"openshift-storage\"\n        },\n        \"spec\": {\n            \"manageNodes\":
      false,\n            \"monPVCTemplate\": {\n                \"spec\": {\n                    \"accessModes\":
      [\n                        \"ReadWriteOnce\"\n                    ],\n                    \"resources\":
      {\n                        \"requests\": {\n                            \"storage\":
      \"10Gi\"\n                        }\n                    },\n                    \"storageClassName\":
      \"gp2\"\n                }\n            },\n            \"storageDeviceSets\":
      [\n                {\n                    \"count\": 3,\n                    \"dataPVCTemplate\":
      {\n                        \"spec\": {\n                            \"accessModes\":
      [\n                                \"ReadWriteOnce\"\n                            ],\n
      \                           \"resources\": {\n                                \"requests\":
      {\n                                    \"storage\": \"1Ti\"\n                                }\n
      \                           },\n                            \"storageClassName\":
      \"gp2\",\n                            \"volumeMode\": \"Block\"\n                        }\n
      \                   },\n                    \"name\": \"example-deviceset\",\n
      \                   \"placement\": {},\n                    \"portable\": true,\n
      \                   \"resources\": {}\n                }\n            ]\n        }\n
      \   }\n\t"
    operatorframework.io/suggested-namespace: openshift-storage
    operators.operatorframework.io/builder: operator-sdk-v1.2.0
    operators.operatorframework.io/internal-objects: '["ocsinitializations.ocs.openshift.io","storageconsumers.ocs.openshift.io","cephclusters.ceph.rook.io","cephobjectstores.ceph.rook.io","cephobjectstoreusers.ceph.rook.io","cephnfses.ceph.rook.io","cephclients.ceph.rook.io","cephfilesystems.ceph.rook.io","cephfilesystemmirrors.ceph.rook.io","cephrbdmirrors.ceph.rook.io","cephobjectrealms.ceph.rook.io","cephobjectzonegroups.ceph.rook.io","cephobjectzones.ceph.rook.io","cephbucketnotifications.ceph.rook.io","cephbuckettopics.ceph.rook.io","cephfilesystemsubvolumegroups.ceph.rook.io","objectbucketclaims.objectbucket.io","objectbuckets.objectbucket.io","objectbucketclaims.objectbucket.io","objectbuckets.objectbucket.io"]'
    operators.operatorframework.io/operator-type: non-standalone
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v2
    repository: https://github.com/red-hat-storage/ocs-operator
    support: Red Hat
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
  name: ocs-operator.v4.10.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  cleanup:
    enabled: false
  customresourcedefinitions:
    owned:
    - description: OCS Initialization represents the initial data to be created when
        the OCS operator is installed.
      displayName: OCS Initialization
      kind: OCSInitialization
      name: ocsinitializations.ocs.openshift.io
      version: v1
    - description: Storage Cluster represents a OpenShift Container Storage Cluster
        including Ceph Cluster, NooBaa and all the storage and compute resources required.
      displayName: Storage Cluster
      kind: StorageCluster
      name: storageclusters.ocs.openshift.io
      resources:
      - kind: CephCluster
        name: cephclusters.ceph.rook.io
        version: v1
      - kind: NooBaa
        name: noobaas.noobaa.io
        version: v1alpha1
      version: v1
    - description: StorageConsumer is the Schema for the storageconsumers API
      displayName: Storage Consumer
      kind: StorageConsumer
      name: storageconsumers.ocs.openshift.io
      version: v1alpha1
    - description: Represents a Ceph cluster.
      displayName: Ceph Cluster
      kind: CephCluster
      name: cephclusters.ceph.rook.io
      version: v1
    - description: Represents a Ceph Block Pool.
      displayName: Block Pools
      kind: CephBlockPool
      name: cephblockpools.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store.
      displayName: Ceph Object Store
      kind: CephObjectStore
      name: cephobjectstores.ceph.rook.io
      specDescriptors:
      - description: Coding Chunks
        displayName: Coding Chunks
        path: dataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: dataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: dataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: dataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Annotations
        displayName: Annotations
        path: gateway.annotations
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:annotations
      - description: Instances
        displayName: Instances
        path: gateway.instances
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Resources
        displayName: Resources
        path: gateway.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: placement
        displayName: placement
        path: gateway.placement
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:placement
      - description: securePort
        displayName: securePort
        path: gateway.securePort
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:securePort
      - description: sslCertificateRef
        displayName: sslCertificateRef
        path: gateway.sslCertificateRef
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:sslCertificateRef
      - description: Type
        displayName: Type
        path: gateway.type
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Coding Chunks
        displayName: Coding Chunks
        path: metadataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: metadataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: metadataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: metadataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      version: v1
    - description: Represents a Ceph Object Store User.
      displayName: Ceph Object Store User
      kind: CephObjectStoreUser
      name: cephobjectstoreusers.ceph.rook.io
      version: v1
    - description: Represents a cluster of Ceph NFS ganesha gateways.
      displayName: Ceph NFS
      kind: CephNFS
      name: cephnfses.ceph.rook.io
      version: v1
    - description: Represents a Ceph User.
      displayName: Ceph Client
      kind: CephClient
      name: cephclients.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem.
      displayName: Ceph Filesystem
      kind: CephFilesystem
      name: cephfilesystems.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem Mirror.
      displayName: Ceph Filesystem Mirror
      kind: CephFilesystemMirror
      name: cephfilesystemmirrors.ceph.rook.io
      version: v1
    - description: Represents a Ceph RBD Mirror.
      displayName: Ceph RBD Mirror
      kind: CephRBDMirror
      name: cephrbdmirrors.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Realm.
      displayName: Ceph Object Store Realm
      kind: CephObjectRealm
      name: cephobjectrealms.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone Group.
      displayName: Ceph Object Store Zone Group
      kind: CephObjectZoneGroup
      name: cephobjectzonegroups.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone.
      displayName: Ceph Object Store Zone
      kind: CephObjectZone
      name: cephobjectzones.ceph.rook.io
      version: v1
    - description: Represents a Ceph Bucket Notification.
      displayName: Ceph Bucket Notification
      kind: CephBucketNotification
      name: cephbucketnotifications.ceph.rook.io
      version: v1
    - description: Represents a Ceph Bucket Topic.
      displayName: Ceph Bucket Topic
      kind: CephBucketTopic
      name: cephbuckettopics.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem SubVolumeGroup.
      displayName: Ceph Filesystem SubVolumeGroup
      kind: CephFilesystemSubVolumeGroup
      name: cephfilesystemsubvolumegroups.ceph.rook.io
      version: v1
    - kind: ObjectBucketClaim
      name: objectbucketclaims.objectbucket.io
      version: v1alpha1
    - kind: ObjectBucket
      name: objectbuckets.objectbucket.io
      version: v1alpha1
    - description: Claim a bucket just like claiming a PV. Automate you app bucket
        provisioning by creating OBC with your app deployment. A secret and configmap
        (name=claim) will be created with access details for the app pods.
      displayName: Object Bucket Claim
      kind: ObjectBucketClaim
      name: objectbucketclaims.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
    - description: Used under-the-hood. Created per ObjectBucketClaim and keeps provisioning
        information.
      displayName: Object Bucket
      kind: ObjectBucket
      name: objectbuckets.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
    required:
    - description: A NooBaa system - Create this to start
      displayName: NooBaa
      kind: NooBaa
      name: noobaas.noobaa.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      specDescriptors:
      - description: DBImage (optional) overrides the default image for the db container.
        displayName: DB Image
        path: image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Image (optional) overrides the default image for the server container.
        displayName: Image
        path: dbImage
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: CoreResources (optional) overrides the default resource requirements
          for the server container.
        displayName: Core Resources
        path: coreResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBResources (optional) overrides the default resource requirements
          for the db container.
        displayName: DB Resources
        path: dbResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: 'DBVolumeResources (optional) overrides the default PVC resource
          requirements for the database volume. For the time being this field is immutable
          and can only be set on system creation. This is because volume size updates
          are only supported for increasing the size, and only if the storage class
          specifies `allowVolumeExpansion: true`, +immutable.'
        displayName: Image
        path: dbVolumeResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBStorageClass (optional) overrides the default cluster StorageClass
          for the database volume. For the time being this field is immutable and
          can only be set on system creation. This affects where the system stores
          its database which contains system config, buckets, objects meta-data and
          mapping file parts to storage locations. +immutable.
        displayName: DB StorageClass
        path: dbStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: PVPoolDefaultStorageClass (optional) overrides the default cluster
          StorageClass for the pv-pool volumes. This affects where the system stores
          data chunks (encrypted). Updates to this field will only affect new pv-pools,
          but updates to existing pools are not supported by the operator.
        displayName: PV Pool DefaultStorageClass
        path: pvPoolDefaultStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: ImagePullSecret (optional) sets a pull secret for the system
          image.
        displayName: Image Pull Secret
        path: imagePullSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      version: v1alpha1
  description: |2

    **Red Hat OpenShift Container Storage** deploys three operators.

    ### OpenShift Container Storage operator

    The OpenShift Container Storage operator is the primary operator for OpenShift Container Storage. It serves to facilitate the other operators in OpenShift Container Storage by performing administrative tasks outside their scope as well as watching and configuring their CustomResources.

    ### Rook

    [Rook][1] deploys and manages Ceph on OpenShift, which provides block and file storage.

    # Core Capabilities

    * **Self-managing service:** No matter which supported storage technologies you choose, OpenShift Container Storage ensures that resources can be deployed and managed automatically.

    * **Hyper-scale or hyper-converged:** With OpenShift Container Storage you can either build dedicated storage clusters or hyper-converged clusters where your apps run alongside storage.

    * **File, Block, and Object provided by OpenShift Container Storage:** OpenShift Container Storage integrates Ceph with multiple storage presentations including object storage (compatible with S3), block storage, and POSIX-compliant shared file system.

    * **Your data, protected:** OpenShift Container Storage efficiently distributes and replicates your data across your cluster to minimize the risk of data loss. With snapshots, cloning, and versioning, no more losing sleep over your data.

    * **Elastic storage in your datacenter:** Scale is now possible in your datacenter. Get started with a few terabytes, and easily scale up.

    * **Simplified data management:** Easily create hybrid and multi-cloud data storage for your workloads, using a single namespace.

    [1]: https://rook.io
  displayName: OpenShift Container Storage
  icon:
  - base64data: PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTIgMTQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlJlZEhhdC1Mb2dvLUhhdC1Db2xvcjwvdGl0bGU+PHBhdGggZD0iTTE1Ny43Nyw2Mi42MWExNCwxNCwwLDAsMSwuMzEsMy40MmMwLDE0Ljg4LTE4LjEsMTcuNDYtMzAuNjEsMTcuNDZDNzguODMsODMuNDksNDIuNTMsNTMuMjYsNDIuNTMsNDRhNi40Myw2LjQzLDAsMCwxLC4yMi0xLjk0bC0zLjY2LDkuMDZhMTguNDUsMTguNDUsMCwwLDAtMS41MSw3LjMzYzAsMTguMTEsNDEsNDUuNDgsODcuNzQsNDUuNDgsMjAuNjksMCwzNi40My03Ljc2LDM2LjQzLTIxLjc3LDAtMS4wOCwwLTEuOTQtMS43My0xMC4xM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMjcuNDcsODMuNDljMTIuNTEsMCwzMC42MS0yLjU4LDMwLjYxLTE3LjQ2YTE0LDE0LDAsMCwwLS4zMS0zLjQybC03LjQ1LTMyLjM2Yy0xLjcyLTcuMTItMy4yMy0xMC4zNS0xNS43My0xNi42QzEyNC44OSw4LjY5LDEwMy43Ni41LDk3LjUxLjUsOTEuNjkuNSw5MCw4LDgzLjA2LDhjLTYuNjgsMC0xMS42NC01LjYtMTcuODktNS42LTYsMC05LjkxLDQuMDktMTIuOTMsMTIuNSwwLDAtOC40MSwyMy43Mi05LjQ5LDI3LjE2QTYuNDMsNi40MywwLDAsMCw0Mi41Myw0NGMwLDkuMjIsMzYuMywzOS40NSw4NC45NCwzOS40NU0xNjAsNzIuMDdjMS43Myw4LjE5LDEuNzMsOS4wNSwxLjczLDEwLjEzLDAsMTQtMTUuNzQsMjEuNzctMzYuNDMsMjEuNzdDNzguNTQsMTA0LDM3LjU4LDc2LjYsMzcuNTgsNTguNDlhMTguNDUsMTguNDUsMCwwLDEsMS41MS03LjMzQzIyLjI3LDUyLC41LDU1LC41LDc0LjIyYzAsMzEuNDgsNzQuNTksNzAuMjgsMTMzLjY1LDcwLjI4LDQ1LjI4LDAsNTYuNy0yMC40OCw1Ni43LTM2LjY1LDAtMTIuNzItMTEtMjcuMTYtMzAuODMtMzUuNzgiLz48L3N2Zz4=
    mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - create
          - get
          - list
          - update
          - watch
        - apiGroups:
          - apps
          resources:
          - daemonsets
          - deployments
          - replicasets
          - statefulsets
          verbs:
          - '*'
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephblockpools
          - cephclusters
          - cephfilesystems
          - cephobjectstores
          - cephobjectstoreusers
          - cephrbdmirrors
          verbs:
          - '*'
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients
          verbs:
          - create
          - delete
          - get
          - list
          - update
          - watch
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephfilesystemsubvolumegroups
          verbs:
          - create
          - delete
          - get
          - list
          - update
          - watch
        - apiGroups:
          - config.openshift.io
          resources:
          - clusterversions
          - networks
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - config.openshift.io
          resources:
          - infrastructures
          - networks
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - console.openshift.io
          resources:
          - consolequickstarts
          verbs:
          - '*'
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - create
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          - endpoints
          - events
          - nodes
          - persistentvolumeclaims
          - pods
          - secrets
          - services
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - prometheusrules
          - servicemonitors
          verbs:
          - create
          - get
          - list
          - update
          - watch
        - apiGroups:
          - noobaa.io
          resources:
          - noobaas
          verbs:
          - '*'
        - apiGroups:
          - ocs.openshift.io
          resources:
          - '*'
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ocs.openshift.io
          resources:
          - storageconsumers
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ocs.openshift.io
          resources:
          - storageconsumers/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - operators.coreos.com
          resources:
          - operatorconditions
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - quota.openshift.io
          resources:
          - clusterresourcequotas
          verbs:
          - '*'
        - apiGroups:
          - route.openshift.io
          resources:
          - routes
          verbs:
          - '*'
        - apiGroups:
          - security.openshift.io
          resources:
          - securitycontextconstraints
          verbs:
          - create
          - get
          - update
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - create
          - get
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          - volumesnapshots
          verbs:
          - '*'
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - '*'
          - get
        - apiGroups:
          - template.openshift.io
          resources:
          - templates
          verbs:
          - '*'
        serviceAccountName: ocs-operator
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        serviceAccountName: rook-csi-cephfs-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments/status
          verbs:
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
          - patch
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - serviceaccounts
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - serviceaccounts/token
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments/status
          verbs:
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications
          - volumereplicationclasses
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications/finalizers
          verbs:
          - update
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplicationclasses/status
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - serviceaccounts
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - serviceaccounts/token
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          - apps
          - extensions
          resources:
          - secrets
          - pods
          - pods/log
          - services
          - configmaps
          - deployments
          - daemonsets
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - nodes
          - nodes/proxy
          - services
          - secrets
          - configmaps
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          - persistentvolumes
          - persistentvolumeclaims
          - endpoints
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - batch
          resources:
          - jobs
          - cronjobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients
          - cephclusters
          - cephblockpools
          - cephfilesystems
          - cephnfses
          - cephobjectstores
          - cephobjectstoreusers
          - cephobjectrealms
          - cephobjectzonegroups
          - cephobjectzones
          - cephbuckettopics
          - cephbucketnotifications
          - cephrbdmirrors
          - cephfilesystemmirrors
          - cephfilesystemsubvolumegroups
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients/status
          - cephclusters/status
          - cephblockpools/status
          - cephfilesystems/status
          - cephnfses/status
          - cephobjectstores/status
          - cephobjectstoreusers/status
          - cephobjectrealms/status
          - cephobjectzonegroups/status
          - cephobjectzones/status
          - cephbuckettopics/status
          - cephbucketnotifications/status
          - cephrbdmirrors/status
          - cephfilesystemmirrors/status
          - cephfilesystemsubvolumegroups/status
          verbs:
          - update
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients/finalizers
          - cephclusters/finalizers
          - cephblockpools/finalizers
          - cephfilesystems/finalizers
          - cephnfses/finalizers
          - cephobjectstores/finalizers
          - cephobjectstoreusers/finalizers
          - cephobjectrealms/finalizers
          - cephobjectzonegroups/finalizers
          - cephobjectzones/finalizers
          - cephbuckettopics/finalizers
          - cephbucketnotifications/finalizers
          - cephrbdmirrors/finalizers
          - cephfilesystemmirrors/finalizers
          - cephfilesystemsubvolumegroups/finalizers
          verbs:
          - update
        - apiGroups:
          - policy
          - apps
          - extensions
          resources:
          - poddisruptionbudgets
          - deployments
          - replicasets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
          - deletecollection
        - apiGroups:
          - healthchecking.openshift.io
          resources:
          - machinedisruptionbudgets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - machine.openshift.io
          resources:
          - machines
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - csidrivers
          verbs:
          - create
          - delete
          - get
          - update
        - apiGroups:
          - k8s.cni.cncf.io
          resources:
          - network-attachment-definitions
          verbs:
          - get
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          - nodes
          - nodes/proxy
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - patch
          - list
          - get
          - watch
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          - configmaps
          verbs:
          - get
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims
          verbs:
          - list
          - watch
          - get
          - update
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbuckets
          verbs:
          - list
          - watch
          - get
          - create
          - update
          - delete
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims/status
          - objectbuckets/status
          verbs:
          - update
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims/finalizers
          - objectbuckets/finalizers
          verbs:
          - update
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - pods/log
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - pods/exec
          verbs:
          - create
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - use
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: ocs-metrics-exporter
      deployments:
      - name: ocs-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: ocs-operator
          strategy:
            type: Recreate
          template:
            metadata:
              labels:
                name: ocs-operator
            spec:
              containers:
              - args:
                - --enable-leader-election
                - --health-probe-bind-address=:8081
                command:
                - ocs-operator
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: ROOK_CEPH_IMAGE
                  value: rook/ceph:v1.8.3-93.ge5d6fa1bf
                - name: CEPH_IMAGE
                  value: ceph/daemon-base:latest-pacific
                - name: NOOBAA_CORE_IMAGE
                  value: noobaa/noobaa-core:master-20210912
                - name: NOOBAA_DB_IMAGE
                  value: centos/postgresql-12-centos7
                - name: PROVIDER_API_SERVER_IMAGE
                  value: quay.io/ocs-dev/ocs-operator:latest
                image: quay.io/ocs-dev/ocs-operator:latest
                imagePullPolicy: Always
                name: ocs-operator
                readinessProbe:
                  httpGet:
                    path: /readyz
                    port: 8081
                  initialDelaySeconds: 5
                  periodSeconds: 10
                resources: {}
              serviceAccountName: ocs-operator
              terminationGracePeriodSeconds: 10
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      - name: rook-ceph-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: rook-ceph-operator
          strategy: {}
          template:
            metadata:
              labels:
                app: rook-ceph-operator
            spec:
              containers:
              - args:
                - ceph
                - operator
                env:
                - name: ROOK_CURRENT_NAMESPACE_ONLY
                  value: "true"
                - name: ROOK_ALLOW_MULTIPLE_FILESYSTEMS
                  value: "false"
                - name: ROOK_LOG_LEVEL
                  value: INFO
                - name: ROOK_CEPH_STATUS_CHECK_INTERVAL
                  value: 60s
                - name: ROOK_MON_HEALTHCHECK_INTERVAL
                  value: 45s
                - name: ROOK_MON_OUT_TIMEOUT
                  value: 600s
                - name: ROOK_DISCOVER_DEVICES_INTERVAL
                  value: 60m
                - name: ROOK_HOSTPATH_REQUIRES_PRIVILEGED
                  value: "true"
                - name: ROOK_ENABLE_SELINUX_RELABELING
                  value: "true"
                - name: ROOK_ENABLE_FSGROUP
                  value: "true"
                - name: ROOK_ENABLE_FLEX_DRIVER
                  value: "false"
                - name: ROOK_ENABLE_DISCOVERY_DAEMON
                  value: "false"
                - name: ROOK_ENABLE_MACHINE_DISRUPTION_BUDGET
                  value: "false"
                - name: ROOK_DISABLE_DEVICE_HOTPLUG
                  value: "true"
                - name: ROOK_CSI_ALLOW_UNSUPPORTED_VERSION
                  value: "true"
                - name: CSI_VOLUME_REPLICATION_IMAGE
                  value: quay.io/csiaddons/volumereplication-operator:v0.1.0
                - name: ROOK_CSIADDONS_IMAGE
                  value: quay.io/csiaddons/k8s-sidecar:v0.2.1
                - name: CSI_PROVISIONER_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: CSI_PLUGIN_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: CSI_LOG_LEVEL
                  value: "5"
                - name: CSI_ENABLE_CSIADDONS
                  value: "true"
                - name: NODE_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: spec.nodeName
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: POD_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: ROOK_OBC_WATCH_OPERATOR_NAMESPACE
                  value: "true"
                image: rook/ceph:v1.8.3-93.ge5d6fa1bf
                name: rook-ceph-operator
                ports:
                - containerPort: 9443
                  name: https-webhook
                  protocol: TCP
                resources: {}
                securityContext:
                  runAsGroup: 2016
                  runAsNonRoot: true
                  runAsUser: 2016
                volumeMounts:
                - mountPath: /var/lib/rook
                  name: rook-config
                - mountPath: /etc/ceph
                  name: default-config-dir
                - mountPath: /etc/webhook
                  name: webhook-cert
              serviceAccountName: rook-ceph-system
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
              volumes:
              - emptyDir: {}
                name: rook-config
              - emptyDir: {}
                name: default-config-dir
              - emptyDir: {}
                name: webhook-cert
      - name: ocs-metrics-exporter
        spec:
          replicas: 1
          selector:
            matchLabels:
              app.kubernetes.io/component: ocs-metrics-exporter
              app.kubernetes.io/name: ocs-metrics-exporter
          strategy: {}
          template:
            metadata:
              labels:
                app.kubernetes.io/component: ocs-metrics-exporter
                app.kubernetes.io/name: ocs-metrics-exporter
                app.kubernetes.io/version: 0.0.1
            spec:
              containers:
              - args:
                - --namespaces=openshift-storage
                command:
                - /usr/local/bin/metrics-exporter
                image: quay.io/ocs-dev/ocs-operator:latest
                name: ocs-metrics-exporter
                ports:
                - containerPort: 8080
                - containerPort: 8081
                resources: {}
                securityContext:
                  runAsNonRoot: true
              serviceAccountName: ocs-metrics-exporter
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - create
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - csiaddons.openshift.io
          resources:
          - csiaddonsnodes
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - csiaddons.openshift.io
          resources:
          - csiaddonsnodes
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-cmd-reporter
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - pods/log
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - apps
          resources:
          - deployments/scale
          - deployments
          verbs:
          - patch
          - delete
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - delete
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclusters
          - cephclusters/finalizers
          verbs:
          - get
          - list
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - get
          - delete
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - delete
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - update
          - delete
          - list
        serviceAccountName: rook-ceph-purge-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          - services
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - apps
          - extensions
          resources:
          - daemonsets
          - statefulsets
          - deployments
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - batch
          resources:
          - cronjobs
          verbs:
          - delete
        serviceAccountName: rook-ceph-system
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - storage
  - rook
  - ceph
  - block storage
  - shared filesystem
  - object storage
  links:
  - name: Source Code
    url: https://github.com/red-hat-storage/ocs-operator
  maintainers:
  - email: ocs-support@redhat.com
    name: Red Hat Support
  maturity: alpha
  minKubeVersion: 1.16.0
  provider:
    name: Red Hat
  relatedImages:
  - image: rook/ceph:v1.8.3-93.ge5d6fa1bf
    name: rook-container
  - image: ceph/daemon-base:latest-pacific
    name: ceph-container
  - image: quay.io/csiaddons/volumereplication-operator:v0.1.0
    name: volume-replication-operator
  - image: quay.io/csiaddons/k8s-sidecar:v0.2.1
    name: csiaddons-sidecar
  - image: quay.io/ocs-dev/ocs-must-gather:latest
    name: ocs-must-gather
  version: 4.10.0
