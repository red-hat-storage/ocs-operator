---
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |2-

      [
          {
              "apiVersion": "ocs.openshift.io/v1",
              "kind": "StorageCluster",
              "metadata": {
                  "name": "example-storagecluster",
                  "namespace": "openshift-storage"
              },
              "spec": {
                  "manageNodes": false,
                  "monPVCTemplate": {
                      "spec": {
                          "accessModes": [
                              "ReadWriteOnce"
                          ],
                          "resources": {
                              "requests": {
                                  "storage": "10Gi"
                              }
                          },
                          "storageClassName": "gp2"
                      }
                  },
                  "storageDeviceSets": [
                      {
                          "count": 3,
                          "dataPVCTemplate": {
                              "spec": {
                                  "accessModes": [
                                      "ReadWriteOnce"
                                  ],
                                  "resources": {
                                      "requests": {
                                          "storage": "1Ti"
                                      }
                                  },
                                  "storageClassName": "gp2",
                                  "volumeMode": "Block"
                              }
                          },
                          "name": "example-deviceset",
                          "placement": {},
                          "portable": true,
                          "resources": {}
                      }
                  ]
              }
          }
      ]
    capabilities: Deep Insights
    categories: Storage
    containerImage: quay.io/ocs-dev/ocs-operator:4.10.0
    description: Red Hat OpenShift Container Storage provides hyperconverged storage
      for applications within an OpenShift cluster.
    external.features.ocs.openshift.io/export-script: |-
      JycnCkNvcHlyaWdodCAyMDIwIFRoZSBSb29rIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQu
      CgpMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxp
      Y2Vuc2UiKTsKeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3
      aXRoIHRoZSBMaWNlbnNlLgpZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQK
      CglodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClVubGVzcyByZXF1
      aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUK
      ZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElT
      IiBCQVNJUywKV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVp
      dGhlciBleHByZXNzIG9yIGltcGxpZWQuClNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmlj
      IGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKbGltaXRhdGlvbnMgdW5kZXIgdGhl
      IExpY2Vuc2UuCicnJwoKaW1wb3J0IGVycm5vCmltcG9ydCBzeXMKaW1wb3J0IGpzb24KaW1wb3J0
      IGFyZ3BhcnNlCmltcG9ydCB1bml0dGVzdAppbXBvcnQgcmUKaW1wb3J0IHJlcXVlc3RzCmltcG9y
      dCBzdWJwcm9jZXNzCmZyb20gb3MgaW1wb3J0IGxpbmVzZXAgYXMgTElORVNFUApmcm9tIG9zIGlt
      cG9ydCBwYXRoCgojIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCAyLngKdHJ5OgogICAgTW9k
      dWxlTm90Rm91bmRFcnJvcgpleGNlcHQ6CiAgICBNb2R1bGVOb3RGb3VuZEVycm9yID0gSW1wb3J0
      RXJyb3IKCnRyeToKICAgIGltcG9ydCByYWRvcwpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvciBh
      cyBub01vZEVycjoKICAgIHByaW50KCJFcnJvcjogJXNcbkV4aXRpbmcgdGhlIHNjcmlwdC4uLiIg
      JSBub01vZEVycikKICAgIHN5cy5leGl0KDEpCgp0cnk6CiAgICBpbXBvcnQgcmJkCmV4Y2VwdCBN
      b2R1bGVOb3RGb3VuZEVycm9yIGFzIG5vTW9kRXJyOgogICAgcHJpbnQoIkVycm9yOiAlc1xuRXhp
      dGluZyB0aGUgc2NyaXB0Li4uIiAlIG5vTW9kRXJyKQogICAgc3lzLmV4aXQoMSkgICAgCgp0cnk6
      CiAgICAjIGZvciAyLjcueAogICAgZnJvbSBTdHJpbmdJTyBpbXBvcnQgU3RyaW5nSU8KZXhjZXB0
      IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICAjIGZvciAzLngKICAgIGZyb20gaW8gaW1wb3J0IFN0
      cmluZ0lPCgp0cnk6CiAgICAjIGZvciAyLjcueAogICAgZnJvbSB1cmxwYXJzZSBpbXBvcnQgdXJs
      cGFyc2UKZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICAjIGZvciAzLngKICAgIGZyb20g
      dXJsbGliLnBhcnNlIGltcG9ydCB1cmxwYXJzZQoKY2xhc3MgRXhlY3V0aW9uRmFpbHVyZUV4Y2Vw
      dGlvbihFeGNlcHRpb24pOgogICAgcGFzcwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyBEdW1teVJhZG9zICMjIyMjIyMj
      IyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMKIyB0aGlzIGlzIG1haW5seSBmb3IgdGVzdGluZyBhbmQgY291bGQgYmUgdXNlZCB3aGVyZSAn
      cmFkb3MnIGlzIG5vdCBhdmFpbGFibGUKCgpjbGFzcyBEdW1teVJhZG9zKG9iamVjdCk6CiAgICBk
      ZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5yZXR1cm5fdmFsID0gMAogICAgICAgIHNl
      bGYuZXJyX21lc3NhZ2UgPSAnJwogICAgICAgIHNlbGYuc3RhdGUgPSAnY29ubmVjdGVkJwogICAg
      ICAgIHNlbGYuY21kX291dHB1dF9tYXAgPSB7fQogICAgICAgIHNlbGYuY21kX25hbWVzID0ge30K
      ICAgICAgICBzZWxmLl9pbml0X2NtZF9vdXRwdXRfbWFwKCkKICAgICAgICBzZWxmLmR1bW15X2hv
      c3RfaXBfbWFwID0ge30KCiAgICBkZWYgX2luaXRfY21kX291dHB1dF9tYXAoc2VsZik6CiAgICAg
      ICAganNvbl9maWxlX25hbWUgPSAndGVzdC1kYXRhL2NlcGgtc3RhdHVzLW91dCcKICAgICAgICBz
      Y3JpcHRfZGlyID0gcGF0aC5hYnNwYXRoKHBhdGguZGlybmFtZShfX2ZpbGVfXykpCiAgICAgICAg
      Y2VwaF9zdGF0dXNfc3RyID0gIiIKICAgICAgICB3aXRoIG9wZW4ocGF0aC5qb2luKHNjcmlwdF9k
      aXIsIGpzb25fZmlsZV9uYW1lKSwgJ3InKSBhcyBqc29uX2ZpbGU6CiAgICAgICAgICAgIGNlcGhf
      c3RhdHVzX3N0ciA9IGpzb25fZmlsZS5yZWFkKCkKICAgICAgICBzZWxmLmNtZF9uYW1lc1snZnMg
      bHMnXSA9ICcnJ3siZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImZzIGxzIn0nJycKICAgICAg
      ICBzZWxmLmNtZF9uYW1lc1sncXVvcnVtX3N0YXR1cyddID0gJycneyJmb3JtYXQiOiAianNvbiIs
      ICJwcmVmaXgiOiAicXVvcnVtX3N0YXR1cyJ9JycnCiAgICAgICAgc2VsZi5jbWRfbmFtZXNbJ2Nh
      cHNfY2hhbmdlX2RlZmF1bHRfcG9vbF9wcmVmaXgnXSA9ICcnJ3siY2FwcyI6IFsibW9uIiwgImFs
      bG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJzaW9u
      IiwgIm1nciIsICJhbGxvdyBjb21tYW5kIGNvbmZpZyIsICJvc2QiLCAiYWxsb3cgcnd4IHBvb2w9
      ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9vbD1k
      ZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQucmd3LmxvZywgYWxsb3cg
      eCBwb29sPWRlZmF1bHQucmd3LmJ1Y2tldHMuaW5kZXgiXSwgImVudGl0eSI6ICJjbGllbnQuaGVh
      bHRoY2hlY2tlciIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBjYXBzIn0nJycK
      ICAgICAgICBzZWxmLmNtZF9uYW1lc1snbWdyIHNlcnZpY2VzJ10gPSAnJyd7ImZvcm1hdCI6ICJq
      c29uIiwgInByZWZpeCI6ICJtZ3Igc2VydmljZXMifScnJwogICAgICAgICMgYWxsIHRoZSBjb21t
      YW5kcyBhbmQgdGhlaXIgb3V0cHV0CiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFtzZWxmLmNt
      ZF9uYW1lc1snZnMgbHMnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9ICcnJ1t7Im5h
      bWUiOiJteWZzIiwibWV0YWRhdGFfcG9vbCI6Im15ZnMtbWV0YWRhdGEiLCJtZXRhZGF0YV9wb29s
      X2lkIjoyLCJkYXRhX3Bvb2xfaWRzIjpbM10sImRhdGFfcG9vbHMiOlsibXlmcy1yZXBsaWNhdGVk
      Il19XScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9tYXBbc2VsZi5jbWRfbmFtZXNbJ3F1b3J1
      bV9zdGF0dXMnXV0gPSAnJyd7ImVsZWN0aW9uX2Vwb2NoIjozLCJxdW9ydW0iOlswXSwicXVvcnVt
      X25hbWVzIjpbImEiXSwicXVvcnVtX2xlYWRlcl9uYW1lIjoiYSIsInF1b3J1bV9hZ2UiOjE0Mzg1
      LCJmZWF0dXJlcyI6eyJxdW9ydW1fY29uIjoiNDU0MDEzODI5MjgzNjY5NjA2MyIsInF1b3J1bV9t
      b24iOlsia3Jha2VuIiwibHVtaW5vdXMiLCJtaW1pYyIsIm9zZG1hcC1wcnVuZSIsIm5hdXRpbHVz
      Iiwib2N0b3B1cyJdfSwibW9ubWFwIjp7ImVwb2NoIjoxLCJmc2lkIjoiYWY0ZTE2NzMtMGI3Mi00
      MDJkLTk5MGEtMjJkMjkxOWQwZjFjIiwibW9kaWZpZWQiOiIyMDIwLTA1LTA3VDAzOjM2OjM5Ljkx
      ODAzNVoiLCJjcmVhdGVkIjoiMjAyMC0wNS0wN1QwMzozNjozOS45MTgwMzVaIiwibWluX21vbl9y
      ZWxlYXNlIjoxNSwibWluX21vbl9yZWxlYXNlX25hbWUiOiJvY3RvcHVzIiwiZmVhdHVyZXMiOnsi
      cGVyc2lzdGVudCI6WyJrcmFrZW4iLCJsdW1pbm91cyIsIm1pbWljIiwib3NkbWFwLXBydW5lIiwi
      bmF1dGlsdXMiLCJvY3RvcHVzIl0sIm9wdGlvbmFsIjpbXX0sIm1vbnMiOlt7InJhbmsiOjAsIm5h
      bWUiOiJhIiwicHVibGljX2FkZHJzIjp7ImFkZHJ2ZWMiOlt7InR5cGUiOiJ2MiIsImFkZHIiOiIx
      MC4xMTAuMjA1LjE3NDozMzAwIiwibm9uY2UiOjB9LHsidHlwZSI6InYxIiwiYWRkciI6IjEwLjEx
      MC4yMDUuMTc0OjY3ODkiLCJub25jZSI6MH1dfSwiYWRkciI6IjEwLjExMC4yMDUuMTc0OjY3ODkv
      MCIsInB1YmxpY19hZGRyIjoiMTAuMTEwLjIwNS4xNzQ6Njc4OS8wIiwicHJpb3JpdHkiOjAsIndl
      aWdodCI6MH1dfX0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwW3NlbGYuY21kX25hbWVz
      WydtZ3Igc2VydmljZXMnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9ICcnJ3siZGFz
      aGJvYXJkIjoiaHR0cHM6Ly9jZXBoLWRhc2hib2FyZDo4NDQzLyIsInByb21ldGhldXMiOiJodHRw
      Oi8vY2VwaC1kYXNoYm9hcmQtZGI6OTI4My8ifScnJwogICAgICAgIHNlbGYuY21kX291dHB1dF9t
      YXBbJycneyJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwgYWxsb3cgY29tbWFuZCBxdW9ydW1fc3Rh
      dHVzIiwgIm9zZCIsICJhbGxvdyByd3ggcG9vbD1kZWZhdWx0LnJndy5tZXRhLCBhbGxvdyByIHBv
      b2w9LnJndy5yb290LCBhbGxvdyBydyBwb29sPWRlZmF1bHQucmd3LmNvbnRyb2wsIGFsbG93IHgg
      cG9vbD1kZWZhdWx0LnJndy5idWNrZXRzLmluZGV4Il0sICJlbnRpdHkiOiAiY2xpZW50LmhlYWx0
      aGNoZWNrZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0
      ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVja2VyIiwia2V5IjoiQVFE
      RmtiTmVmdDViRlJBQVRuZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNhcHMiOnsibW9uIjoiYWxs
      b3cgciwgYWxsb3cgY29tbWFuZCBxdW9ydW1fc3RhdHVzIiwib3NkIjoiYWxsb3cgcnd4IHBvb2w9
      ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9vbD1k
      ZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyB4IHBvb2w9ZGVmYXVsdC5yZ3cuYnVja2V0cy5pbmRl
      eCJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6IFsibW9uIiwg
      InByb2ZpbGUgcmJkLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsICJvc2QiLCAicHJv
      ZmlsZSByYmQiXSwgImVudGl0eSI6ICJjbGllbnQuY3NpLXJiZC1ub2RlIiwgImZvcm1hdCI6ICJq
      c29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10gPSAnJydbeyJlbnRpdHki
      OiJjbGllbnQuY3NpLXJiZC1ub2RlIiwia2V5IjoiQVFCT2dyTmVIYksxQXhBQXViWUJlVjhTMVUv
      R1B6cTVTVmVxNmc9PSIsImNhcHMiOnsibW9uIjoicHJvZmlsZSByYmQsIGFsbG93IGNvbW1hbmQg
      J29zZCBibG9ja2xpc3QnIiwib3NkIjoicHJvZmlsZSByYmQifX1dJycnCiAgICAgICAgc2VsZi5j
      bWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1vbiIsICJwcm9maWxlIHJiZCwgYWxsb3cgY29t
      bWFuZCAnb3NkIGJsb2NrbGlzdCciLCAibWdyIiwgImFsbG93IHJ3IiwgIm9zZCIsICJwcm9maWxl
      IHJiZCJdLCAiZW50aXR5IjogImNsaWVudC5jc2ktcmJkLXByb3Zpc2lvbmVyIiwgImZvcm1hdCI6
      ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10gPSAnJydbeyJlbnRp
      dHkiOiJjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lciIsImtleSI6IkFRQk5nck5lMWdleUt4QUE4
      ZWtWaVJkRStoc3M1T3dlWUJrd05nPT0iLCJjYXBzIjp7Im1nciI6ImFsbG93IHJ3IiwibW9uIjoi
      cHJvZmlsZSByYmQsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwib3NkIjoicHJvZmls
      ZSByYmQifX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBbIm1v
      biIsICJhbGxvdyByLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsICJtZ3IiLCAiYWxs
      b3cgcnciLCAib3NkIiwgImFsbG93IHJ3IHRhZyBjZXBoZnMgKj0qIiwgIm1kcyIsICJhbGxvdyBy
      dyJdLCAiZW50aXR5IjogImNsaWVudC5jc2ktY2VwaGZzLW5vZGUiLCAiZm9ybWF0IjogImpzb24i
      LCAicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNs
      aWVudC5jc2ktY2VwaGZzLW5vZGUiLCJrZXkiOiJBUUJPZ3JOZUVOdW5LeEFBUENtZ0U3UjZHOERj
      WG5hSjFGMzJxZz09IiwiY2FwcyI6eyJtZHMiOiJhbGxvdyBydyIsIm1nciI6ImFsbG93IHJ3Iiwi
      bW9uIjoiYWxsb3cgciwgYWxsb3cgY29tbWFuZCAnb3NkIGJsb2NrbGlzdCciLCJvc2QiOiJhbGxv
      dyBydyB0YWcgY2VwaGZzICo9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycn
      J3siY2FwcyI6IFsibW9uIiwgImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3Qn
      IiwgIm1nciIsICJhbGxvdyBydyIsICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBtZXRhZGF0
      YT0qIl0sICJlbnRpdHkiOiAiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIiLCAiZm9ybWF0
      IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVu
      dGl0eSI6ImNsaWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyIiwia2V5IjoiQVFCT2dyTmVBRmdj
      R0JBQXZHcUtPQUQwRDN4eG1WWTBSOTEyZGc9PSIsImNhcHMiOnsibWdyIjoiYWxsb3cgcnciLCJt
      b24iOiJhbGxvdyByLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsIm9zZCI6ImFsbG93
      IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRf
      bWFwWycnJ3siY2FwcyI6IFsibW9uIiwgImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9j
      a2xpc3QnIiwgIm1nciIsICJhbGxvdyBydyIsICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBt
      ZXRhZGF0YT0qIl0sICJlbnRpdHkiOiAiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXItb3Bl
      bnNoaWZ0LXN0b3JhZ2UiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0LW9y
      LWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5jc2ktY2VwaGZzLXByb3Zpc2lv
      bmVyLW9wZW5zaGlmdC1zdG9yYWdlIiwia2V5IjoiQlFCT2dyTmVBRmdjR0JBQXZHcUtPQUQwRDN4
      eG1WWTBSOTEyZGc9PSIsImNhcHMiOnsibWdyIjoiYWxsb3cgcnciLCJtb24iOiJhbGxvdyByLCBh
      bGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsIm9zZCI6ImFsbG93IHJ3IHRhZyBjZXBoZnMg
      bWV0YWRhdGE9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6
      IFsibW9uIiwgImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwgIm1nciIs
      ICJhbGxvdyBydyIsICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBtZXRhZGF0YT1teWZzIl0s
      ICJlbnRpdHkiOiAiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXItb3BlbnNoaWZ0LXN0b3Jh
      Z2UtbXlmcyIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQtb3ItY3JlYXRl
      In0nJyddID0gJycnW3siZW50aXR5IjoiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXItb3Bl
      bnNoaWZ0LXN0b3JhZ2UtbXlmcyIsImtleSI6IkNRQk9nck5lQUZnY0dCQUF2R3FLT0FEMEQzeHht
      VlkwUjkxMmRnPT0iLCJjYXBzIjp7Im1nciI6ImFsbG93IHJ3IiwibW9uIjoiYWxsb3cgciwgYWxs
      b3cgY29tbWFuZCAnb3NkIGJsb2NrbGlzdCciLCJvc2QiOiJhbGxvdyBydyB0YWcgY2VwaGZzIG1l
      dGFkYXRhPW15ZnMifX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMi
      OiBbIm1vbiIsICJhbGxvdyByLCBhbGxvdyBjb21tYW5kIHF1b3J1bV9zdGF0dXMsIGFsbG93IGNv
      bW1hbmQgdmVyc2lvbiIsICJtZ3IiLCAiYWxsb3cgY29tbWFuZCBjb25maWciLCAib3NkIiwgImFs
      bG93IHJ3eCBwb29sPWRlZmF1bHQucmd3Lm1ldGEsIGFsbG93IHIgcG9vbD0ucmd3LnJvb3QsIGFs
      bG93IHJ3IHBvb2w9ZGVmYXVsdC5yZ3cuY29udHJvbCwgYWxsb3cgcnggcG9vbD1kZWZhdWx0LnJn
      dy5sb2csIGFsbG93IHggcG9vbD1kZWZhdWx0LnJndy5idWNrZXRzLmluZGV4Il0sICJlbnRpdHki
      OiAiY2xpZW50LmhlYWx0aGNoZWNrZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1
      dGggZ2V0LW9yLWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVj
      a2VyIiwia2V5IjoiQVFERmtiTmVmdDViRlJBQVRuZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNh
      cHMiOnsibW9uIjogImFsbG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cg
      Y29tbWFuZCB2ZXJzaW9uIiwgIm1nciI6ICJhbGxvdyBjb21tYW5kIGNvbmZpZyIsICJvc2QiOiAi
      YWxsb3cgcnd4IHBvb2w9ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwg
      YWxsb3cgcncgcG9vbD1kZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQu
      cmd3LmxvZywgYWxsb3cgeCBwb29sPWRlZmF1bHQucmd3LmJ1Y2tldHMuaW5kZXgifX1dJycnCiAg
      ICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6
      ICJtZ3Igc2VydmljZXMifScnJ10gPSAnJyd7ImRhc2hib2FyZCI6ICJodHRwOi8vcm9vay1jZXBo
      LW1nci1hLTU3Y2Y5Zjg0YmMtZjRqbmw6NzAwMC8iLCAicHJvbWV0aGV1cyI6ICJodHRwOi8vcm9v
      ay1jZXBoLW1nci1hLTU3Y2Y5Zjg0YmMtZjRqbmw6OTI4My8ifScnJwogICAgICAgIHNlbGYuY21k
      X291dHB1dF9tYXBbJycneyJlbnRpdHkiOiAiY2xpZW50LmhlYWx0aGNoZWNrZXIiLCAiZm9ybWF0
      IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0In0nJyddID0gJycneyJkYXNoYm9hcmQiOiAi
      aHR0cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0am5sOjcwMDAvIiwgInByb21ldGhl
      dXMiOiAiaHR0cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0am5sOjkyODMvIn0nJycK
      ICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siZW50aXR5IjogImNsaWVudC5oZWFsdGhj
      aGVja2VyIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldCJ9JycnXSA9ICcn
      J1t7ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVja2VyIiwia2V5IjoiQVFERmtiTmVmdDViRlJB
      QVRuZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNhcHMiOnsibW9uIjogImFsbG93IHIsIGFsbG93
      IGNvbW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJzaW9uIiwgIm1nciI6ICJh
      bGxvdyBjb21tYW5kIGNvbmZpZyIsICJvc2QiOiAiYWxsb3cgcnd4IHBvb2w9ZGVmYXVsdC5yZ3cu
      bWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9vbD1kZWZhdWx0LnJndy5j
      b250cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQucmd3LmxvZywgYWxsb3cgeCBwb29sPWRlZmF1
      bHQucmd3LmJ1Y2tldHMuaW5kZXgifX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFtz
      ZWxmLmNtZF9uYW1lc1snY2Fwc19jaGFuZ2VfZGVmYXVsdF9wb29sX3ByZWZpeCddXSA9ICcnJ1t7
      fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWyd7ImZvcm1hdCI6ICJqc29uIiwgInBy
      ZWZpeCI6ICJzdGF0dXMifSddID0gY2VwaF9zdGF0dXNfc3RyCgogICAgZGVmIHNodXRkb3duKHNl
      bGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgZ2V0X2ZzaWQoc2VsZik6CiAgICAgICAgcmV0dXJu
      ICdhZjRlMTY3My0wYjcyLTQwMmQtOTkwYS0yMmQyOTE5ZDBmMWMnCgogICAgZGVmIGNvbmZfcmVh
      ZF9maWxlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgY29ubmVjdChzZWxmKToKICAgICAg
      ICBwYXNzCgogICAgZGVmIHBvb2xfZXhpc3RzKHNlbGYsIHBvb2xfbmFtZSk6CiAgICAgICAgcmV0
      dXJuIFRydWUKCiAgICBkZWYgbW9uX2NvbW1hbmQoc2VsZiwgY21kLCBvdXQpOgogICAgICAgIGpz
      b25fY21kID0ganNvbi5sb2FkcyhjbWQpCiAgICAgICAganNvbl9jbWRfc3RyID0ganNvbi5kdW1w
      cyhqc29uX2NtZCwgc29ydF9rZXlzPVRydWUpCiAgICAgICAgY21kX291dHB1dCA9IHNlbGYuY21k
      X291dHB1dF9tYXBbanNvbl9jbWRfc3RyXQogICAgICAgIHJldHVybiBzZWxmLnJldHVybl92YWws
      IFwKICAgICAgICAgICAgY21kX291dHB1dCwgXAogICAgICAgICAgICAie30iLmZvcm1hdChzZWxm
      LmVycl9tZXNzYWdlKS5lbmNvZGUoJ3V0Zi04JykKCiAgICBkZWYgX2NvbnZlcnRfaG9zdG5hbWVf
      dG9faXAoc2VsZiwgaG9zdF9uYW1lKToKICAgICAgICBpcF9yZWdfeCA9IHJlLmNvbXBpbGUocidc
      ZHsxLDN9LlxkezEsM30uXGR7MSwzfS5cZHsxLDN9JykKICAgICAgICAjIGlmIHByb3ZpZGVkIGhv
      c3QgaXMgZGlyZWN0bHkgYW4gSVAgYWRkcmVzcywgcmV0dXJuIHRoZSBzYW1lCiAgICAgICAgaWYg
      aXBfcmVnX3gubWF0Y2goaG9zdF9uYW1lKToKICAgICAgICAgICAgcmV0dXJuIGhvc3RfbmFtZQog
      ICAgICAgIGltcG9ydCByYW5kb20KICAgICAgICBob3N0X2lwID0gc2VsZi5kdW1teV9ob3N0X2lw
      X21hcC5nZXQoaG9zdF9uYW1lLCAiIikKICAgICAgICBpZiBub3QgaG9zdF9pcDoKICAgICAgICAg
      ICAgaG9zdF9pcCA9ICIxNzIuOS57fS57fSIuZm9ybWF0KAogICAgICAgICAgICAgICAgcmFuZG9t
      LnJhbmRpbnQoMCwgMjU0KSwgcmFuZG9tLnJhbmRpbnQoMCwgMjU0KSkKICAgICAgICAgICAgc2Vs
      Zi5kdW1teV9ob3N0X2lwX21hcFtob3N0X25hbWVdID0gaG9zdF9pcAogICAgICAgIGRlbCByYW5k
      b20KICAgICAgICByZXR1cm4gaG9zdF9pcAoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIFJhZG9z
      KGNvbmZmaWxlPU5vbmUpOgogICAgICAgIHJldHVybiBEdW1teVJhZG9zKCkKCgpjbGFzcyBSYWRv
      c0pTT046CiAgICBFWFRFUk5BTF9VU0VSX05BTUUgPSAiY2xpZW50LmhlYWx0aGNoZWNrZXIiCiAg
      ICBFWFRFUk5BTF9SR1dfQURNSU5fT1BTX1VTRVJfTkFNRSA9ICJyZ3ctYWRtaW4tb3BzLXVzZXIi
      CiAgICBFTVBUWV9PVVRQVVRfTElTVCA9ICJFbXB0eSBvdXRwdXQgbGlzdCIKICAgIERFRkFVTFRf
      UkdXX1BPT0xfUFJFRklYID0gImRlZmF1bHQiCiAgICBERUZBVUxUX01PTklUT1JJTkdfRU5EUE9J
      TlRfUE9SVCA9ICI5MjgzIgoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGdlbl9hcmdfcGFyc2Vy
      KGNscywgYXJnc190b19wYXJzZT1Ob25lKToKICAgICAgICBhcmdQID0gYXJncGFyc2UuQXJndW1l
      bnRQYXJzZXIoKQoKICAgICAgICBjb21tb25fZ3JvdXAgPSBhcmdQLmFkZF9hcmd1bWVudF9ncm91
      cCgnY29tbW9uJykKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCItLXZlcmJvc2Ui
      LCAiLXYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPSdzdG9yZV90
      cnVlJywgZGVmYXVsdD1GYWxzZSkKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCIt
      LWNlcGgtY29uZiIsICItYyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxw
      PSJQcm92aWRlIGEgY2VwaCBjb25mIGZpbGUuIiwgdHlwZT1zdHIpCiAgICAgICAgY29tbW9uX2dy
      b3VwLmFkZF9hcmd1bWVudCgiLS1ydW4tYXMtdXNlciIsICItdSIsIGRlZmF1bHQ9IiIsIHR5cGU9
      c3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJvdmlkZXMgYSB1
      c2VyIG5hbWUgdG8gY2hlY2sgdGhlIGNsdXN0ZXIncyBoZWFsdGggc3RhdHVzLCBtdXN0IGJlIHBy
      ZWZpeGVkIGJ5ICdjbGllbnQuJyIpCiAgICAgICAgY29tbW9uX2dyb3VwLmFkZF9hcmd1bWVudCgi
      LS1jbHVzdGVyLW5hbWUiLCBkZWZhdWx0PSIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgaGVscD0iQ2VwaCBjbHVzdGVyIG5hbWUiKQogICAgICAgIGNvbW1vbl9ncm91cC5hZGRf
      YXJndW1lbnQoIi0tbmFtZXNwYWNlIiwgZGVmYXVsdD0iIiwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgIGhlbHA9Ik5hbWVzcGFjZSB3aGVyZSBDZXBoQ2x1c3RlciBpcyBydW5uaW5n
      IikKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCItLXJndy1wb29sLXByZWZpeCIs
      IGRlZmF1bHQ9IiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJSR1cg
      UG9vbCBwcmVmaXgiKQogICAgICAgIGNvbW1vbl9ncm91cC5hZGRfYXJndW1lbnQoIi0tcmVzdHJp
      Y3RlZC1hdXRoLXBlcm1pc3Npb24iLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgaGVscD0iUmVzdHJpY3RlZCBjZXBoQ1NJS2V5cmluZ3MgYXV0aCBwZXJt
      aXNzaW9ucyB0byBzcGVjaWZpYyBwb29scywgY2x1c3RlciBhbmQgcG9vbCBuYW1lc3BhY2VzLiBN
      YW5kYXRvcnkgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHNldCBhcmUgLS1yYmQtZGF0YS1wb29sLW5h
      bWUsIC0tcmFkb3MtbmFtZXNwYWNlIGFuZCAtLWNsdXN0ZXItbmFtZS4gTm90ZTogUmVzdHJpY3Rp
      bmcgdGhlIHVzZXJzIHBlciBwb29sLCBwZXIgY2x1c3RlciBhbmQgcGVyIHBvb2wgbmFtZXNwYWNl
      IHdpbGwgcmVxdWlyZSB0byBjcmVhdGUgbmV3IHVzZXJzIGFuZCBuZXcgc2VjcmV0cyBmb3IgdGhh
      dCB1c2Vycy4iKQoKICAgICAgICBvdXRwdXRfZ3JvdXAgPSBhcmdQLmFkZF9hcmd1bWVudF9ncm91
      cCgnb3V0cHV0JykKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLWZvcm1hdCIs
      ICItdCIsIGNob2ljZXM9WyJqc29uIiwgImJhc2giXSwKICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgIGRlZmF1bHQ9J2pzb24nLCBoZWxwPSJQcm92aWRlcyB0aGUgb3V0cHV0IGZvcm1h
      dCAoanNvbiB8IGJhc2gpIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLW91
      dHB1dCIsICItbyIsIGRlZmF1bHQ9IiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICBoZWxwPSJPdXRwdXQgd2lsbCBiZSBzdG9yZWQgaW50byB0aGUgcHJvdmlkZWQgZmlsZSIpCiAg
      ICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1jZXBoZnMtZmlsZXN5c3RlbS1uYW1l
      IiwgZGVmYXVsdD0iIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IlBy
      b3ZpZGVzIHRoZSBuYW1lIG9mIHRoZSBDZXBoIGZpbGVzeXN0ZW0iKQogICAgICAgIG91dHB1dF9n
      cm91cC5hZGRfYXJndW1lbnQoIi0tY2VwaGZzLW1ldGFkYXRhLXBvb2wtbmFtZSIsIGRlZmF1bHQ9
      IiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJQcm92aWRlcyB0aGUg
      bmFtZSBvZiB0aGUgY2VwaGZzIG1ldGFkYXRhIHBvb2wiKQogICAgICAgIG91dHB1dF9ncm91cC5h
      ZGRfYXJndW1lbnQoIi0tY2VwaGZzLWRhdGEtcG9vbC1uYW1lIiwgZGVmYXVsdD0iIiwKICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IlByb3ZpZGVzIHRoZSBuYW1lIG9mIHRo
      ZSBjZXBoZnMgZGF0YSBwb29sIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCIt
      LXJiZC1kYXRhLXBvb2wtbmFtZSIsIGRlZmF1bHQ9IiIsIHJlcXVpcmVkPUZhbHNlLAogICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJvdmlkZXMgdGhlIG5hbWUgb2YgdGhl
      IFJCRCBkYXRhcG9vbCIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1yZ3ct
      ZW5kcG9pbnQiLCBkZWZhdWx0PSIiLCByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgIGhlbHA9IlJhZG9zIEdhdGVXYXkgZW5kcG9pbnQgKGluIDxJUD46PFBP
      UlQ+IGZvcm1hdCkiKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRfYXJndW1lbnQoIi0tcmd3LXRs
      cy1jZXJ0LXBhdGgiLCBkZWZhdWx0PSIiLCByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgIGhlbHA9IlJhZG9zIEdhdGVXYXkgZW5kcG9pbnQgVExTIGNlcnRp
      ZmljYXRlIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLXJndy1za2lwLXRs
      cyIsIHJlcXVpcmVkPUZhbHNlLCBkZWZhdWx0PUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgaGVscD0iSWdub3JlIFRMUyBjZXJ0aWZpY2F0aW9uIHZhbGlkYXRpb24gd2hl
      biBhIHNlbGYtc2lnbmVkIGNlcnRpZmljYXRlIGlzIHByb3ZpZGVkIChOT1QgUkVDT01NRU5ERUQi
      KQogICAgICAgIG91dHB1dF9ncm91cC5hZGRfYXJndW1lbnQoIi0tbW9uaXRvcmluZy1lbmRwb2lu
      dCIsIGRlZmF1bHQ9IiIsIHJlcXVpcmVkPUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgaGVscD0iQ2VwaCBNYW5hZ2VyIHByb21ldGhldXMgZXhwb3J0ZXIgZW5kcG9pbnRz
      IChjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiA8SVA+IGVudHJpZXMgb2YgYWN0aXZlIGFuZCBzdGFu
      ZGJ5IG1ncnMpIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLW1vbml0b3Jp
      bmctZW5kcG9pbnQtcG9ydCIsIGRlZmF1bHQ9IiIsIHJlcXVpcmVkPUZhbHNlLAogICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iQ2VwaCBNYW5hZ2VyIHByb21ldGhldXMgZXhw
      b3J0ZXIgcG9ydCIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1yYmQtbWV0
      YWRhdGEtZWMtcG9vbC1uYW1lIiwgZGVmYXVsdD0iIiwgcmVxdWlyZWQ9RmFsc2UsCiAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJQcm92aWRlcyB0aGUgbmFtZSBvZiBlcmFz
      dXJlIGNvZGVkIFJCRCBtZXRhZGF0YSBwb29sIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2Fy
      Z3VtZW50KCItLWRyeS1ydW4iLCBkZWZhdWx0PUZhbHNlLCBhY3Rpb249J3N0b3JlX3RydWUnLAog
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iRHJ5IHJ1biBwcmludHMgdGhl
      IGV4ZWN1dGVkIGNvbW1hbmRzIHdpdGhvdXQgcnVubmluZyB0aGVtIikKICAgICAgICBvdXRwdXRf
      Z3JvdXAuYWRkX2FyZ3VtZW50KCItLXJhZG9zLW5hbWVzcGFjZSIsZGVmYXVsdD0iIiwgcmVxdWly
      ZWQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJkaXZpZGVz
      IGEgcG9vbCBpbnRvIHNlcGFyYXRlIGxvZ2ljYWwgbmFtZXNwYWNlcyIpCgogICAgICAgIHVwZ3Jh
      ZGVfZ3JvdXAgPSBhcmdQLmFkZF9hcmd1bWVudF9ncm91cCgndXBncmFkZScpCiAgICAgICAgdXBn
      cmFkZV9ncm91cC5hZGRfYXJndW1lbnQoIi0tdXBncmFkZSIsIGFjdGlvbj0nc3RvcmVfdHJ1ZScs
      IGRlZmF1bHQ9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0i
      VXBncmFkZXMgdGhlICd1c2VyJyB3aXRoIGFsbCB0aGUgcGVybWlzc2lvbnMgbmVlZGVkIGZvciB0
      aGUgbmV3IGNsdXN0ZXIgdmVyc2lvbiIpCgogICAgICAgIGlmIGFyZ3NfdG9fcGFyc2U6CiAgICAg
      ICAgICAgIGFzc2VydCB0eXBlKGFyZ3NfdG9fcGFyc2UpID09IGxpc3QsIFwKICAgICAgICAgICAg
      ICAgICJBcmd1bWVudCB0byAnZ2VuX2FyZ19wYXJzZXInIHNob3VsZCBiZSBhIGxpc3QiCiAgICAg
      ICAgZWxzZToKICAgICAgICAgICAgYXJnc190b19wYXJzZSA9IHN5cy5hcmd2WzE6XQogICAgICAg
      IHJldHVybiBhcmdQLnBhcnNlX2FyZ3MoYXJnc190b19wYXJzZSkKCiAgICBkZWYgdmFsaWRhdGVf
      cmd3X21ldGFkYXRhX2VjX3Bvb2xfbmFtZShzZWxmKToKICAgICAgICBpZiBzZWxmLl9hcmdfcGFy
      c2VyLnJiZF9tZXRhZGF0YV9lY19wb29sX25hbWU6CiAgICAgICAgICAgIHJiZF9tZXRhZGF0YV9l
      Y19wb29sX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLnJiZF9tZXRhZGF0YV9lY19wb29sX25hbWUK
      ICAgICAgICAgICAgcmJkX3Bvb2xfbmFtZSA9IHNlbGYuX2FyZ19wYXJzZXIucmJkX2RhdGFfcG9v
      bF9uYW1lCgogICAgICAgICAgICBpZiByYmRfcG9vbF9uYW1lID09ICIiOgogICAgICAgICAgICAg
      ICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAi
      RmxhZyAnLS1yYmQtZGF0YS1wb29sLW5hbWUnIHNob3VsZCBub3QgYmUgZW1wdHkiCiAgICAgICAg
      ICAgICAgICApCgogICAgICAgICAgICBpZiByYmRfbWV0YWRhdGFfZWNfcG9vbF9uYW1lID09ICIi
      OgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAg
      ICAgICAgICAgICAgICAiRmxhZyAnLS1yYmQtbWV0YWRhdGEtZWMtcG9vbC1uYW1lJyBzaG91bGQg
      bm90IGJlIGVtcHR5IgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgY21kX2pzb24gPSB7
      CiAgICAgICAgICAgICAgICAicHJlZml4IjogIm9zZCBkdW1wIiwgImZvcm1hdCI6ICJqc29uIgog
      ICAgICAgICAgICB9CiAgICAgICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2Vs
      Zi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAgICAgaWYgcmV0X3ZhbCAh
      PSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlv
      bkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgInt9Ii5mb3JtYXQoY21kX2pz
      b25bJ3ByZWZpeCddKSArICIgY29tbWFuZCBmYWlsZWQuXG4iICsKICAgICAgICAgICAgICAgICAg
      ICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJyX21zZyBpZiByZXRfdmFsICE9CiAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgIDAgZWxzZSBzZWxmLkVNUFRZX09VVFBVVF9MSVNUKQog
      ICAgICAgICAgICAgICAgKQogICAgICAgICAgICBtZXRhZGF0YV9wb29sX2V4aXN0LCBwb29sX2V4
      aXN0ID0gRmFsc2UsIEZhbHNlCgogICAgICAgICAgICBmb3Iga2V5IGluIGpzb25fb3V0Wydwb29s
      cyddOgogICAgICAgICAgICAgICAgIyBpZiBlcmFzdXJlX2NvZGVfcHJvZmlsZSBpcyBlbXB0eSBh
      bmQgcG9vbCBuYW1lIGV4aXN0cyB0aGVuIGl0IHJlcGxpY2EgcG9vbAogICAgICAgICAgICAgICAg
      aWYga2V5WydlcmFzdXJlX2NvZGVfcHJvZmlsZSddID09ICIiIGFuZCBrZXlbJ3Bvb2xfbmFtZSdd
      ID09IHJiZF9tZXRhZGF0YV9lY19wb29sX25hbWU6CiAgICAgICAgICAgICAgICAgICAgbWV0YWRh
      dGFfcG9vbF9leGlzdCA9IFRydWUKICAgICAgICAgICAgICAgICMgaWYgZXJhc3VyZV9jb2RlX3By
      b2ZpbGUgaXMgbm90IGVtcHR5IGFuZCBwb29sIG5hbWUgZXhpc3RzIHRoZW4gaXQgaXMgZWMgcG9v
      bAogICAgICAgICAgICAgICAgaWYga2V5WydlcmFzdXJlX2NvZGVfcHJvZmlsZSddIGFuZCBrZXlb
      J3Bvb2xfbmFtZSddID09IHJiZF9wb29sX25hbWU6CiAgICAgICAgICAgICAgICAgICAgcG9vbF9l
      eGlzdCA9IFRydWUKCiAgICAgICAgICAgIGlmIG5vdCBtZXRhZGF0YV9wb29sX2V4aXN0OgogICAg
      ICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAg
      ICAgICAgICAiUHJvdmlkZWQgcmJkX2VjX21ldGFkYXRhX3Bvb2wgbmFtZSwge30sIGRvZXMgbm90
      IGV4aXN0Ii5mb3JtYXQocmJkX21ldGFkYXRhX2VjX3Bvb2xfbmFtZSkpCiAgICAgICAgICAgIGlm
      IG5vdCBwb29sX2V4aXN0OgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4
      Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiUHJvdmlkZWQgcmJkX2RhdGFfcG9vbCBuYW1l
      LCB7fSwgZG9lcyBub3QgZXhpc3QiLmZvcm1hdChyYmRfcG9vbF9uYW1lKSkKICAgICAgICAgICAg
      cmV0dXJuIHJiZF9tZXRhZGF0YV9lY19wb29sX25hbWUKCiAgICBkZWYgZHJ5X3J1bihzZWxmLCBt
      c2cpOgogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoKICAgICAgICAgICAgcHJp
      bnQoIkV4ZWN1dGU6ICIgKyAiJyIgKyBtc2cgKyAiJyIpCgogICAgZGVmIHZhbGlkYXRlX3Jnd19l
      bmRwb2ludF90bHNfY2VydChzZWxmKToKICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnJnd190
      bHNfY2VydF9wYXRoOgogICAgICAgICAgICB3aXRoIG9wZW4oc2VsZi5fYXJnX3BhcnNlci5yZ3df
      dGxzX2NlcnRfcGF0aCwgZW5jb2Rpbmc9J3V0ZjgnKSBhcyBmOgogICAgICAgICAgICAgICAgY29u
      dGVudHMgPSBmLnJlYWQoKQogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLnJzdHJpcCgp
      CgogICAgZGVmIF9jaGVja19jb25mbGljdGluZ19vcHRpb25zKHNlbGYpOgogICAgICAgIGlmIG5v
      dCBzZWxmLl9hcmdfcGFyc2VyLnVwZ3JhZGUgYW5kIG5vdCBzZWxmLl9hcmdfcGFyc2VyLnJiZF9k
      YXRhX3Bvb2xfbmFtZToKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlv
      bigKICAgICAgICAgICAgICAgICJFaXRoZXIgJy0tdXBncmFkZScgb3IgJy0tcmJkLWRhdGEtcG9v
      bC1uYW1lIDxwb29sX25hbWU+JyBzaG91bGQgYmUgc3BlY2lmaWVkIikKICAgICAgICBpZiBzZWxm
      Ll9hcmdfcGFyc2VyLnVwZ3JhZGUgYW5kIHNlbGYuX2FyZ19wYXJzZXIucmJkX2RhdGFfcG9vbF9u
      YW1lOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAg
      ICAgICAgICAgIkJvdGggJy0tdXBncmFkZScgYW5kICctLXJiZC1kYXRhLXBvb2wtbmFtZSA8cG9v
      bF9uYW1lPicgc2hvdWxkIG5vdCBiZSBzcGVjaWZpZWQsIGNob29zZSBvbmx5IG9uZSIpCiAgICAg
      ICAgIyBhIHVzZXIgbmFtZSBtdXN0IGJlIHByb3ZpZGVkIHdoaWxlIHVzaW5nICctLXVwZ3JhZGUn
      IG9wdGlvbgogICAgICAgIGlmIG5vdCBzZWxmLl9hcmdfcGFyc2VyLnJ1bl9hc191c2VyIGFuZCBz
      ZWxmLl9hcmdfcGFyc2VyLnVwZ3JhZGU6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1
      cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiUGxlYXNlIHByb3ZpZGUgYW4gZXhpc3Rpbmcg
      dXNlci1uYW1lIHRocm91Z2ggJy0tcnVuLWFzLXVzZXInIChvciAnLXUnKSBmbGFnIHdoaWxlIHVw
      Z3JhZGluZyIpCgogICAgZGVmIF9pbnZhbGlkX2VuZHBvaW50KHNlbGYsIGVuZHBvaW50X3N0cik6
      CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpcHY0LCBwb3J0ID0gZW5kcG9pbnRfc3RyLnNwbGl0
      KCc6JykKICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJOb3QgYSBwcm9wZXIgZW5kcG9p
      bnQ6IHt9LCA8SVB2ND46PFBPUlQ+LCBmb3JtYXQgaXMgZXhwZWN0ZWQiLmZvcm1hdChlbmRwb2lu
      dF9zdHIpKQogICAgICAgIGlwUGFydHMgPSBpcHY0LnNwbGl0KCcuJykKICAgICAgICBpZiBsZW4o
      aXBQYXJ0cykgIT0gNDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlv
      bigKICAgICAgICAgICAgICAgICJOb3QgYSB2YWxpZCBJUCBhZGRyZXNzOiB7fSIuZm9ybWF0KGlw
      djQpKQogICAgICAgIGZvciBlYWNoUGFydCBpbiBpcFBhcnRzOgogICAgICAgICAgICBpZiBub3Qg
      ZWFjaFBhcnQuaXNkaWdpdCgpOgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVy
      ZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiSVAgYWRkcmVzcyBwYXJ0cyBzaG91bGQg
      YmUgbnVtYmVyczoge30iLmZvcm1hdChpcHY0KSkKICAgICAgICAgICAgaW50UGFydCA9IGludChl
      YWNoUGFydCkKICAgICAgICAgICAgaWYgaW50UGFydCA8IDAgb3IgaW50UGFydCA+IDI1NDoKICAg
      ICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAg
      ICAgICAgICAgIk91dCBvZiByYW5nZSBJUCBhZGRyZXNzZXM6IHt9Ii5mb3JtYXQoaXB2NCkpCiAg
      ICAgICAgaWYgbm90IHBvcnQuaXNkaWdpdCgpOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25G
      YWlsdXJlRXhjZXB0aW9uKCJQb3J0IG5vdCB2YWxpZDoge30iLmZvcm1hdChwb3J0KSkKICAgICAg
      ICBpbnRQb3J0ID0gaW50KHBvcnQpCiAgICAgICAgaWYgaW50UG9ydCA8IDEgb3IgaW50UG9ydCA+
      IDIqKjE2LTE6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAg
      ICAgICAgICAgICAgICAiT3V0IG9mIHJhbmdlIHBvcnQgbnVtYmVyOiB7fSIuZm9ybWF0KHBvcnQp
      KQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBlbmRwb2ludF9kaWFsKHNlbGYsIGVuZHBv
      aW50X3N0ciwgdGltZW91dD0zLCBjZXJ0PU5vbmUpOgogICAgICAgICMgaWYgdGhlICdjbHVzdGVy
      JyBpbnN0YW5jZSBpcyBhIGR1bW15IG9uZSwKICAgICAgICAjIGRvbid0IHRyeSB0byByZWFjaCBv
      dXQgdG8gdGhlIGVuZHBvaW50CiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNsdXN0ZXIsIER1
      bW15UmFkb3MpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBwcm90b2NvbHMgPSBbImh0dHAi
      LCAiaHR0cHMiXQogICAgICAgIGZvciBwcmVmaXggaW4gcHJvdG9jb2xzOgogICAgICAgICAgICB0
      cnk6CiAgICAgICAgICAgICAgICBlcCA9ICJ7fTovL3t9Ii5mb3JtYXQocHJlZml4LCBlbmRwb2lu
      dF9zdHIpCiAgICAgICAgICAgICAgICAjIElmIHZlcmlmeSBpcyBzZXQgdG8gYSBwYXRoIHRvIGEg
      ZGlyZWN0b3J5LAogICAgICAgICAgICAgICAgIyB0aGUgZGlyZWN0b3J5IG11c3QgaGF2ZSBiZWVu
      IHByb2Nlc3NlZCB1c2luZyB0aGUgY19yZWhhc2ggdXRpbGl0eSBzdXBwbGllZCB3aXRoIE9wZW5T
      U0wuCiAgICAgICAgICAgICAgICBpZiBwcmVmaXggPT0gImh0dHBzIiBhbmQgY2VydCBhbmQgc2Vs
      Zi5fYXJnX3BhcnNlci5yZ3dfc2tpcF90bHM6CiAgICAgICAgICAgICAgICAgICAgciA9IHJlcXVl
      c3RzLmhlYWQoZXAsIHRpbWVvdXQ9dGltZW91dCwgdmVyaWZ5PUZhbHNlKQogICAgICAgICAgICAg
      ICAgZWxpZiBwcmVmaXggPT0gImh0dHBzIiBhbmQgY2VydDoKICAgICAgICAgICAgICAgICAgICBy
      ID0gcmVxdWVzdHMuaGVhZChlcCwgdGltZW91dD10aW1lb3V0LCB2ZXJpZnk9Y2VydCkKICAgICAg
      ICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLmhlYWQoZXAs
      IHRpbWVvdXQ9dGltZW91dCkKICAgICAgICAgICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAw
      OgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAg
      ICAgICAgICBjb250aW51ZQogICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24o
      CiAgICAgICAgICAgICJ1bmFibGUgdG8gY29ubmVjdCB0byBlbmRwb2ludDoge30iLmZvcm1hdChl
      bmRwb2ludF9zdHIpKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhcmdfbGlzdD1Ob25lKToKICAg
      ICAgICBzZWxmLm91dF9tYXAgPSB7fQogICAgICAgIHNlbGYuX2V4Y2x1ZGVkX2tleXMgPSBzZXQo
      KQogICAgICAgIHNlbGYuX2FyZ19wYXJzZXIgPSBzZWxmLmdlbl9hcmdfcGFyc2VyKGFyZ3NfdG9f
      cGFyc2U9YXJnX2xpc3QpCiAgICAgICAgc2VsZi5fY2hlY2tfY29uZmxpY3Rpbmdfb3B0aW9ucygp
      CiAgICAgICAgc2VsZi5ydW5fYXNfdXNlciA9IHNlbGYuX2FyZ19wYXJzZXIucnVuX2FzX3VzZXIK
      ICAgICAgICBzZWxmLm91dHB1dF9maWxlID0gc2VsZi5fYXJnX3BhcnNlci5vdXRwdXQKICAgICAg
      ICBzZWxmLmNlcGhfY29uZiA9IHNlbGYuX2FyZ19wYXJzZXIuY2VwaF9jb25mCiAgICAgICAgc2Vs
      Zi5NSU5fVVNFUl9DQVBfUEVSTUlTU0lPTlMgPSB7CiAgICAgICAgICAgICdtZ3InOiAnYWxsb3cg
      Y29tbWFuZCBjb25maWcnLAogICAgICAgICAgICAnbW9uJzogJ2FsbG93IHIsIGFsbG93IGNvbW1h
      bmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJzaW9uJywKICAgICAgICAgICAgJ29z
      ZCc6ICJhbGxvdyByd3ggcG9vbD17MH0ucmd3Lm1ldGEsICIgKwogICAgICAgICAgICAiYWxsb3cg
      ciBwb29sPS5yZ3cucm9vdCwgIiArCiAgICAgICAgICAgICJhbGxvdyBydyBwb29sPXswfS5yZ3cu
      Y29udHJvbCwgIiArCiAgICAgICAgICAgICJhbGxvdyByeCBwb29sPXswfS5yZ3cubG9nLCAiICsK
      ICAgICAgICAgICAgImFsbG93IHggcG9vbD17MH0ucmd3LmJ1Y2tldHMuaW5kZXgiCiAgICAgICAg
      fQogICAgICAgICMgaWYgdXNlciBub3QgcHJvdmlkZWQsIGdpdmUgYSBkZWZhdWx0IHVzZXIKICAg
      ICAgICBpZiBub3Qgc2VsZi5ydW5fYXNfdXNlciBhbmQgbm90IHNlbGYuX2FyZ19wYXJzZXIudXBn
      cmFkZToKICAgICAgICAgICAgc2VsZi5ydW5fYXNfdXNlciA9IHNlbGYuRVhURVJOQUxfVVNFUl9O
      QU1FCiAgICAgICAgaWYgbm90IHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4IGFuZCBu
      b3Qgc2VsZi5fYXJnX3BhcnNlci51cGdyYWRlOgogICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2Vy
      LnJnd19wb29sX3ByZWZpeCA9IHNlbGYuREVGQVVMVF9SR1dfUE9PTF9QUkVGSVgKICAgICAgICBp
      ZiBzZWxmLmNlcGhfY29uZjoKICAgICAgICAgICAgc2VsZi5jbHVzdGVyID0gcmFkb3MuUmFkb3Mo
      Y29uZmZpbGU9c2VsZi5jZXBoX2NvbmYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5j
      bHVzdGVyID0gcmFkb3MuUmFkb3MoKQogICAgICAgICAgICBzZWxmLmNsdXN0ZXIuY29uZl9yZWFk
      X2ZpbGUoKQogICAgICAgIHNlbGYuY2x1c3Rlci5jb25uZWN0KCkKCiAgICBkZWYgc2h1dGRvd24o
      c2VsZik6CiAgICAgICAgaWYgc2VsZi5jbHVzdGVyLnN0YXRlID09ICJjb25uZWN0ZWQiOgogICAg
      ICAgICAgICBzZWxmLmNsdXN0ZXIuc2h1dGRvd24oKQoKICAgIGRlZiBnZXRfZnNpZChzZWxmKToK
      ICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBz
      ZWxmLmRyeV9ydW4oImNlcGggZnNpZCIpCiAgICAgICAgcmV0dXJuIHN0cihzZWxmLmNsdXN0ZXIu
      Z2V0X2ZzaWQoKSkKCiAgICBkZWYgX2NvbW1vbl9jbWRfanNvbl9nZW4oc2VsZiwgY21kX2pzb24p
      OgogICAgICAgIGNtZCA9IGpzb24uZHVtcHMoY21kX2pzb24sIHNvcnRfa2V5cz1UcnVlKQogICAg
      ICAgIHJldF92YWwsIGNtZF9vdXQsIGVycl9tc2cgPSBzZWxmLmNsdXN0ZXIubW9uX2NvbW1hbmQo
      Y21kLCBiJycpCiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci52ZXJib3NlOgogICAgICAgICAg
      ICBwcmludCgiQ29tbWFuZCBJbnB1dDoge30iLmZvcm1hdChjbWQpKQogICAgICAgICAgICBwcmlu
      dCgiUmV0dXJuIFZhbDoge31cbkNvbW1hbmQgT3V0cHV0OiB7fVxuRXJyb3IgTWVzc2FnZToge31c
      bi0tLS0tLS0tLS1cbiIuZm9ybWF0KAogICAgICAgICAgICAgICAgICByZXRfdmFsLCBjbWRfb3V0
      LCBlcnJfbXNnKSkKICAgICAgICBqc29uX291dCA9IHt9CiAgICAgICAgIyBpZiB0aGVyZSBpcyBu
      byBlcnJvciAoaS5lOyByZXRfdmFsIGlzIFpFUk8pIGFuZCAnY21kX291dCcgaXMgbm90IGVtcHR5
      CiAgICAgICAgIyB0aGVuIGNvbnZlcnQgJ2NtZF9vdXQnIHRvIGEganNvbiBvdXRwdXQKICAgICAg
      ICBpZiByZXRfdmFsID09IDAgYW5kIGNtZF9vdXQ6CiAgICAgICAgICAgIGpzb25fb3V0ID0ganNv
      bi5sb2FkcyhjbWRfb3V0KQogICAgICAgIHJldHVybiByZXRfdmFsLCBqc29uX291dCwgZXJyX21z
      ZwoKICAgIGRlZiBnZXRfY2VwaF9leHRlcm5hbF9tb25fZGF0YShzZWxmKToKICAgICAgICBjbWRf
      anNvbiA9IHsicHJlZml4IjogInF1b3J1bV9zdGF0dXMiLCAiZm9ybWF0IjogImpzb24ifQogICAg
      ICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYu
      ZHJ5X3J1bigiY2VwaCAiICsgY21kX2pzb25bJ3ByZWZpeCddKQogICAgICAgIHJldF92YWwsIGpz
      b25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAg
      ICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJl
      dF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1
      dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ3F1b3J1bV9zdGF0dXMnIGNv
      bW1hbmQgZmFpbGVkLlxuIiArCiAgICAgICAgICAgICAgICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJy
      X21zZyBpZiByZXRfdmFsICE9IDAgZWxzZSBzZWxmLkVNUFRZX09VVFBVVF9MSVNUKSkKICAgICAg
      ICBxX2xlYWRlcl9uYW1lID0ganNvbl9vdXRbJ3F1b3J1bV9sZWFkZXJfbmFtZSddCiAgICAgICAg
      cV9sZWFkZXJfZGV0YWlscyA9IHt9CiAgICAgICAgcV9sZWFkZXJfbWF0Y2hpbmdfbGlzdCA9IFts
      IGZvciBsIGluIGpzb25fb3V0Wydtb25tYXAnXVsnbW9ucyddCiAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICBpZiBsWyduYW1lJ10gPT0gcV9sZWFkZXJfbmFtZV0KICAgICAgICBpZiBs
      ZW4ocV9sZWFkZXJfbWF0Y2hpbmdfbGlzdCkgPT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbigiTm8gbWF0Y2hpbmcgJ21vbicgZGV0YWlscyBmb3VuZCIpCiAg
      ICAgICAgcV9sZWFkZXJfZGV0YWlscyA9IHFfbGVhZGVyX21hdGNoaW5nX2xpc3RbMF0KICAgICAg
      ICAjIGdldCB0aGUgYWRkcmVzcyB2ZWN0b3Igb2YgdGhlIHF1b3J1bS1sZWFkZXIKICAgICAgICBx
      X2xlYWRlcl9hZGRydmVjID0gcV9sZWFkZXJfZGV0YWlscy5nZXQoCiAgICAgICAgICAgICdwdWJs
      aWNfYWRkcnMnLCB7fSkuZ2V0KCdhZGRydmVjJywgW10pCiAgICAgICAgIyBpZiB0aGUgcXVvcnVt
      LWxlYWRlciBoYXMgb25seSBvbmUgYWRkcmVzcyBpbiB0aGUgYWRkcmVzcy12ZWN0b3IKICAgICAg
      ICAjIGFuZCBpdCBpcyBvZiB0eXBlICd2MicgKGllOyB3aXRoIDxJUD46MzMwMCksCiAgICAgICAg
      IyByYWlzZSBhbiBleGNlcHRpb24gdG8gbWFrZSB1c2VyIGF3YXJlIHRoYXQKICAgICAgICAjIHRo
      ZXkgaGF2ZSB0byBlbmFibGUgJ3YxJyAoaWU7IHdpdGggPElQPjo2Nzg5KSB0eXBlIGFzIHdlbGwK
      ICAgICAgICBpZiBsZW4ocV9sZWFkZXJfYWRkcnZlYykgPT0gMSBhbmQgcV9sZWFkZXJfYWRkcnZl
      Y1swXVsndHlwZSddID09ICd2Mic6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVF
      eGNlcHRpb24oCiAgICAgICAgICAgICAgICAiT25seSAndjInIGFkZHJlc3MgdHlwZSBpcyBlbmFi
      bGVkLCB1c2VyIHNob3VsZCBhbHNvIGVuYWJsZSAndjEnIHR5cGUgYXMgd2VsbCIpCiAgICAgICAg
      aXBfcG9ydCA9IHN0cihxX2xlYWRlcl9kZXRhaWxzWydwdWJsaWNfYWRkciddLnNwbGl0KCcvJylb
      MF0pCiAgICAgICAgcmV0dXJuICJ7fT17fSIuZm9ybWF0KHN0cihxX2xlYWRlcl9uYW1lKSwgaXBf
      cG9ydCkKCiAgICBkZWYgX2pvaW5faG9zdF9wb3J0KHNlbGYsIGVuZHBvaW50LCBwb3J0KToKICAg
      ICAgICBwb3J0ID0gInt9Ii5mb3JtYXQocG9ydCkKICAgICAgICAjIHJlZ2V4IHRvIGNoZWNrIHRo
      ZSBnaXZlbiBlbmRwb2ludCBpcyBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMKICAgICAgICBp
      cHY2X3JlZ3ggPSByZS5jb21waWxlKHInXlxbW15dXSpcXSQnKQogICAgICAgICMgZW5kcG9pbnQg
      aGFzICc6JyBpbiBpdCBhbmQgaWYgbm90IChhbHJlYWR5KSBlbmNsb3NlZCBpbiBzcXVhcmUgYnJh
      Y2tldHMKICAgICAgICBpZiBlbmRwb2ludC5jb3VudCgnOicpIGFuZCBub3QgaXB2Nl9yZWd4Lm1h
      dGNoKGVuZHBvaW50KToKICAgICAgICAgICAgZW5kcG9pbnQgPSAnW3t9XScuZm9ybWF0KGVuZHBv
      aW50KQogICAgICAgIGlmIG5vdCBwb3J0OgogICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQKICAg
      ICAgICByZXR1cm4gJzonLmpvaW4oW2VuZHBvaW50LCBwb3J0XSkKCiAgICBkZWYgX2NvbnZlcnRf
      aG9zdG5hbWVfdG9faXAoc2VsZiwgaG9zdF9uYW1lKToKICAgICAgICAjIGlmICdjbHVzdGVyJyBp
      bnN0YW5jZSBpcyBhIGR1bW15IHR5cGUsCiAgICAgICAgIyBjYWxsIHRoZSBkdW1teSBpbnN0YW5j
      ZSdzICJjb252ZXJ0IiBtZXRob2QKICAgICAgICBpZiBub3QgaG9zdF9uYW1lOgogICAgICAgICAg
      ICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCJFbXB0eSBob3N0bmFtZSBwcm92aWRl
      ZCIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNsdXN0ZXIsIER1bW15UmFkb3MpOgogICAg
      ICAgICAgICByZXR1cm4gc2VsZi5jbHVzdGVyLl9jb252ZXJ0X2hvc3RuYW1lX3RvX2lwKGhvc3Rf
      bmFtZSkKICAgICAgICBpbXBvcnQgc29ja2V0CiAgICAgICAgaXAgPSBzb2NrZXQuZ2V0aG9zdGJ5
      bmFtZShob3N0X25hbWUpCiAgICAgICAgZGVsIHNvY2tldAogICAgICAgIHJldHVybiBpcAoKICAg
      IGRlZiBnZXRfYWN0aXZlX2FuZF9zdGFuZGJ5X21ncnMoc2VsZik6CiAgICAgICAgaWYgc2VsZi5f
      YXJnX3BhcnNlci5kcnlfcnVuOgogICAgICAgICAgICByZXR1cm4gIiIsIHNlbGYuZHJ5X3J1bigi
      Y2VwaCBzdGF0dXMiKQogICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9IHNlbGYuX2Fy
      Z19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0CiAgICAgICAgbW9uaXRvcmluZ19lbmRw
      b2ludF9pcF9saXN0ID0gc2VsZi5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50CiAgICAg
      ICAgc3RhbmRieV9tZ3JzID0gW10KICAgICAgICBpZiBub3QgbW9uaXRvcmluZ19lbmRwb2ludF9p
      cF9saXN0OgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogInN0YXR1cyIsICJmb3Jt
      YXQiOiAianNvbiJ9CiAgICAgICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2Vs
      Zi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAgICAgIyBpZiB0aGVyZSBp
      cyBhbiB1bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwKICAgICAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9y
      IGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1
      cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgIidtZ3Igc2VydmljZXMnIGNvbW1hbmQg
      ZmFpbGVkLlxuIiArCiAgICAgICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9t
      c2cgaWYgcmV0X3ZhbCAhPSAwIGVsc2Ugc2VsZi5FTVBUWV9PVVRQVVRfTElTVCkpCiAgICAgICAg
      ICAgIG1vbml0b3JpbmdfZW5kcG9pbnQgPSBqc29uX291dC5nZXQoJ21ncm1hcCcsIHt9KS5nZXQo
      CiAgICAgICAgICAgICAgICAnc2VydmljZXMnLCB7fSkuZ2V0KCdwcm9tZXRoZXVzJywgJycpCiAg
      ICAgICAgICAgIGlmIG5vdCBtb25pdG9yaW5nX2VuZHBvaW50OgogICAgICAgICAgICAgICAgcmFp
      c2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiJ3Byb21l
      dGhldXMnIHNlcnZpY2Ugbm90IGZvdW5kLCBpcyB0aGUgZXhwb3J0ZXIgZW5hYmxlZD8nLlxuIikK
      ICAgICAgICAgICAgIyBub3cgY2hlY2sgdGhlIHN0YW5kLWJ5IG1nci1zCiAgICAgICAgICAgIHN0
      YW5kYnlfYXJyID0ganNvbl9vdXQuZ2V0KCdtZ3JtYXAnLCB7fSkuZ2V0KCdzdGFuZGJ5cycsIFtd
      KQogICAgICAgICAgICBmb3IgZWFjaF9zdGFuZGJ5IGluIHN0YW5kYnlfYXJyOgogICAgICAgICAg
      ICAgICAgaWYgJ25hbWUnIGluIGVhY2hfc3RhbmRieS5rZXlzKCk6CiAgICAgICAgICAgICAgICAg
      ICAgc3RhbmRieV9tZ3JzLmFwcGVuZChlYWNoX3N0YW5kYnlbJ25hbWUnXSkKICAgICAgICAgICAg
      dHJ5OgogICAgICAgICAgICAgICAgcGFyc2VkX2VuZHBvaW50ID0gdXJscGFyc2UobW9uaXRvcmlu
      Z19lbmRwb2ludCkKICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAg
      ICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJp
      bnZhbGlkIGVuZHBvaW50OiB7fSIuZm9ybWF0KG1vbml0b3JpbmdfZW5kcG9pbnQpKQogICAgICAg
      ICAgICBtb25pdG9yaW5nX2VuZHBvaW50X2lwX2xpc3QgPSBwYXJzZWRfZW5kcG9pbnQuaG9zdG5h
      bWUKICAgICAgICAgICAgaWYgbm90IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydDoKICAgICAgICAg
      ICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9ICJ7fSIuZm9ybWF0KHBhcnNlZF9lbmRw
      b2ludC5wb3J0KQoKICAgICAgICAjIGlmIG1vbml0b3JpbmcgZW5kcG9pbnQgcG9ydCBpcyBub3Qg
      c2V0LCBwdXQgYSBkZWZhdWx0IG1vbiBwb3J0CiAgICAgICAgaWYgbm90IG1vbml0b3JpbmdfZW5k
      cG9pbnRfcG9ydDoKICAgICAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gc2VsZi5E
      RUZBVUxUX01PTklUT1JJTkdfRU5EUE9JTlRfUE9SVAoKICAgICAgICAjIHVzZXIgY291bGQgZ2l2
      ZSBjb21tYSBhbmQgc3BhY2Ugc2VwYXJhdGVkIGlucHV0cyAobGlrZSAtLW1vbml0b3JpbmctZW5k
      cG9pbnQ9IjxpcDE+LCA8aXAyPiIpCiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9pcF9saXN0
      ID0gbW9uaXRvcmluZ19lbmRwb2ludF9pcF9saXN0LnJlcGxhY2UoCiAgICAgICAgICAgICIsIiwg
      IiAiKQogICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfaXBfbGlzdF9zcGxpdCA9IG1vbml0b3Jp
      bmdfZW5kcG9pbnRfaXBfbGlzdC5zcGxpdCgpCiAgICAgICAgIyBpZiBtb25pdG9yaW5nLWVuZHBv
      aW50IGNvdWxkIG5vdCBiZSBmb3VuZCwgcmFpc2UgYW4gZXJyb3IKICAgICAgICBpZiBsZW4obW9u
      aXRvcmluZ19lbmRwb2ludF9pcF9saXN0X3NwbGl0KSA9PSAwOgogICAgICAgICAgICByYWlzZSBF
      eGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCJObyAnbW9uaXRvcmluZy1lbmRwb2ludCcgZm91bmQi
      KQogICAgICAgICMgZmlyc3QgaXAgaXMgdHJlYXRlZCBhcyB0aGUgbWFpbiBtb25pdG9yaW5nLWVu
      ZHBvaW50CiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludF9pcCA9IG1vbml0b3JpbmdfZW5kcG9p
      bnRfaXBfbGlzdF9zcGxpdFswXQogICAgICAgICMgcmVzdCBvZiB0aGUgaXAtcyBhcmUgYWRkZWQg
      dG8gdGhlICdzdGFuZGJ5X21ncnMnIGxpc3QKICAgICAgICBzdGFuZGJ5X21ncnMuZXh0ZW5kKG1v
      bml0b3JpbmdfZW5kcG9pbnRfaXBfbGlzdF9zcGxpdFsxOl0pCgogICAgICAgIHRyeToKICAgICAg
      ICAgICAgZmFpbGVkX2lwID0gbW9uaXRvcmluZ19lbmRwb2ludF9pcAogICAgICAgICAgICBtb25p
      dG9yaW5nX2VuZHBvaW50X2lwID0gc2VsZi5fY29udmVydF9ob3N0bmFtZV90b19pcCgKICAgICAg
      ICAgICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfaXApCiAgICAgICAgICAgICMgY29sbGVjdCBh
      bGwgdGhlICdzdGFuZC1ieScgbWdyIGlwcwogICAgICAgICAgICBtZ3JfaXBzID0gW10KICAgICAg
      ICAgICAgZm9yIGVhY2hfc3RhbmRieV9tZ3IgaW4gc3RhbmRieV9tZ3JzOgogICAgICAgICAgICAg
      ICAgZmFpbGVkX2lwID0gZWFjaF9zdGFuZGJ5X21ncgogICAgICAgICAgICAgICAgbWdyX2lwcy5h
      cHBlbmQoCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29udmVydF9ob3N0bmFtZV90b19pcChl
      YWNoX3N0YW5kYnlfbWdyKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1
      dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiQ29udmVyc2lvbiBvZiBob3N0
      OiB7fSB0byBJUCBmYWlsZWQuICIKICAgICAgICAgICAgICAgICJQbGVhc2UgZW50ZXIgdGhlIElQ
      IGFkZHJlc3NlcyBvZiBhbGwgdGhlIGNlcGgtbWdycyB3aXRoIHRoZSAnLS1tb25pdG9yaW5nLWVu
      ZHBvaW50JyBmbGFnIi5mb3JtYXQoZmFpbGVkX2lwKSkKICAgICAgICBtb25pdG9yaW5nX2VuZHBv
      aW50ID0gc2VsZi5fam9pbl9ob3N0X3BvcnQoCiAgICAgICAgICAgIG1vbml0b3JpbmdfZW5kcG9p
      bnRfaXAsIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCkKICAgICAgICBzZWxmLl9pbnZhbGlkX2Vu
      ZHBvaW50KG1vbml0b3JpbmdfZW5kcG9pbnQpCiAgICAgICAgc2VsZi5lbmRwb2ludF9kaWFsKG1v
      bml0b3JpbmdfZW5kcG9pbnQpCgogICAgICAgICMgYWRkIHRoZSB2YWxpZGF0ZWQgYWN0aXZlIG1n
      ciBJUCBpbnRvIHRoZSBmaXJzdCBpbmRleAogICAgICAgIG1ncl9pcHMuaW5zZXJ0KDAsIG1vbml0
      b3JpbmdfZW5kcG9pbnRfaXApCiAgICAgICAgYWxsX21ncl9pcHNfc3RyID0gIiwiLmpvaW4obWdy
      X2lwcykKICAgICAgICByZXR1cm4gYWxsX21ncl9pcHNfc3RyLCBtb25pdG9yaW5nX2VuZHBvaW50
      X3BvcnQKCiAgICBkZWYgY3JlYXRlX2NlcGhDU0lLZXlyaW5nX2NlcGhGU1Byb3Zpc2lvbmVyKHNl
      bGYpOgogICAgICAgICcnJwogICAgICAgIGNvbW1hbmQ6IGNlcGggYXV0aCBnZXQtb3ItY3JlYXRl
      IGNsaWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyIG1vbiAnYWxsb3cgcicgbWdyICdhbGxvdyBy
      dycgb3NkICdhbGxvdyBydyB0YWcgY2VwaGZzIG1ldGFkYXRhPSonCiAgICAgICAgJycnCiAgICAg
      ICAgZW50aXR5ID0gImNsaWVudC5jc2ktY2VwaGZzLXByb3Zpc2lvbmVyIgogICAgICAgIGNtZF9q
      c29uID0ge30KICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnJlc3RyaWN0ZWRfYXV0aF9wZXJt
      aXNzaW9uOgogICAgICAgICAgICBjbHVzdGVyX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLmNsdXN0
      ZXJfbmFtZQogICAgICAgICAgICBpZiBjbHVzdGVyX25hbWUgPT0gIiI6CiAgICAgICAgICAgICAg
      ICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJj
      bHVzdGVyX25hbWUgbm90IGZvdW5kLCBwbGVhc2Ugc2V0IHRoZSAnLS1jbHVzdGVyLW5hbWUnIGZs
      YWciKQogICAgICAgICAgICBjZXBoZnNfZmlsZXN5c3RlbSA9IHNlbGYuX2FyZ19wYXJzZXIuY2Vw
      aGZzX2ZpbGVzeXN0ZW1fbmFtZQogICAgICAgICAgICBpZiBjZXBoZnNfZmlsZXN5c3RlbSA9PSAi
      IjoKICAgICAgICAgICAgICAgIGVudGl0eSA9ICJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNpb25l
      ci17fSIuZm9ybWF0KGNsdXN0ZXJfbmFtZSkKICAgICAgICAgICAgICAgIGNtZF9qc29uID0geyJw
      cmVmaXgiOiAiYXV0aCBnZXQtb3ItY3JlYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICJlbnRpdHkiOiBlbnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2FwcyI6IFsi
      bW9uIiwgImFsbG93IHIsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwgCiAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWdyIiwgImFsbG93IHJ3IiwKICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBt
      ZXRhZGF0YT0qIl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogImpzb24i
      fQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZW50aXR5ID0gImNsaWVudC5jc2kt
      Y2VwaGZzLXByb3Zpc2lvbmVyLXt9LXt9Ii5mb3JtYXQoY2x1c3Rlcl9uYW1lLGNlcGhmc19maWxl
      c3lzdGVtKQogICAgICAgICAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJhdXRoIGdldC1v
      ci1jcmVhdGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6IGVudGl0eSwK
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwgYWxs
      b3cgY29tbWFuZCAnb3NkIGJsb2NrbGlzdCciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgIm1nciIsICJhbGxvdyBydyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAib3NkIiwgImFsbG93IHJ3IHRhZyBjZXBoZnMgbWV0YWRhdGE9e30iLmZvcm1hdChj
      ZXBoZnNfZmlsZXN5c3RlbSldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6
      ICJqc29uIn0KICAgICAgICBlbHNlOgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4Ijog
      ImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBl
      bnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwg
      YWxsb3cgY29tbWFuZCAnb3NkIGJsb2NrbGlzdCciLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAibWdyIiwgImFsbG93IHJ3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgIm9zZCIsICJhbGxvdyBydyB0YWcgY2VwaGZzIG1ldGFkYXRhPSoiXSwKICAgICAgICAgICAg
      ICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2Vy
      LmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBzZWxmLmRyeV9ydW4oImNlcGggIiArIGNtZF9q
      c29uWydwcmVmaXgnXSArICIgIiArIGNtZF9qc29uWydlbnRpdHknXSArICIgIiArICIgIi5qb2lu
      KGNtZF9qc29uWydjYXBzJ10pKQogICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0g
      c2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAjIGlmIHRoZXJlIGlz
      IGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4o
      anNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24oCiAgICAgICAgICAgICAgICAiJ2F1dGggZ2V0LW9yLWNyZWF0ZSBjbGllbnQuY3NpLWNlcGhm
      cy1wcm92aXNpb25lcicgY29tbWFuZCBmYWlsZWQuXG4iICsKICAgICAgICAgICAgICAgICJFcnJv
      cjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBlbHNlIHNlbGYuRU1QVFlfT1VU
      UFVUX0xJU1QpKQogICAgICAgIHJldHVybiBzdHIoanNvbl9vdXRbMF1bJ2tleSddKQoKICAgIGRl
      ZiBjcmVhdGVfY2VwaENTSUtleXJpbmdfY2VwaEZTTm9kZShzZWxmKToKICAgICAgICBlbnRpdHkg
      PSAiY2xpZW50LmNzaS1jZXBoZnMtbm9kZSIKICAgICAgICBjbWRfanNvbiA9IHt9CiAgICAgICAg
      aWYgc2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbjoKICAgICAgICAg
      ICAgY2x1c3Rlcl9uYW1lID0gc2VsZi5fYXJnX3BhcnNlci5jbHVzdGVyX25hbWUKICAgICAgICAg
      ICAgaWYgY2x1c3Rlcl9uYW1lID09ICIiOgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9u
      RmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiY2x1c3Rlcl9uYW1lIG5vdCBm
      b3VuZCwgcGxlYXNlIHNldCB0aGUgJy0tY2x1c3Rlci1uYW1lJyBmbGFnIikKICAgICAgICAgICAg
      Y2VwaGZzX2ZpbGVzeXN0ZW0gPSBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25h
      bWUKICAgICAgICAgICAgaWYgY2VwaGZzX2ZpbGVzeXN0ZW0gPT0gIiI6CiAgICAgICAgICAgICAg
      ICBlbnRpdHkgPSAiY2xpZW50LmNzaS1jZXBoZnMtbm9kZS17fSIuZm9ybWF0KGNsdXN0ZXJfbmFt
      ZSkKICAgICAgICAgICAgICAgIGNtZF9qc29uID0geyJwcmVmaXgiOiAiYXV0aCBnZXQtb3ItY3Jl
      YXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBlbnRpdHksCiAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAiY2FwcyI6IFsibW9uIiwgImFsbG93IHIsIGFsbG93IGNv
      bW1hbmQgJ29zZCBibG9ja2xpc3QnIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICJtZ3IiLCAiYWxsb3cgcnciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgIm9zZCIsICJhbGxvdyBydyB0YWcgY2VwaGZzICo9KiIsCiAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAibWRzIiwgImFsbG93IHJ3Il0sCiAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAiZm9ybWF0IjogImpzb24ifQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAg
      ICAgZW50aXR5ID0gImNsaWVudC5jc2ktY2VwaGZzLW5vZGUte30te30iLmZvcm1hdChjbHVzdGVy
      X25hbWUsY2VwaGZzX2ZpbGVzeXN0ZW0pCiAgICAgICAgICAgICAgICBjbWRfanNvbiA9IHsicHJl
      Zml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAi
      ZW50aXR5IjogZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBbIm1v
      biIsICJhbGxvdyByLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsCiAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAibWdyIiwgImFsbG93IHJ3IiwKICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyBkYXRh
      PXt9Ii5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZXBo
      ZnNfZmlsZXN5c3RlbSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWRz
      IiwgImFsbG93IHJ3Il0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogImpz
      b24ifQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNtZF9qc29uID0geyJwcmVmaXgiOiAiYXV0
      aCBnZXQtb3ItY3JlYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6IGVudGl0
      eSwKICAgICAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBbIm1vbiIsICJhbGxvdyByLCBhbGxv
      dyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICJtZ3IiLCAiYWxsb3cgcnciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi
      b3NkIiwgImFsbG93IHJ3IHRhZyBjZXBoZnMgKj0qIiwKICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgIm1kcyIsICJhbGxvdyBydyJdLAogICAgICAgICAgICAgICAgICAgICAgICAiZm9y
      bWF0IjogImpzb24ifQogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoKICAgICAg
      ICAgICAgcmV0dXJuIHNlbGYuZHJ5X3J1bigiY2VwaCAiICsgY21kX2pzb25bJ3ByZWZpeCddICsg
      IiAiICsgY21kX2pzb25bJ2VudGl0eSddICsgIiAiICsgIiAiLmpvaW4oY21kX2pzb25bJ2NhcHMn
      XSkpCiAgICAgICAgcmV0X3ZhbCwganNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21tb25fY21k
      X2pzb25fZ2VuKGNtZF9qc29uKQogICAgICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNjZXNzZnVs
      IGF0dGVtcHQsCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoK
      ICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAg
      ICAgICInYXV0aCBnZXQtb3ItY3JlYXRlIGNsaWVudC5jc2ktY2VwaGZzLW5vZGUnIGNvbW1hbmQg
      ZmFpbGVkLlxuIiArCiAgICAgICAgICAgICAgICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJyX21zZyBp
      ZiByZXRfdmFsICE9IDAgZWxzZSBzZWxmLkVNUFRZX09VVFBVVF9MSVNUKSkKICAgICAgICByZXR1
      cm4gc3RyKGpzb25fb3V0WzBdWydrZXknXSkKCiAgICBkZWYgY3JlYXRlX2NlcGhDU0lLZXlyaW5n
      X1JCRFByb3Zpc2lvbmVyKHNlbGYpOgogICAgICAgIGVudGl0eSA9ICJjbGllbnQuY3NpLXJiZC1w
      cm92aXNpb25lciIKICAgICAgICBjbWRfanNvbiA9IHt9CiAgICAgICAgaWYgc2VsZi5fYXJnX3Bh
      cnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbjoKICAgICAgICAgICAgcmJkX3Bvb2xfbmFt
      ZSA9IHNlbGYuX2FyZ19wYXJzZXIucmJkX2RhdGFfcG9vbF9uYW1lCiAgICAgICAgICAgIGNsdXN0
      ZXJfbmFtZSA9IHNlbGYuX2FyZ19wYXJzZXIuY2x1c3Rlcl9uYW1lCiAgICAgICAgICAgIHJhZG9z
      X25hbWVzcGFjZSA9IHNlbGYuX2FyZ19wYXJzZXIucmFkb3NfbmFtZXNwYWNlCiAgICAgICAgICAg
      IGlmIHJiZF9wb29sX25hbWUgPT0gIiIgb3IgY2x1c3Rlcl9uYW1lID09ICIiIG9yIHJhZG9zX25h
      bWVzcGFjZSA9PSAiIjoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNl
      cHRpb24oCiAgICAgICAgICAgICAgICAgICAgIm1hbmRhdG9yeSBmbGFncyBub3QgZm91bmQsIHBs
      ZWFzZSBzZXQgdGhlICctLXJiZC1kYXRhLXBvb2wtbmFtZScsICctLWNsdXN0ZXItbmFtZScgYW5k
      IC0tcmFkb3MtbmFtZXNwYWNlIGZsYWdzIikKICAgICAgICAgICAgZW50aXR5ID0gImNsaWVudC5j
      c2ktcmJkLXByb3Zpc2lvbmVyLXt9LXt9LXt9Ii5mb3JtYXQoY2x1c3Rlcl9uYW1lLHJiZF9wb29s
      X25hbWUscmFkb3NfbmFtZXNwYWNlKQogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4Ijog
      ImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBl
      bnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXBzIjogWyJtb24iLCAicHJvZmlsZSBy
      YmQsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgIm1nciIsICJhbGxvdyBydyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICJvc2QiLCAicHJvZmlsZSByYmQgcG9vbD17fSIuZm9ybWF0KHJiZF9wb29sX25hbWUp
      XSwKICAgICAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICBlbHNl
      OgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIs
      CiAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBlbnRpdHksCiAgICAgICAgICAgICAg
      ICAgICAgICAgICJjYXBzIjogWyJtb24iLCAicHJvZmlsZSByYmQsIGFsbG93IGNvbW1hbmQgJ29z
      ZCBibG9ja2xpc3QnIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1nciIsICJh
      bGxvdyBydyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCAicHJvZmls
      ZSByYmQiXSwKICAgICAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAg
      ICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAgIHJldHVybiBzZWxmLmRy
      eV9ydW4oImNlcGggIiArIGNtZF9qc29uWydwcmVmaXgnXSArICIgIiArIGNtZF9qc29uWydlbnRp
      dHknXSArICIgIiArICIgIi5qb2luKGNtZF9qc29uWydjYXBzJ10pKQogICAgICAgIHJldF92YWws
      IGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikK
      ICAgICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlm
      IHJldF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4
      ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ2F1dGggZ2V0LW9yLWNy
      ZWF0ZSBjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lcicgY29tbWFuZCBmYWlsZWQuXG4iICsKICAg
      ICAgICAgICAgICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBl
      bHNlIHNlbGYuRU1QVFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJldHVybiBzdHIoanNvbl9vdXRb
      MF1bJ2tleSddKQoKICAgIGRlZiBnZXRfY2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKHNlbGYpOgog
      ICAgICAgIGNtZF9qc29uID0geyJwcmVmaXgiOiAiZnMgbHMiLCAiZm9ybWF0IjogImpzb24ifQog
      ICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoKICAgICAgICAgICAgcmV0dXJuIHNl
      bGYuZHJ5X3J1bigiY2VwaCAiICsgY21kX2pzb25bJ3ByZWZpeCddKQogICAgICAgIHJldF92YWws
      IGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikK
      ICAgICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LCByZXBvcnQgYW4g
      ZXJyb3IKICAgICAgICBpZiByZXRfdmFsICE9IDA6CiAgICAgICAgICAgICMgaWYgZnMgYW5kIGRh
      dGFfcG9vbCBhcmd1bWVudHMgYXJlIG5vdCBzZXQsIHNpbGVudGx5IHJldHVybgogICAgICAgICAg
      ICBpZiBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWUgPT0gIiIgYW5kIHNl
      bGYuX2FyZ19wYXJzZXIuY2VwaGZzX2RhdGFfcG9vbF9uYW1lID09ICIiOgogICAgICAgICAgICAg
      ICAgcmV0dXJuCiAgICAgICAgICAgICMgaWYgdXNlciBoYXMgcHJvdmlkZWQgYW55IG9mIHRoZQog
      ICAgICAgICAgICAjICctLWNlcGhmcy1maWxlc3lzdGVtLW5hbWUnIG9yICctLWNlcGhmcy1kYXRh
      LXBvb2wtbmFtZScgYXJndW1lbnRzLAogICAgICAgICAgICAjIHJhaXNlIGFuIGV4Y2VwdGlvbiBh
      cyB3ZSBhcmUgdW5hYmxlIHRvIHZlcmlmeSB0aGUgYXJncwogICAgICAgICAgICByYWlzZSBFeGVj
      dXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgIidmcyBscycgY2VwaCBjYWxs
      IGZhaWxlZCB3aXRoIGVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cpKQoKICAgICAgICBtYXRjaGlu
      Z19qc29uX291dCA9IHt9CiAgICAgICAgIyBpZiAnLS1jZXBoZnMtZmlsZXN5c3RlbS1uYW1lJyBh
      cmd1bWVudCBpcyBwcm92aWRlZCwKICAgICAgICAjIGNoZWNrIHdoZXRoZXIgdGhlIHByb3ZpZGVk
      IGZpbGVzeXN0ZW0tbmFtZSBleGlzdHMgb3Igbm90CiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNl
      ci5jZXBoZnNfZmlsZXN5c3RlbV9uYW1lOgogICAgICAgICAgICAjIGdldCB0aGUgbWF0Y2hpbmcg
      bGlzdAogICAgICAgICAgICBtYXRjaGluZ19qc29uX291dF9saXN0ID0gW21hdGNoZWQgZm9yIG1h
      dGNoZWQgaW4ganNvbl9vdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
      ZiBzdHIobWF0Y2hlZFsnbmFtZSddKSA9PSBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lz
      dGVtX25hbWVdCiAgICAgICAgICAgICMgdW5hYmxlIHRvIGZpbmQgYSBtYXRjaGluZyBmcy1uYW1l
      LCByYWlzZSBhbiBlcnJvcgogICAgICAgICAgICBpZiBsZW4obWF0Y2hpbmdfanNvbl9vdXRfbGlz
      dCkgPT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24o
      CiAgICAgICAgICAgICAgICAgICAgKCJGaWxlc3lzdGVtIHByb3ZpZGVkLCAne30nLCAiICsKICAg
      ICAgICAgICAgICAgICAgICAgImlzIG5vdCBmb3VuZCBpbiB0aGUgZnMtbGlzdDogJ3t9JyIpLmZv
      cm1hdCgKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZmls
      ZXN5c3RlbV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBbc3RyKHhbJ25hbWUnXSkgZm9y
      IHggaW4ganNvbl9vdXRdKSkKICAgICAgICAgICAgbWF0Y2hpbmdfanNvbl9vdXQgPSBtYXRjaGlu
      Z19qc29uX291dF9saXN0WzBdCiAgICAgICAgIyBpZiBjZXBoZnMgZmlsZXN5c3RlbSBuYW1lIGlz
      IG5vdCBwcm92aWRlZCwKICAgICAgICAjIHRyeSB0byBnZXQgYSBkZWZhdWx0IGZzIG5hbWUgYnkg
      ZG9pbmcgdGhlIGZvbGxvd2luZwogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgYS4gY2hlY2sg
      aWYgdGhlcmUgaXMgb25seSBvbmUgZmlsZXN5c3RlbSBpcyBwcmVzZW50CiAgICAgICAgICAgIGlm
      IGxlbihqc29uX291dCkgPT0gMToKICAgICAgICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0ID0g
      anNvbl9vdXRbMF0KICAgICAgICAgICAgIyBiLiBvciBlbHNlLCBjaGVjayBpZiBkYXRhX3Bvb2wg
      bmFtZSBpcyBwcm92aWRlZAogICAgICAgICAgICBlbGlmIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZz
      X2RhdGFfcG9vbF9uYW1lOgogICAgICAgICAgICAgICAgIyBhbmQgaWYgcHJlc2VudCwgY2hlY2sg
      d2hldGhlciB0aGVyZSBleGlzdHMgYSBmcyB3aGljaCBoYXMgdGhlIGRhdGFfcG9vbAogICAgICAg
      ICAgICAgICAgZm9yIGVhY2hKIGluIGpzb25fb3V0OgogICAgICAgICAgICAgICAgICAgIGlmIHNl
      bGYuX2FyZ19wYXJzZXIuY2VwaGZzX2RhdGFfcG9vbF9uYW1lIGluIGVhY2hKWydkYXRhX3Bvb2xz
      J106CiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0ID0gZWFjaEoKICAg
      ICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICMgaWYgdGhlcmUgaXMg
      bm8gbWF0Y2hpbmcgZnMgZXhpc3RzLCB0aGF0IG1lYW5zIHByb3ZpZGVkIGRhdGFfcG9vbCBuYW1l
      IGlzIGludmFsaWQKICAgICAgICAgICAgICAgIGlmIG5vdCBtYXRjaGluZ19qc29uX291dDoKICAg
      ICAgICAgICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAg
      ICAgICAgICAgICAgICAgICAiUHJvdmlkZWQgZGF0YV9wb29sIG5hbWUsIHt9LCBkb2VzIG5vdCBl
      eGlzdHMiLmZvcm1hdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJz
      ZXIuY2VwaGZzX2RhdGFfcG9vbF9uYW1lKSkKICAgICAgICAgICAgIyBjLiBpZiBub3RoaW5nIGlz
      IHNldCBhbmQgY291bGRuJ3QgZmluZCBhIGRlZmF1bHQsCiAgICAgICAgICAgIGVsc2U6CiAgICAg
      ICAgICAgICAgICAjIGp1c3QgcmV0dXJuIHNpbGVudGx5CiAgICAgICAgICAgICAgICByZXR1cm4K
      CiAgICAgICAgaWYgbWF0Y2hpbmdfanNvbl9vdXQ6CiAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJz
      ZXIuY2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZSA9IHN0cigKICAgICAgICAgICAgICAgIG1hdGNoaW5n
      X2pzb25fb3V0WyduYW1lJ10pCiAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX21l
      dGFkYXRhX3Bvb2xfbmFtZSA9IHN0cigKICAgICAgICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0
      WydtZXRhZGF0YV9wb29sJ10pCgogICAgICAgIGlmIHR5cGUobWF0Y2hpbmdfanNvbl9vdXRbJ2Rh
      dGFfcG9vbHMnXSkgPT0gbGlzdDoKICAgICAgICAgICAgIyBpZiB0aGUgdXNlciBoYXMgYWxyZWFk
      eSBwcm92aWRlZCBkYXRhLXBvb2wtbmFtZSwKICAgICAgICAgICAgIyB0aHJvdWdoIC0tY2VwaGZz
      LWRhdGEtcG9vbC1uYW1lCiAgICAgICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2Rh
      dGFfcG9vbF9uYW1lOgogICAgICAgICAgICAgICAgIyBpZiB0aGUgcHJvdmlkZWQgbmFtZSBpcyBu
      b3QgbWF0Y2hpbmcgd2l0aCB0aGUgb25lIGluIHRoZSBsaXN0CiAgICAgICAgICAgICAgICBpZiBz
      ZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xfbmFtZSBub3QgaW4gbWF0Y2hpbmdfanNv
      bl9vdXRbJ2RhdGFfcG9vbHMnXToKICAgICAgICAgICAgICAgICAgICByYWlzZSBFeGVjdXRpb25G
      YWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAie306ICd7fScsIHt9OiB7
      fSIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByb3ZpZGVkIGRhdGEtcG9v
      bC1uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIuY2Vw
      aGZzX2RhdGFfcG9vbF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvZXNuJ3Qg
      bWF0Y2ggZnJvbSB0aGUgZGF0YS1wb29scycgbGlzdCIsCiAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICBbc3RyKHgpIGZvciB4IGluIG1hdGNoaW5nX2pzb25fb3V0WydkYXRhX3Bvb2xzJ11dKSkK
      ICAgICAgICAgICAgIyBpZiBkYXRhX3Bvb2wgbmFtZSBpcyBub3QgcHJvdmlkZWQsCiAgICAgICAg
      ICAgICMgdGhlbiB0cnkgdG8gZmluZCBhIGRlZmF1bHQgZGF0YSBwb29sIG5hbWUKICAgICAgICAg
      ICAgZWxzZToKICAgICAgICAgICAgICAgICMgaWYgbm8gZGF0YV9wb29scyBleGlzdCwgc2lsZW50
      bHkgcmV0dXJuCiAgICAgICAgICAgICAgICBpZiBsZW4obWF0Y2hpbmdfanNvbl9vdXRbJ2RhdGFf
      cG9vbHMnXSkgPT0gMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAg
      IHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2RhdGFfcG9vbF9uYW1lID0gc3RyKAogICAgICAgICAg
      ICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0WydkYXRhX3Bvb2xzJ11bMF0pCiAgICAgICAgICAg
      ICMgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgJ2RhdGFfcG9vbHMnIGV4aXN0LAogICAgICAg
      ICAgICAjIHRoZW4gd2FybiB0aGUgdXNlciB0aGF0IHdlIGFyZSB1c2luZyB0aGUgc2VsZWN0ZWQg
      bmFtZQogICAgICAgICAgICBpZiBsZW4obWF0Y2hpbmdfanNvbl9vdXRbJ2RhdGFfcG9vbHMnXSkg
      PiAxOgogICAgICAgICAgICAgICAgcHJpbnQoInt9OiB7fVxue306ICd7fSdcbiIuZm9ybWF0KAog
      ICAgICAgICAgICAgICAgICAgICJXQVJOSU5HOiBNdWx0aXBsZSBkYXRhIHBvb2xzIGRldGVjdGVk
      IiwKICAgICAgICAgICAgICAgICAgICBbc3RyKHgpIGZvciB4IGluIG1hdGNoaW5nX2pzb25fb3V0
      WydkYXRhX3Bvb2xzJ11dLAogICAgICAgICAgICAgICAgICAgICJVc2luZyB0aGUgZGF0YS1wb29s
      IiwKICAgICAgICAgICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xf
      bmFtZSkpCgogICAgZGVmIGNyZWF0ZV9jZXBoQ1NJS2V5cmluZ19SQkROb2RlKHNlbGYpOgogICAg
      ICAgIGVudGl0eSA9ICJjbGllbnQuY3NpLXJiZC1ub2RlIgogICAgICAgIGNtZF9qc29uID0ge30K
      ICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnJlc3RyaWN0ZWRfYXV0aF9wZXJtaXNzaW9uOgog
      ICAgICAgICAgICByYmRfcG9vbF9uYW1lID0gc2VsZi5fYXJnX3BhcnNlci5yYmRfZGF0YV9wb29s
      X25hbWUKICAgICAgICAgICAgY2x1c3Rlcl9uYW1lID0gc2VsZi5fYXJnX3BhcnNlci5jbHVzdGVy
      X25hbWUKICAgICAgICAgICAgcmFkb3NfbmFtZXNwYWNlID0gc2VsZi5fYXJnX3BhcnNlci5yYWRv
      c19uYW1lc3BhY2UKICAgICAgICAgICAgaWYgcmJkX3Bvb2xfbmFtZSA9PSAiIiBvciBjbHVzdGVy
      X25hbWUgPT0gIiIgb3IgcmFkb3NfbmFtZXNwYWNlID09ICIiOgogICAgICAgICAgICAgICAgcmFp
      c2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAibWFuZGF0
      b3J5IGZsYWdzIG5vdCBmb3VuZCwgcGxlYXNlIHNldCB0aGUgJy0tcmJkLWRhdGEtcG9vbC1uYW1l
      JywgJy0tY2x1c3Rlci1uYW1lJyBhbmQgLS1yYWRvcy1uYW1lc3BhY2UgZmxhZ3MiKQogICAgICAg
      ICAgICBlbnRpdHkgPSAiY2xpZW50LmNzaS1yYmQtbm9kZS17fS17fS17fSIuZm9ybWF0KGNsdXN0
      ZXJfbmFtZSxyYmRfcG9vbF9uYW1lLHJhZG9zX25hbWVzcGFjZSkKICAgICAgICAgICAgY21kX2pz
      b24gPSB7InByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUiLAogICAgICAgICAgICAgICAgICAg
      ICAgICAiZW50aXR5IjogZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAiY2FwcyI6IFsi
      bW9uIiwgInByb2ZpbGUgcmJkLCBhbGxvdyBjb21tYW5kICdvc2QgYmxvY2tsaXN0JyIsCiAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCAicHJvZmlsZSByYmQgcG9vbD17fSIu
      Zm9ybWF0KHJiZF9wb29sX25hbWUpXSwKICAgICAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6
      ICJqc29uIn0KICAgICAgICBlbHNlOgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4Ijog
      ImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiBl
      bnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXBzIjogWyJtb24iLCAicHJvZmlsZSBy
      YmQsIGFsbG93IGNvbW1hbmQgJ29zZCBibG9ja2xpc3QnIiwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgIm9zZCIsICJwcm9maWxlIHJiZCJdLAogICAgICAgICAgICAgICAgICAgICAg
      ICAiZm9ybWF0IjogImpzb24ifQogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuZHJ5X3J1bjoK
      ICAgICAgICAgICAgcmV0dXJuIHNlbGYuZHJ5X3J1bigiY2VwaCAiICsgY21kX2pzb25bJ3ByZWZp
      eCddICsgIiAiICsgY21kX2pzb25bJ2VudGl0eSddICsgIiAiICsgIiAiLmpvaW4oY21kX2pzb25b
      J2NhcHMnXSkpCiAgICAgICAgcmV0X3ZhbCwganNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21t
      b25fY21kX2pzb25fZ2VuKGNtZF9qc29uKQogICAgICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNj
      ZXNzZnVsIGF0dGVtcHQsCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkg
      PT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAg
      ICAgICAgICAgICInYXV0aCBnZXQtb3ItY3JlYXRlIGNsaWVudC5jc2ktcmJkLW5vZGUnIGNvbW1h
      bmQgZmFpbGVkXG4iICsKICAgICAgICAgICAgICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNn
      IGlmIHJldF92YWwgIT0gMCBlbHNlIHNlbGYuRU1QVFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJl
      dHVybiBzdHIoanNvbl9vdXRbMF1bJ2tleSddKQoKICAgIGRlZiBjcmVhdGVfY2hlY2tlcktleShz
      ZWxmKToKICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIs
      CiAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6IHNlbGYucnVuX2FzX3VzZXIsCiAgICAgICAg
      ICAgICAgICAgICAgImNhcHMiOiBbIm1vbiIsIHNlbGYuTUlOX1VTRVJfQ0FQX1BFUk1JU1NJT05T
      Wydtb24nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWdyIiwgc2VsZi5NSU5fVVNF
      Ul9DQVBfUEVSTUlTU0lPTlNbJ21nciddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICJv
      c2QiLCBzZWxmLk1JTl9VU0VSX0NBUF9QRVJNSVNTSU9OU1snb3NkJ10uZm9ybWF0KHNlbGYuX2Fy
      Z19wYXJzZXIucmd3X3Bvb2xfcHJlZml4KV0sCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6
      ICJqc29uIn0KICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmRyeV9ydW46CiAgICAgICAgICAg
      IHJldHVybiBzZWxmLmRyeV9ydW4oImNlcGggIiArIGNtZF9qc29uWydwcmVmaXgnXSArICIgIiAr
      IGNtZF9qc29uWydlbnRpdHknXSArICIgIiArICIgIi5qb2luKGNtZF9qc29uWydjYXBzJ10pKQog
      ICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29u
      X2dlbihjbWRfanNvbikKICAgICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRl
      bXB0LAogICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAg
      ICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAi
      J2F1dGggZ2V0LW9yLWNyZWF0ZSB7fScgY29tbWFuZCBmYWlsZWRcbiIuZm9ybWF0KHNlbGYucnVu
      X2FzX3VzZXIpICsKICAgICAgICAgICAgICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlm
      IHJldF92YWwgIT0gMCBlbHNlIHNlbGYuRU1QVFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJldHVy
      biBzdHIoanNvbl9vdXRbMF1bJ2tleSddKQoKICAgIGRlZiBnZXRfY2VwaF9kYXNoYm9hcmRfbGlu
      ayhzZWxmKToKICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogIm1nciBzZXJ2aWNlcyIsICJm
      b3JtYXQiOiAianNvbiJ9CiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5kcnlfcnVuOgogICAg
      ICAgICAgICByZXR1cm4gc2VsZi5kcnlfcnVuKCJjZXBoICIgKyBjbWRfanNvblsncHJlZml4J10p
      CiAgICAgICAgcmV0X3ZhbCwganNvbl9vdXQsIF8gPSBzZWxmLl9jb21tb25fY21kX2pzb25fZ2Vu
      KGNtZF9qc29uKQogICAgICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNjZXNzZnVsIGF0dGVtcHQs
      CiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAg
      ICAgcmV0dXJuIE5vbmUKICAgICAgICBpZiBub3QgJ2Rhc2hib2FyZCcgaW4ganNvbl9vdXQ6CiAg
      ICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgcmV0dXJuIGpzb25fb3V0WydkYXNoYm9hcmQn
      XQoKICAgIGRlZiBjcmVhdGVfcmd3X2FkbWluX29wc191c2VyKHNlbGYpOgogICAgICAgIGNtZCA9
      IFsncmFkb3Nndy1hZG1pbicsICd1c2VyJywgJ2NyZWF0ZScsICctLXVpZCcsIHNlbGYuRVhURVJO
      QUxfUkdXX0FETUlOX09QU19VU0VSX05BTUUsICctLWRpc3BsYXktbmFtZScsCiAgICAgICAgICAg
      ICAgICdSb29rIFJHVyBBZG1pbiBPcHMgdXNlcicsICctLWNhcHMnLCAnYnVja2V0cz0qO3VzZXJz
      PSo7dXNhZ2U9cmVhZDttZXRhZGF0YT1yZWFkO3pvbmU9cmVhZCddCiAgICAgICAgaWYgc2VsZi5f
      YXJnX3BhcnNlci5kcnlfcnVuOgogICAgICAgICAgICByZXR1cm4gc2VsZi5kcnlfcnVuKCJjZXBo
      ICIgKyAiIi5qb2luZyhjbWQpKQogICAgICAgIHRyeToKICAgICAgICAgICAgb3V0cHV0ID0gc3Vi
      cHJvY2Vzcy5jaGVja19vdXRwdXQoY21kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKQogICAgICAgIGV4Y2VwdCBzdWJw
      cm9jZXNzLkNhbGxlZFByb2Nlc3NFcnJvciBhcyBleGVjRXJyOgogICAgICAgICAgICAjIGlmIHRo
      ZSB1c2VyIGFscmVhZHkgZXhpc3RzLCB3ZSBqdXN0IHF1ZXJ5IGl0CiAgICAgICAgICAgIGlmIGV4
      ZWNFcnIucmV0dXJuY29kZSA9PSBlcnJuby5FRVhJU1Q6CiAgICAgICAgICAgICAgICBjbWQgPSBb
      J3JhZG9zZ3ctYWRtaW4nLCAndXNlcicsICdpbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAn
      LS11aWQnLCBzZWxmLkVYVEVSTkFMX1JHV19BRE1JTl9PUFNfVVNFUl9OQU1FCiAgICAgICAgICAg
      ICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG91
      dHB1dCA9IHN1YnByb2Nlc3MuY2hlY2tfb3V0cHV0KGNtZCwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKQog
      ICAgICAgICAgICAgICAgZXhjZXB0IHN1YnByb2Nlc3MuQ2FsbGVkUHJvY2Vzc0Vycm9yIGFzIGV4
      ZWNFcnI6CiAgICAgICAgICAgICAgICAgICAgZXJyX21zZyA9ICJmYWlsZWQgdG8gZXhlY3V0ZSBj
      b21tYW5kICVzLiBPdXRwdXQ6ICVzLiBDb2RlOiAlcy4gRXJyb3I6ICVzIiAlICgKICAgICAgICAg
      ICAgICAgICAgICAgICAgY21kLCBleGVjRXJyLm91dHB1dCwgZXhlY0Vyci5yZXR1cm5jb2RlLCBl
      eGVjRXJyLnN0ZGVycikKICAgICAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZXJyX21z
      ZykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVycl9tc2cgPSAiZmFpbGVkIHRv
      IGV4ZWN1dGUgY29tbWFuZCAlcy4gT3V0cHV0OiAlcy4gQ29kZTogJXMuIEVycm9yOiAlcyIgJSAo
      CiAgICAgICAgICAgICAgICAgICAgY21kLCBleGVjRXJyLm91dHB1dCwgZXhlY0Vyci5yZXR1cm5j
      b2RlLCBleGVjRXJyLnN0ZGVycikKICAgICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihlcnJf
      bXNnKQoKICAgICAgICBqc29ub3V0cHV0ID0ganNvbi5sb2FkcyhvdXRwdXQpCiAgICAgICAgcmV0
      dXJuIGpzb25vdXRwdXRbImtleXMiXVswXVsnYWNjZXNzX2tleSddLCBqc29ub3V0cHV0WyJrZXlz
      Il1bMF1bJ3NlY3JldF9rZXknXQoKICAgIGRlZiB2YWxpZGF0ZV9wb29sKHNlbGYpOgogICAgICAg
      IHBvb2xzX3RvX3ZhbGlkYXRlID0gW3NlbGYuX2FyZ19wYXJzZXIucmJkX2RhdGFfcG9vbF9uYW1l
      XQogICAgICAgICMgaWYgcmd3X2VuZHBvaW50IGlzIHByb3ZpZGVkLCB2YWxpZGF0ZSBpdAogICAg
      ICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIucmd3X2VuZHBvaW50OgogICAgICAgICAgICBzZWxmLl9p
      bnZhbGlkX2VuZHBvaW50KHNlbGYuX2FyZ19wYXJzZXIucmd3X2VuZHBvaW50KQogICAgICAgICAg
      ICBzZWxmLmVuZHBvaW50X2RpYWwoc2VsZi5fYXJnX3BhcnNlci5yZ3dfZW5kcG9pbnQsCiAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICBjZXJ0PXNlbGYudmFsaWRhdGVfcmd3X2VuZHBvaW50
      X3Rsc19jZXJ0KCkpCiAgICAgICAgICAgIHJnd19wb29sX3RvX3ZhbGlkYXRlID0gWyJ7MH0ucmd3
      Lm1ldGEiLmZvcm1hdChzZWxmLl9hcmdfcGFyc2VyLnJnd19wb29sX3ByZWZpeCksCiAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICIucmd3LnJvb3QiLAogICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAiezB9LnJndy5jb250cm9sIi5mb3JtYXQoCiAgICAgICAgICAg
      ICAgICBzZWxmLl9hcmdfcGFyc2VyLnJnd19wb29sX3ByZWZpeCksCiAgICAgICAgICAgICAgICAi
      ezB9LnJndy5sb2ciLmZvcm1hdCgKICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIucmd3
      X3Bvb2xfcHJlZml4KV0KICAgICAgICAgICAgcG9vbHNfdG9fdmFsaWRhdGUuZXh0ZW5kKHJnd19w
      b29sX3RvX3ZhbGlkYXRlKQoKICAgICAgICBmb3IgcG9vbCBpbiBwb29sc190b192YWxpZGF0ZToK
      ICAgICAgICAgICAgaWYgbm90IHNlbGYuY2x1c3Rlci5wb29sX2V4aXN0cyhwb29sKToKICAgICAg
      ICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAg
      ICAgICAgIlRoZSBwcm92aWRlZCBwb29sLCAne30nLCBkb2VzIG5vdCBleGlzdCIuZm9ybWF0KHBv
      b2wpKQogICAgCiAgICBkZWYgdmFsaWRhdGVfcmFkb3NfbmFtZXNwYWNlKHNlbGYpOgogICAgICAg
      IHJiZF9wb29sX25hbWUgPSBzZWxmLl9hcmdfcGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQogICAg
      ICAgIHJhZG9zX25hbWVzcGFjZSA9IHNlbGYuX2FyZ19wYXJzZXIucmFkb3NfbmFtZXNwYWNlCiAg
      ICAgICAgaWYgcmFkb3NfbmFtZXNwYWNlID09ICIiOgogICAgICAgICAgICByZXR1cm4KICAgICAg
      ICByYmRfaW5zdCA9IHJiZC5SQkQoKQogICAgICAgIGlvY3R4ID0gc2VsZi5jbHVzdGVyLm9wZW5f
      aW9jdHgocmJkX3Bvb2xfbmFtZSkKICAgICAgICBpZiByYmRfaW5zdC5uYW1lc3BhY2VfZXhpc3Rz
      KGlvY3R4LCByYWRvc19uYW1lc3BhY2UpID09IEZhbHNlOgogICAgICAgICAgIHJhaXNlIEV4ZWN1
      dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgKCJUaGUgcHJvdmlkZWQg
      cmFkb3MgTmFtZXNwYWNlLCAne30nLCBpcyBub3QgZm91bmQgaW4gdGhlIHBvb2wgJ3t9JyIpLmZv
      cm1hdCgKICAgICAgICAgICAgICAgICAgICAgICAgcmFkb3NfbmFtZXNwYWNlLHJiZF9wb29sX25h
      bWUpKQogICAgCiAgICBkZWYgX2dlbl9vdXRwdXRfbWFwKHNlbGYpOgogICAgICAgIGlmIHNlbGYu
      b3V0X21hcDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgc2VsZi52YWxpZGF0ZV9wb29sKCkK
      ICAgICAgICBzZWxmLnZhbGlkYXRlX3JhZG9zX25hbWVzcGFjZSgpCiAgICAgICAgc2VsZi5fZXhj
      bHVkZWRfa2V5cy5hZGQoJ0NMVVNURVJfTkFNRScpCiAgICAgICAgc2VsZi5nZXRfY2VwaGZzX2Rh
      dGFfcG9vbF9kZXRhaWxzKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ05BTUVTUEFDRSddID0gc2Vs
      Zi5fYXJnX3BhcnNlci5uYW1lc3BhY2UKICAgICAgICBzZWxmLm91dF9tYXBbJ0NMVVNURVJfTkFN
      RSddID0gc2VsZi5fYXJnX3BhcnNlci5jbHVzdGVyX25hbWUKICAgICAgICBzZWxmLm91dF9tYXBb
      J1JPT0tfRVhURVJOQUxfRlNJRCddID0gc2VsZi5nZXRfZnNpZCgpCiAgICAgICAgc2VsZi5vdXRf
      bWFwWydST09LX0VYVEVSTkFMX1VTRVJOQU1FJ10gPSBzZWxmLnJ1bl9hc191c2VyCiAgICAgICAg
      c2VsZi5vdXRfbWFwWydST09LX0VYVEVSTkFMX0NFUEhfTU9OX0RBVEEnXSA9IHNlbGYuZ2V0X2Nl
      cGhfZXh0ZXJuYWxfbW9uX2RhdGEoKQogICAgICAgIHNlbGYub3V0X21hcFsnUk9PS19FWFRFUk5B
      TF9VU0VSX1NFQ1JFVCddID0gc2VsZi5jcmVhdGVfY2hlY2tlcktleSgpCiAgICAgICAgc2VsZi5v
      dXRfbWFwWydST09LX0VYVEVSTkFMX0RBU0hCT0FSRF9MSU5LJ10gPSBzZWxmLmdldF9jZXBoX2Rh
      c2hib2FyZF9saW5rKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ0NTSV9SQkRfTk9ERV9TRUNSRVRf
      U0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9jZXBoQ1NJS2V5cmluZ19SQkROb2RlKCkKICAgICAgICBz
      ZWxmLm91dF9tYXBbJ0NTSV9SQkRfUFJPVklTSU9ORVJfU0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9j
      ZXBoQ1NJS2V5cmluZ19SQkRQcm92aXNpb25lcigpCiAgICAgICAgc2VsZi5vdXRfbWFwWydDRVBI
      RlNfUE9PTF9OQU1FJ10gPSBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xfbmFtZQog
      ICAgICAgIHNlbGYub3V0X21hcFsnQ0VQSEZTX01FVEFEQVRBX1BPT0xfTkFNRSddID0gc2VsZi5f
      YXJnX3BhcnNlci5jZXBoZnNfbWV0YWRhdGFfcG9vbF9uYW1lCiAgICAgICAgc2VsZi5vdXRfbWFw
      WydDRVBIRlNfRlNfTkFNRSddID0gc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZmlsZXN5c3RlbV9u
      YW1lCiAgICAgICAgc2VsZi5vdXRfbWFwWydSRVNUUklDVEVEX0FVVEhfUEVSTUlTU0lPTiddID0g
      c2VsZi5fYXJnX3BhcnNlci5yZXN0cmljdGVkX2F1dGhfcGVybWlzc2lvbgogICAgICAgIHNlbGYu
      b3V0X21hcFsnUkFET1NfTkFNRVNQQUNFJ10gPSBzZWxmLl9hcmdfcGFyc2VyLnJhZG9zX25hbWVz
      cGFjZQogICAgICAgIHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RFX1NFQ1JFVCddID0gJycK
      ICAgICAgICBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ10gPSAn
      JwogICAgICAgICMgY3JlYXRlIENlcGhGUyBub2RlIGFuZCBwcm92aXNpb25lciBrZXlyaW5nIG9u
      bHkgd2hlbiBNRFMgZXhpc3RzCiAgICAgICAgaWYgc2VsZi5vdXRfbWFwWydDRVBIRlNfRlNfTkFN
      RSddIGFuZCBzZWxmLm91dF9tYXBbJ0NFUEhGU19QT09MX05BTUUnXToKICAgICAgICAgICAgc2Vs
      Zi5vdXRfbWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9jZXBoQ1NJ
      S2V5cmluZ19jZXBoRlNOb2RlKCkKICAgICAgICAgICAgc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZT
      X1BST1ZJU0lPTkVSX1NFQ1JFVCddID0gc2VsZi5jcmVhdGVfY2VwaENTSUtleXJpbmdfY2VwaEZT
      UHJvdmlzaW9uZXIoKQogICAgICAgIHNlbGYub3V0X21hcFsnUkdXX0VORFBPSU5UJ10gPSBzZWxm
      Ll9hcmdfcGFyc2VyLnJnd19lbmRwb2ludAogICAgICAgIHNlbGYub3V0X21hcFsnUkdXX1RMU19D
      RVJUJ10gPSAnJwogICAgICAgIHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVCddLCBc
      CiAgICAgICAgICAgIHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVF9QT1JUJ10gPSBz
      ZWxmLmdldF9hY3RpdmVfYW5kX3N0YW5kYnlfbWdycygpCiAgICAgICAgc2VsZi5vdXRfbWFwWydS
      QkRfUE9PTF9OQU1FJ10gPSBzZWxmLl9hcmdfcGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQogICAg
      ICAgIHNlbGYub3V0X21hcFsnUkJEX01FVEFEQVRBX0VDX1BPT0xfTkFNRSddID0gc2VsZi52YWxp
      ZGF0ZV9yZ3dfbWV0YWRhdGFfZWNfcG9vbF9uYW1lKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ1JH
      V19QT09MX1BSRUZJWCddID0gc2VsZi5fYXJnX3BhcnNlci5yZ3dfcG9vbF9wcmVmaXgKICAgICAg
      ICBpZiBzZWxmLl9hcmdfcGFyc2VyLnJnd19lbmRwb2ludDoKICAgICAgICAgICAgc2VsZi5vdXRf
      bWFwWydBQ0NFU1NfS0VZJ10sIHNlbGYub3V0X21hcFsnU0VDUkVUX0tFWSddID0gc2VsZi5jcmVh
      dGVfcmd3X2FkbWluX29wc191c2VyKCkKICAgICAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5y
      Z3dfdGxzX2NlcnRfcGF0aDoKICAgICAgICAgICAgICAgIHNlbGYub3V0X21hcFsnUkdXX1RMU19D
      RVJUJ10gPSBzZWxmLnZhbGlkYXRlX3Jnd19lbmRwb2ludF90bHNfY2VydCgpCgogICAgZGVmIGdl
      bl9zaGVsbF9vdXQoc2VsZik6CiAgICAgICAgc2VsZi5fZ2VuX291dHB1dF9tYXAoKQogICAgICAg
      IHNoT3V0SU8gPSBTdHJpbmdJTygpCiAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5vdXRfbWFwLml0
      ZW1zKCk6CiAgICAgICAgICAgIGlmIHYgYW5kIGsgbm90IGluIHNlbGYuX2V4Y2x1ZGVkX2tleXM6
      CiAgICAgICAgICAgICAgICBzaE91dElPLndyaXRlKCdleHBvcnQge309e317fScuZm9ybWF0KGss
      IHYsIExJTkVTRVApKQogICAgICAgIHNoT3V0ID0gc2hPdXRJTy5nZXR2YWx1ZSgpCiAgICAgICAg
      c2hPdXRJTy5jbG9zZSgpCiAgICAgICAgcmV0dXJuIHNoT3V0CgogICAgZGVmIGdlbl9qc29uX291
      dChzZWxmKToKICAgICAgICBzZWxmLl9nZW5fb3V0cHV0X21hcCgpCiAgICAgICAganNvbl9vdXQg
      PSBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY2VwaC1tb24t
      ZW5kcG9pbnRzIiwKICAgICAgICAgICAgICAgICJraW5kIjogIkNvbmZpZ01hcCIsCiAgICAgICAg
      ICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHNlbGYub3V0X21h
      cFsnUk9PS19FWFRFUk5BTF9DRVBIX01PTl9EQVRBJ10sCiAgICAgICAgICAgICAgICAgICAgIm1h
      eE1vbklkIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJtYXBwaW5nIjogInt9IgogICAgICAg
      ICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAi
      bmFtZSI6ICJyb29rLWNlcGgtbW9uIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIs
      CiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiYWRtaW4tc2Vj
      cmV0IjogImFkbWluLXNlY3JldCIsCiAgICAgICAgICAgICAgICAgICAgImZzaWQiOiBzZWxmLm91
      dF9tYXBbJ1JPT0tfRVhURVJOQUxfRlNJRCddLAogICAgICAgICAgICAgICAgICAgICJtb24tc2Vj
      cmV0IjogIm1vbi1zZWNyZXQiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAg
      ICAgICAgICB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNlcGgtb3BlcmF0b3ItY3Jl
      ZHMiLAogICAgICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJk
      YXRhIjogewogICAgICAgICAgICAgICAgICAgICJ1c2VySUQiOiBzZWxmLm91dF9tYXBbJ1JPT0tf
      RVhURVJOQUxfVVNFUk5BTUUnXSwKICAgICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNlbGYu
      b3V0X21hcFsnUk9PS19FWFRFUk5BTF9VU0VSX1NFQ1JFVCddCiAgICAgICAgICAgICAgICB9CiAg
      ICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogIm1vbml0
      b3JpbmctZW5kcG9pbnQiLAogICAgICAgICAgICAgICAgImtpbmQiOiAiQ2VwaENsdXN0ZXIiLAog
      ICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgIk1vbml0b3JpbmdF
      bmRwb2ludCI6IHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVCddLAogICAgICAgICAg
      ICAgICAgICAgICJNb25pdG9yaW5nUG9ydCI6IHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQ
      T0lOVF9QT1JUJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIF0KCiAg
      ICAgICAgaWYgc2VsZi5vdXRfbWFwWydSQkRfTUVUQURBVEFfRUNfUE9PTF9OQU1FJ106CiAgICAg
      ICAgICAgIGpzb25fb3V0LmFwcGVuZCh7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJjZXBoLXJi
      ZCIsCiAgICAgICAgICAgICAgICAia2luZCI6ICJTdG9yYWdlQ2xhc3MiLAogICAgICAgICAgICAg
      ICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgImRhdGFQb29sIjogc2VsZi5vdXRfbWFw
      WydSQkRfUE9PTF9OQU1FJ10sCiAgICAgICAgICAgICAgICAgICAgInBvb2wiOiBzZWxmLm91dF9t
      YXBbJ1JCRF9NRVRBREFUQV9FQ19QT09MX05BTUUnXQogICAgICAgICAgICAgICAgfSwKICAgICAg
      ICAgICAgfSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAg
      ICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yYmQiLAogICAgICAgICAgICAgICAgImtpbmQiOiAi
      U3RvcmFnZUNsYXNzIiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAgICAg
      ICAgICJwb29sIjogc2VsZi5vdXRfbWFwWydSQkRfUE9PTF9OQU1FJ10KICAgICAgICAgICAgICAg
      IH0sCiAgICAgICAgICAgIH0pCgogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIucmVzdHJpY3Rl
      ZF9hdXRoX3Blcm1pc3Npb246CiAgICAgICAgICAgIGNsdXN0ZXJfbmFtZSA9IHNlbGYuX2FyZ19w
      YXJzZXIuY2x1c3Rlcl9uYW1lCiAgICAgICAgICAgIHJiZF9wb29sX25hbWUgPSBzZWxmLl9hcmdf
      cGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZQogICAgICAgICAgICBjZXBoZnNfZmlsZXN5c3RlbSA9
      IHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZQogICAgICAgICAgICByYWRv
      c19uYW1lc3BhY2UgPSBzZWxmLl9hcmdfcGFyc2VyLnJhZG9zX25hbWVzcGFjZQogICAgICAgICAg
      ICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAicm9vay1jc2ktcmJk
      LW5vZGUte30te30te30iLmZvcm1hdChjbHVzdGVyX25hbWUscmJkX3Bvb2xfbmFtZSxyYWRvc19u
      YW1lc3BhY2UpLAogICAgICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAg
      ICAgICJkYXRhIjogewogICAgICAgICAgICAgICAgICAgICJ1c2VySUQiOiAnY3NpLXJiZC1ub2Rl
      LXt9LXt9LXt9Jy5mb3JtYXQoY2x1c3Rlcl9uYW1lLHJiZF9wb29sX25hbWUscmFkb3NfbmFtZXNw
      YWNlKSwKICAgICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNlbGYub3V0X21hcFsnQ1NJX1JC
      RF9OT0RFX1NFQ1JFVF9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
      fSkKICAgICAgICAgICAgIyBpZiAnQ1NJX1JCRF9QUk9WSVNJT05FUl9TRUNSRVQnIGV4aXN0cywg
      dGhlbiBvbmx5IGFkZCAncm9vay1jc2ktcmJkLXByb3Zpc2lvbmVyJyBTZWNyZXQKICAgICAgICAg
      ICAgaWYgc2VsZi5vdXRfbWFwWydDU0lfUkJEX1BST1ZJU0lPTkVSX1NFQ1JFVCddOgogICAgICAg
      ICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJy
      b29rLWNzaS1yYmQtcHJvdmlzaW9uZXIte30te30te30iLmZvcm1hdChjbHVzdGVyX25hbWUscmJk
      X3Bvb2xfbmFtZSxyYWRvc19uYW1lc3BhY2UpLAogICAgICAgICAgICAgICAgICAgICJraW5kIjog
      IlNlY3JldCIsCiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAg
      ICAgICAgICJ1c2VySUQiOiAnY3NpLXJiZC1wcm92aXNpb25lci17fS17fS17fScuZm9ybWF0KGNs
      dXN0ZXJfbmFtZSxyYmRfcG9vbF9uYW1lLHJhZG9zX25hbWVzcGFjZSksCiAgICAgICAgICAgICAg
      ICAgICAgICAgICJ1c2VyS2V5Ijogc2VsZi5vdXRfbWFwWydDU0lfUkJEX1BST1ZJU0lPTkVSX1NF
      Q1JFVCddCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAg
      ICAgICMgaWYgJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJyBleGlzdHMsIHRoZW4gb25s
      eSBhZGQgJ3Jvb2stY3NpLWNlcGhmcy1wcm92aXNpb25lcicgU2VjcmV0CiAgICAgICAgICAgIGlm
      IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJT05FUl9TRUNSRVQnXSBhbmQgY2VwaGZz
      X2ZpbGVzeXN0ZW0gIT0gIiI6CiAgICAgICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAg
      ICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhmcy1wcm92aXNpb25lci17fS17
      fSIuZm9ybWF0KGNsdXN0ZXJfbmFtZSxjZXBoZnNfZmlsZXN5c3RlbSksCiAgICAgICAgICAgICAg
      ICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAg
      ICAgICAgICAgICAgICAgICAgICAgImFkbWluSUQiOiAnY3NpLWNlcGhmcy1wcm92aXNpb25lci17
      fS17fScuZm9ybWF0KGNsdXN0ZXJfbmFtZSxjZXBoZnNfZmlsZXN5c3RlbSksCiAgICAgICAgICAg
      ICAgICAgICAgICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJ
      T05FUl9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQog
      ICAgICAgICAgICBpZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVU
      J10gYW5kIGNlcGhmc19maWxlc3lzdGVtID09ICIiOgogICAgICAgICAgICAgICAganNvbl9vdXQu
      YXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNzaS1jZXBoZnMtcHJv
      dmlzaW9uZXIte30iLmZvcm1hdChjbHVzdGVyX25hbWUpLAogICAgICAgICAgICAgICAgICAgICJr
      aW5kIjogIlNlY3JldCIsCiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAg
      ICAgICAgICAgICAgICJhZG1pbklEIjogJ2NzaS1jZXBoZnMtcHJvdmlzaW9uZXIte30nLmZvcm1h
      dChjbHVzdGVyX25hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5LZXkiOiBzZWxm
      Lm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ10KICAgICAgICAgICAgICAg
      ICAgICB9LAogICAgICAgICAgICAgICAgfSkgICAgCiAgICAgICAgICAgICMgaWYgJ0NTSV9DRVBI
      RlNfTk9ERV9TRUNSRVQnIGV4aXN0cywgdGhlbiBvbmx5IGFkZCAncm9vay1jc2ktY2VwaGZzLW5v
      ZGUnIFNlY3JldAogICAgICAgICAgICBpZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfTk9ERV9T
      RUNSRVQnXSBhbmQgY2VwaGZzX2ZpbGVzeXN0ZW0gIT0gIiI6CiAgICAgICAgICAgICAgICBqc29u
      X291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhm
      cy1ub2RlLXt9LXt9Ii5mb3JtYXQoY2x1c3Rlcl9uYW1lLGNlcGhmc19maWxlc3lzdGVtKSwKICAg
      ICAgICAgICAgICAgICAgICAia2luZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAgICAgICJk
      YXRhIjogewogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5JRCI6ICdjc2ktY2VwaGZzLW5v
      ZGUte30te30nLmZvcm1hdChjbHVzdGVyX25hbWUsY2VwaGZzX2ZpbGVzeXN0ZW0pLAogICAgICAg
      ICAgICAgICAgICAgICAgICAiYWRtaW5LZXkiOiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfTk9E
      RV9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAg
      ICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RFX1NFQ1JFVCddIGFuZCBjZXBo
      ZnNfZmlsZXN5c3RlbSA9PSAiIjoKICAgICAgICAgICAgICAgIGpzb25fb3V0LmFwcGVuZCh7CiAg
      ICAgICAgICAgICAgICAgICAgIm5hbWUiOiAicm9vay1jc2ktY2VwaGZzLW5vZGUte30iLmZvcm1h
      dChjbHVzdGVyX25hbWUpLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAg
      ICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJhZG1p
      bklEIjogJ2NzaS1jZXBoZnMtbm9kZS17fScuZm9ybWF0KGNsdXN0ZXJfbmFtZSksCiAgICAgICAg
      ICAgICAgICAgICAgICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19OT0RF
      X1NFQ1JFVCddCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkgICAgCiAg
      ICAgICAgZWxzZToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAgICAg
      ICJuYW1lIjogInJvb2stY3NpLXJiZC1ub2RlIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNl
      Y3JldCIsCiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAidXNl
      cklEIjogJ2NzaS1yYmQtbm9kZScsCiAgICAgICAgICAgICAgICAgICAgInVzZXJLZXkiOiBzZWxm
      Lm91dF9tYXBbJ0NTSV9SQkRfTk9ERV9TRUNSRVRfU0VDUkVUJ10KICAgICAgICAgICAgICAgICAg
      ICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICMgaWYgJ0NTSV9SQkRfUFJPVklTSU9ORVJf
      U0VDUkVUJyBleGlzdHMsIHRoZW4gb25seSBhZGQgJ3Jvb2stY3NpLXJiZC1wcm92aXNpb25lcicg
      U2VjcmV0CiAgICAgICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9WSVNJT05FUl9T
      RUNSRVQnXToKICAgICAgICAgICAgICAgIGpzb25fb3V0LmFwcGVuZCh7CiAgICAgICAgICAgICAg
      ICAgICAgIm5hbWUiOiAicm9vay1jc2ktcmJkLXByb3Zpc2lvbmVyIiwKICAgICAgICAgICAgICAg
      ICAgICAia2luZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAgICAgICJkYXRhIjogewogICAg
      ICAgICAgICAgICAgICAgICAgICAidXNlcklEIjogJ2NzaS1yYmQtcHJvdmlzaW9uZXInLAogICAg
      ICAgICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9W
      SVNJT05FUl9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9
      KQogICAgICAgICAgICAjIGlmICdDU0lfQ0VQSEZTX1BST1ZJU0lPTkVSX1NFQ1JFVCcgZXhpc3Rz
      LCB0aGVuIG9ubHkgYWRkICdyb29rLWNzaS1jZXBoZnMtcHJvdmlzaW9uZXInIFNlY3JldAogICAg
      ICAgICAgICBpZiBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfUFJPVklTSU9ORVJfU0VDUkVUJ106
      CiAgICAgICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJu
      YW1lIjogInJvb2stY3NpLWNlcGhmcy1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAgICAgICAg
      ImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAg
      ICAgICAgICAgICAgICAgImFkbWluSUQiOiAnY3NpLWNlcGhmcy1wcm92aXNpb25lcicsCiAgICAg
      ICAgICAgICAgICAgICAgICAgICJhZG1pbktleSI6IHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19Q
      Uk9WSVNJT05FUl9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAg
      ICB9KQogICAgICAgICAgICAjIGlmICdDU0lfQ0VQSEZTX05PREVfU0VDUkVUJyBleGlzdHMsIHRo
      ZW4gb25seSBhZGQgJ3Jvb2stY3NpLWNlcGhmcy1ub2RlJyBTZWNyZXQKICAgICAgICAgICAgaWYg
      c2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVUJ106CiAgICAgICAgICAgICAgICBq
      c29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY3NpLWNl
      cGhmcy1ub2RlIiwKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJTZWNyZXQiLAogICAgICAg
      ICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5JRCI6
      ICdjc2ktY2VwaGZzLW5vZGUnLAogICAgICAgICAgICAgICAgICAgICAgICAiYWRtaW5LZXkiOiBz
      ZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNfTk9ERV9TRUNSRVQnXQogICAgICAgICAgICAgICAgICAg
      IH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgIyBpZiAnUk9PS19FWFRFUk5BTF9EQVNIQk9B
      UkRfTElOSycgZXhpc3RzLCB0aGVuIG9ubHkgYWRkICdyb29rLWNlcGgtZGFzaGJvYXJkLWxpbmsn
      IFNlY3JldAogICAgICAgIGlmIHNlbGYub3V0X21hcFsnUk9PS19FWFRFUk5BTF9EQVNIQk9BUkRf
      TElOSyddOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgIm5h
      bWUiOiAicm9vay1jZXBoLWRhc2hib2FyZC1saW5rIiwKICAgICAgICAgICAgICAgICJraW5kIjog
      IlNlY3JldCIsCiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAi
      dXNlcklEIjogJ2NlcGgtZGFzaGJvYXJkLWxpbmsnLAogICAgICAgICAgICAgICAgICAgICJ1c2Vy
      S2V5Ijogc2VsZi5vdXRfbWFwWydST09LX0VYVEVSTkFMX0RBU0hCT0FSRF9MSU5LJ10KICAgICAg
      ICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdDRVBIRlNfRlNfTkFNRScg
      ZXhpc3RzLCB0aGVuIG9ubHkgYWRkICdjZXBoZnMnIFN0b3JhZ2VDbGFzcwogICAgICAgIGlmIHNl
      bGYub3V0X21hcFsnQ0VQSEZTX0ZTX05BTUUnXToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5k
      KHsKICAgICAgICAgICAgICAgICJuYW1lIjogImNlcGhmcyIsCiAgICAgICAgICAgICAgICAia2lu
      ZCI6ICJTdG9yYWdlQ2xhc3MiLAogICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAg
      ICAgICAgICAgImZzTmFtZSI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX0ZTX05BTUUnXSwKICAgICAg
      ICAgICAgICAgICAgICAicG9vbCI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX1BPT0xfTkFNRSddCiAg
      ICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgIyBpZiAnUkdXX0VORFBPSU5U
      JyBleGlzdHMsIHRoZW4gb25seSBhZGQgJ2NlcGgtcmd3JyBTdG9yYWdlQ2xhc3MKICAgICAgICBp
      ZiBzZWxmLm91dF9tYXBbJ1JHV19FTkRQT0lOVCddOgogICAgICAgICAgICBqc29uX291dC5hcHBl
      bmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yZ3ciLAogICAgICAgICAgICAgICAg
      ImtpbmQiOiAiU3RvcmFnZUNsYXNzIiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAg
      ICAgICAgICAgICAgICJlbmRwb2ludCI6IHNlbGYub3V0X21hcFsnUkdXX0VORFBPSU5UJ10sCiAg
      ICAgICAgICAgICAgICAgICAgInBvb2xQcmVmaXgiOiBzZWxmLm91dF9tYXBbJ1JHV19QT09MX1BS
      RUZJWCddCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGpzb25f
      b3V0LmFwcGVuZCgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6
      ICJyZ3ctYWRtaW4tb3BzLXVzZXIiLAogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3Jl
      dCIsCiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAg
      ICJhY2Nlc3NLZXkiOiBzZWxmLm91dF9tYXBbJ0FDQ0VTU19LRVknXSwKICAgICAgICAgICAgICAg
      ICAgICAgICAgInNlY3JldEtleSI6IHNlbGYub3V0X21hcFsnU0VDUkVUX0tFWSddCiAgICAgICAg
      ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdSR1dfVExTX0NF
      UlQnIGV4aXN0cywgdGhlbiBvbmx5IGFkZCB0aGUgImNlcGgtcmd3LXRscy1jZXJ0IiBzZWNyZXQK
      ICAgICAgICBpZiBzZWxmLm91dF9tYXBbJ1JHV19UTFNfQ0VSVCddOgogICAgICAgICAgICBqc29u
      X291dC5hcHBlbmQoewogICAgICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yZ3ctdGxzLWNlcnQi
      LAogICAgICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJkYXRh
      IjogewogICAgICAgICAgICAgICAgICAgICJjZXJ0Ijogc2VsZi5vdXRfbWFwWydSR1dfVExTX0NF
      UlQnXSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgaWYgc2VsZi5f
      YXJnX3BhcnNlci5kcnlfcnVuOgogICAgICAgICAgICByZXR1cm4gIiIKCiAgICAgICAgcmV0dXJu
      IGpzb24uZHVtcHMoanNvbl9vdXQpK0xJTkVTRVAKCiAgICBkZWYgdXBncmFkZV91c2VyX3Blcm1p
      c3Npb25zKHNlbGYpOgogICAgICAgICMgY2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdXNlciBleGlz
      dHMgb3Igbm90CiAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJhdXRoIGdldCIsICJlbnRp
      dHkiOiAie30iLmZvcm1hdCgKICAgICAgICAgICAgc2VsZi5ydW5fYXNfdXNlciksICJmb3JtYXQi
      OiAianNvbiJ9CiAgICAgICAgcmV0X3ZhbCwganNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21t
      b25fY21kX2pzb25fZ2VuKGNtZF9qc29uKQogICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4o
      anNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24oIidhdXRoIGdldCB7fScgY29tbWFuZCBmYWlsZWQuXG4iLmZvcm1hdChzZWxmLnJ1bl9hc191
      c2VyKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVycm9y
      OiB7fSIuZm9ybWF0KGVycl9tc2cgaWYgcmV0X3ZhbCAhPSAwIGVsc2Ugc2VsZi5FTVBUWV9PVVRQ
      VVRfTElTVCkpCiAgICAgICAgal9maXJzdCA9IGpzb25fb3V0WzBdCiAgICAgICAgZXhpc3Rpbmdf
      Y2FwcyA9IGpfZmlyc3RbJ2NhcHMnXQogICAgICAgIG9zZF9jYXAgPSAib3NkIgogICAgICAgIGNh
      cF9rZXlzID0gWyJtb24iLCAibWdyIiwgIm9zZCJdCiAgICAgICAgZm9yIGVhY2hDYXAgaW4gY2Fw
      X2tleXM6CiAgICAgICAgICAgIG1pbl9jYXBfdmFsdWVzID0gc2VsZi5NSU5fVVNFUl9DQVBfUEVS
      TUlTU0lPTlMuZ2V0KGVhY2hDYXAsICcnKQogICAgICAgICAgICBjdXJfY2FwX3ZhbHVlcyA9IGV4
      aXN0aW5nX2NhcHMuZ2V0KGVhY2hDYXAsICcnKQogICAgICAgICAgICAjIGRldGVjdCByZ3ctcG9v
      bC1wcmVmaXgKICAgICAgICAgICAgaWYgZWFjaENhcCA9PSBvc2RfY2FwOgogICAgICAgICAgICAg
      ICAgIyBpZiBkaXJlY3RseSBwcm92aWRlZCB0aHJvdWdoICctLXJndy1wb29sLXByZWZpeCcgYXJn
      dW1lbnQsIHVzZSBpdAogICAgICAgICAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5yZ3dfcG9v
      bF9wcmVmaXg6CiAgICAgICAgICAgICAgICAgICAgbWluX2NhcF92YWx1ZXMgPSBtaW5fY2FwX3Zh
      bHVlcy5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIucmd3
      X3Bvb2xfcHJlZml4KQogICAgICAgICAgICAgICAgIyBvciBlbHNlIHRyeSB0byBkZXRlY3Qgb25l
      IGZyb20gdGhlIGV4aXN0aW5nL2N1cnJlbnQgb3NkIGNhcCB2YWx1ZXMKICAgICAgICAgICAgICAg
      IGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmMgPSByZS5jb21waWxlKHInIHBvb2w9KFteLl0r
      KVwucmd3XC5bXiBdKicpCiAgICAgICAgICAgICAgICAgICAgIyAnZmluZGFsbCgpJyBtZXRob2Qg
      d2lsbCBnaXZlIGEgbGlzdCBvZiBwcmVmaXhlcwogICAgICAgICAgICAgICAgICAgICMgYW5kICdz
      ZXQnIHdpbGwgZWxpbWluYXRlIGFueSBkdXBsaWNhdGVzCiAgICAgICAgICAgICAgICAgICAgY3Vy
      X3Jnd19wb29sX3ByZWZpeF9saXN0ID0gbGlzdCgKICAgICAgICAgICAgICAgICAgICAgICAgc2V0
      KHJjLmZpbmRhbGwoY3VyX2NhcF92YWx1ZXMpKSkKICAgICAgICAgICAgICAgICAgICBpZiBsZW4o
      Y3VyX3Jnd19wb29sX3ByZWZpeF9saXN0KSAhPSAxOgogICAgICAgICAgICAgICAgICAgICAgICBy
      YWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgIlVuYWJsZSB0byBkZXRlcm1pbmUgJ3Jndy1wb29sLXByZWZ4Jy4gUGxlYXNlIHByb3ZpZGUg
      b25lIHdpdGggJy0tcmd3LXBvb2wtcHJlZml4JyBmbGFnIikKICAgICAgICAgICAgICAgICAgICBt
      aW5fY2FwX3ZhbHVlcyA9IG1pbl9jYXBfdmFsdWVzLmZvcm1hdCgKICAgICAgICAgICAgICAgICAg
      ICAgICAgY3VyX3Jnd19wb29sX3ByZWZpeF9saXN0WzBdKQogICAgICAgICAgICBjdXJfY2FwX3Bl
      cm1fbGlzdCA9IFt4LnN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9y
      IHggaW4gY3VyX2NhcF92YWx1ZXMuc3BsaXQoJywnKSBpZiB4LnN0cmlwKCldCiAgICAgICAgICAg
      IG1pbl9jYXBfcGVybV9saXN0ID0gW3guc3RyaXAoKQogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICBmb3IgeCBpbiBtaW5fY2FwX3ZhbHVlcy5zcGxpdCgnLCcpIGlmIHguc3RyaXAoKV0K
      ICAgICAgICAgICAgbWluX2NhcF9wZXJtX2xpc3QuZXh0ZW5kKGN1cl9jYXBfcGVybV9saXN0KQog
      ICAgICAgICAgICAjIGVsaW1pbmF0ZSBkdXBsaWNhdGVzIHdpdGhvdXQgdXNpbmcgJ3NldCcKICAg
      ICAgICAgICAgIyBzZXQgcmUtb3JkZXJzIGl0ZW1zIGluIHRoZSBsaXN0IGFuZCB3ZSBoYXZlIHRv
      IGtlZXAgdGhlIG9yZGVyCiAgICAgICAgICAgIG5ld19jYXBfcGVybV9saXN0ID0gW10KICAgICAg
      ICAgICAgW25ld19jYXBfcGVybV9saXN0LmFwcGVuZCgKICAgICAgICAgICAgICAgIHgpIGZvciB4
      IGluIG1pbl9jYXBfcGVybV9saXN0IGlmIHggbm90IGluIG5ld19jYXBfcGVybV9saXN0XQogICAg
      ICAgICAgICBleGlzdGluZ19jYXBzW2VhY2hDYXBdID0gIiwgIi5qb2luKG5ld19jYXBfcGVybV9s
      aXN0KQogICAgICAgIGNtZF9qc29uID0geyJwcmVmaXgiOiAiYXV0aCBjYXBzIiwKICAgICAgICAg
      ICAgICAgICAgICAiZW50aXR5Ijogc2VsZi5ydW5fYXNfdXNlciwKICAgICAgICAgICAgICAgICAg
      ICAiY2FwcyI6IFsibW9uIiwgZXhpc3RpbmdfY2Fwc1sibW9uIl0sCiAgICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgIm1nciIsIGV4aXN0aW5nX2NhcHNbIm1nciJdLAogICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICJvc2QiLCBleGlzdGluZ19jYXBzWyJvc2QiXV0sCiAgICAgICAgICAgICAg
      ICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICByZXRfdmFsLCBqc29uX291dCwgZXJyX21z
      ZyA9IHNlbGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAgICAgaWYgcmV0X3Zh
      bCAhPSAwOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCInYXV0
      aCBjYXBzIHt9JyBjb21tYW5kIGZhaWxlZC5cbiIuZm9ybWF0KHNlbGYucnVuX2FzX3VzZXIpICsK
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRXJyb3I6IHt9Ii5m
      b3JtYXQoZXJyX21zZykpCiAgICAgICAgcHJpbnQoIlVwZGF0ZWQgdXNlciwge30sIHN1Y2Nlc3Nm
      dWxseS4iLmZvcm1hdChzZWxmLnJ1bl9hc191c2VyKSkKCiAgICBkZWYgbWFpbihzZWxmKToKICAg
      ICAgICBnZW5lcmF0ZWRfb3V0cHV0ID0gJycKICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnVw
      Z3JhZGU6CiAgICAgICAgICAgIHNlbGYudXBncmFkZV91c2VyX3Blcm1pc3Npb25zKCkKICAgICAg
      ICBlbGlmIHNlbGYuX2FyZ19wYXJzZXIuZm9ybWF0ID09ICdqc29uJzoKICAgICAgICAgICAgZ2Vu
      ZXJhdGVkX291dHB1dCA9IHNlbGYuZ2VuX2pzb25fb3V0KCkKICAgICAgICBlbGlmIHNlbGYuX2Fy
      Z19wYXJzZXIuZm9ybWF0ID09ICdiYXNoJzoKICAgICAgICAgICAgZ2VuZXJhdGVkX291dHB1dCA9
      IHNlbGYuZ2VuX3NoZWxsX291dCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhl
      Y3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigiVW5zdXBwb3J0ZWQgZm9ybWF0OiB7fSIuZm9ybWF0KAog
      ICAgICAgICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5mb3JtYXQpKQogICAgICAgIHByaW50KCd7
      fScuZm9ybWF0KGdlbmVyYXRlZF9vdXRwdXQpKQogICAgICAgIGlmIHNlbGYub3V0cHV0X2ZpbGUg
      YW5kIGdlbmVyYXRlZF9vdXRwdXQ6CiAgICAgICAgICAgIGZPdXQgPSBvcGVuKHNlbGYub3V0cHV0
      X2ZpbGUsICd3JykKICAgICAgICAgICAgZk91dC53cml0ZShnZW5lcmF0ZWRfb3V0cHV0KQogICAg
      ICAgICAgICBmT3V0LmNsb3NlKCkKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIE1BSU4gIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpp
      ZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgcmpPYmogPSBSYWRvc0pTT04oKQogICAgdHJ5
      OgogICAgICAgIHJqT2JqLm1haW4oKQogICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24gYXMgZXJyOgogICAgICAgIHByaW50KCJFeGVjdXRpb24gRmFpbGVkOiB7fSIuZm9ybWF0KGVy
      cikpCiAgICAgICAgcmFpc2UgZXJyCiAgICBleGNlcHQgS2V5RXJyb3IgYXMga0VycjoKICAgICAg
      ICBwcmludCgiS2V5RXJyb3I6ICVzIiwga0VycikKICAgIGV4Y2VwdCBPU0Vycm9yIGFzIG9zRXJy
      OgogICAgICAgIHByaW50KCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gb3V0cHV0IHRoZSBkYXRhOiB7
      fSIuZm9ybWF0KG9zRXJyKSkKICAgIGZpbmFsbHk6CiAgICAgICAgcmpPYmouc2h1dGRvd24oKQoK
      CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMj
      IyMjIyMjIyMjIyMjIyMgVEVTVCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgaW5vcmRlciB0byB0ZXN0IHRoZSBw
      YWNrYWdlLAojIGNkIDxzY3JpcHRfZGlyZWN0b3J5PgojIHB5dGhvbjMgLW0gdW5pdHRlc3QgLS12
      ZXJib3NlIDxzY3JpcHRfbmFtZV93aXRob3V0X2RvdF9weT4KY2xhc3MgVGVzdFJhZG9zSlNPTih1
      bml0dGVzdC5UZXN0Q2FzZSk6CiAgICBkZWYgc2V0VXAoc2VsZik6CiAgICAgICAgcHJpbnQoIlxu
      SSBhbSBpbiBzZXR1cCIpCiAgICAgICAgc2VsZi5yak9iaiA9IFJhZG9zSlNPTihbJy0tcmJkLWRh
      dGEtcG9vbC1uYW1lPWFiYycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy0tcmd3
      LWVuZHBvaW50PTEwLjEwLjIxMi4xMjI6OTAwMCcsICctLWZvcm1hdD1qc29uJ10pCiAgICAgICAg
      IyBmb3IgdGVzdGluZywgd2UgYXJlIHVzaW5nICdEdW1teVJhZG9zJyBvYmplY3QKICAgICAgICBz
      ZWxmLnJqT2JqLmNsdXN0ZXIgPSBEdW1teVJhZG9zLlJhZG9zKCkKCiAgICBkZWYgdGVhckRvd24o
      c2VsZik6CiAgICAgICAgcHJpbnQoIlxuSSBhbSB0ZWFyaW5nIGRvd24gdGhlIHNldHVwXG4iKQog
      ICAgICAgIHNlbGYucmpPYmouc2h1dGRvd24oKQoKICAgIGRlZiB0ZXN0X21ldGhvZF9tYWluX291
      dHB1dChzZWxmKToKICAgICAgICBwcmludCgiSlNPTiBPdXRwdXQiKQogICAgICAgIHNlbGYucmpP
      YmouX2FyZ19wYXJzZXIuZm9ybWF0ID0gImpzb24iCiAgICAgICAgc2VsZi5yak9iai5tYWluKCkK
      ICAgICAgICBwcmludCgiXG5cblNoZWxsIE91dHB1dCIpCiAgICAgICAgc2VsZi5yak9iai5fYXJn
      X3BhcnNlci5mb3JtYXQgPSAiYmFzaCIKICAgICAgICBzZWxmLnJqT2JqLm1haW4oKQogICAgICAg
      IHByaW50KCJcblxuTm9uIGNvbXBhdGlibGUgb3V0cHV0ICgtLWFiY2QpIikKICAgICAgICB0cnk6
      CiAgICAgICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIuZm9ybWF0ID0gJ2FiY2QnCiAgICAg
      ICAgICAgIHNlbGYucmpPYmoubWFpbigpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiRnVuY3Rpb24g
      c2hvdWxkIGhhdmUgdGhyb3duIGFuIEV4Y2VwdGlvbiIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlv
      bkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiRXhjZXB0aW9uIHRo
      cm93biBzdWNjZXNzZnVsbHk6IHt9Ii5mb3JtYXQoZXJyKSkKCiAgICBkZWYgdGVzdF9tZXRob2Rf
      Y3JlYXRlX2NlcGhDU0lLZXlyaW5nX2NlcGhGU1Byb3Zpc2lvbmVyKHNlbGYpOgogICAgICAgIGNz
      aUtleXJpbmcgPSBzZWxmLnJqT2JqLmNyZWF0ZV9jZXBoQ1NJS2V5cmluZ19jZXBoRlNQcm92aXNp
      b25lcigpCiAgICAgICAgcHJpbnQoImNlcGhDU0lLZXlyaW5nIHdpdGhvdXQgcmVzdHJpY3Rpbmcg
      aXQgdG8gYSBtZXRhZGF0YSBwb29sLiB7fSIuZm9ybWF0KGNzaUtleXJpbmcpKQogICAgICAgIHNl
      bGYucmpPYmouX2FyZ19wYXJzZXIucmVzdHJpY3RlZF9hdXRoX3Blcm1pc3Npb24gPSBUcnVlCiAg
      ICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5jbHVzdGVyX25hbWUgPSAib3BlbnNoaWZ0LXN0
      b3JhZ2UiCiAgICAgICAgY3NpS2V5cmluZyA9IHNlbGYucmpPYmouY3JlYXRlX2NlcGhDU0lLZXly
      aW5nX2NlcGhGU1Byb3Zpc2lvbmVyKCkKICAgICAgICBwcmludCgiY2VwaENTSUtleXJpbmcgZm9y
      IGEgc3BlY2lmaWMgY2x1c3Rlci4ge30iLmZvcm1hdChjc2lLZXlyaW5nKSkKICAgICAgICBzZWxm
      LnJqT2JqLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWUgPSAibXlmcyIKICAgICAg
      ICBjc2lLZXlyaW5nID0gc2VsZi5yak9iai5jcmVhdGVfY2VwaENTSUtleXJpbmdfY2VwaEZTUHJv
      dmlzaW9uZXIoKQogICAgICAgIHByaW50KCJjZXBoQ1NJS2V5cmluZyBmb3IgYSBzcGVjaWZpYyBt
      ZXRhZGF0YSBwb29sIGFuZCBjbHVzdGVyLiB7fSIuZm9ybWF0KGNzaUtleXJpbmcpKQoKICAgIGRl
      ZiB0ZXN0X25vbl96ZXJvX3JldHVybl9hbmRfZXJyb3Ioc2VsZik6CiAgICAgICAgc2VsZi5yak9i
      ai5jbHVzdGVyLnJldHVybl92YWwgPSAxCiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyLmVycl9t
      ZXNzYWdlID0gIkR1bW15IEVycm9yIgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9i
      ai5jcmVhdGVfY2hlY2tlcktleSgpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiRmFpbGVkIHRvIHJh
      aXNlIGFuIGV4Y2VwdGlvbiwgJ0V4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24nIikKICAgICAgICBl
      eGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50
      KCJTdWNjZXNzZnVsbHkgdGhyb3duIGVycm9yLlxuRXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKCiAg
      ICBkZWYgdGVzdF9tdWx0aV9maWxlc3lzdGVtX3NjZW5hcmlvKHNlbGYpOgogICAgICAgIGNtZF9r
      ZXkgPSBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVzWydmcyBscyddCiAgICAgICAgY21kX291
      dCA9IHNlbGYucmpPYmouY2x1c3Rlci5jbWRfb3V0cHV0X21hcFtjbWRfa2V5XQogICAgICAgIGNt
      ZF9qc29uX291dCA9IGpzb24ubG9hZHMoY21kX291dCkKICAgICAgICBzZWNvbmRfZnNfZGV0YWls
      cyA9IGRpY3QoY21kX2pzb25fb3V0WzBdKQogICAgICAgIHNlY29uZF9mc19kZXRhaWxzWyduYW1l
      J10gKz0gJy0yJwogICAgICAgIGNtZF9qc29uX291dC5hcHBlbmQoc2Vjb25kX2ZzX2RldGFpbHMp
      CiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldID0ganNv
      bi5kdW1wcyhjbWRfanNvbl9vdXQpCiAgICAgICAgIyBtdWx0aXBsZSBmaWxlc3lzdGVtIHByZXNl
      bnQsCiAgICAgICAgIyBidXQgbm8gc3BlY2lmaWMgJy0tY2VwaGZzLWZpbGVzeXN0ZW0tbmFtZScg
      YXJndW1lbnQgcHJvdmlkZWQKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouZ2V0
      X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAgIHByaW50KCJBcyB3ZSBhcmUg
      cmV0dXJuaW5nIHNpbGVudGx5LCBubyBlcnJvciB0aHJvd24gYXMgZXhwZWN0ZWQiKQogICAgICAg
      IGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgc2Vs
      Zi5mYWlsKAogICAgICAgICAgICAgICAgIlN1cHBvc2VkIHRvIGdldCByZXR1cm5lZCBzaWxlbnRs
      eSwgYnV0IGluc3RlYWQgZXJyb3IgdGhyb3duOiB7fSIuZm9ybWF0KGVycikpCiAgICAgICAgIyBw
      YXNzIGFuIGV4aXN0aW5nIGZpbGVzeXN0ZW0gbmFtZQogICAgICAgIHRyeToKICAgICAgICAgICAg
      c2VsZi5yak9iai5fYXJnX3BhcnNlci5jZXBoZnNfZmlsZXN5c3RlbV9uYW1lID0gc2Vjb25kX2Zz
      X2RldGFpbHNbJ25hbWUnXQogICAgICAgICAgICBzZWxmLnJqT2JqLmdldF9jZXBoZnNfZGF0YV9w
      b29sX2RldGFpbHMoKQogICAgICAgIGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFz
      IGVycjoKICAgICAgICAgICAgc2VsZi5mYWlsKCJTaG91bGQgbm90IGhhdmUgdGhyb3duIGVycm9y
      OiB7fSIuZm9ybWF0KGVycikpCiAgICAgICAgIyBwYXNzIGEgbm9uLWV4aXN0aW5nIGZpbGVzeXN0
      ZW0gbmFtZQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5j
      ZXBoZnNfZmlsZXN5c3RlbV9uYW1lICs9ICItbm9uLWV4aXN0aW5nLWZzLW5hbWUiCiAgICAgICAg
      ICAgIHNlbGYucmpPYmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAg
      IHNlbGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAg
      ICAgIGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAg
      cHJpbnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAg
      ICAjIGVtcHR5IGZpbGUtc3lzdGVtIGFycmF5CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxm
      LnJqT2JqLmNsdXN0ZXIuY21kX291dHB1dF9tYXBbY21kX2tleV0gPSBqc29uLmR1bXBzKFtdKQog
      ICAgICAgICAgICBzZWxmLnJqT2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAg
      ICAgICAgICBzZWxmLmZhaWwoIkFuIEV4Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3du
      IikKICAgICAgICBleGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAg
      ICAgICAgIHByaW50KCJTdWNjZXNzZnVsbHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikp
      CgogICAgZGVmIHRlc3RfbXVsdGlfZGF0YV9wb29sX3NjZW5hcmlvKHNlbGYpOgogICAgICAgIGNt
      ZF9rZXkgPSBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVzWydmcyBscyddCiAgICAgICAgY21k
      X291dCA9IHNlbGYucmpPYmouY2x1c3Rlci5jbWRfb3V0cHV0X21hcFtjbWRfa2V5XQogICAgICAg
      IGNtZF9qc29uX291dCA9IGpzb24ubG9hZHMoY21kX291dCkKICAgICAgICBmaXJzdF9mc19kZXRh
      aWxzID0gY21kX2pzb25fb3V0WzBdCiAgICAgICAgbmV3X2RhdGFfcG9vbF9uYW1lID0gJ215ZnMt
      ZGF0YTEnCiAgICAgICAgZmlyc3RfZnNfZGV0YWlsc1snZGF0YV9wb29scyddLmFwcGVuZChuZXdf
      ZGF0YV9wb29sX25hbWUpCiAgICAgICAgcHJpbnQoIk1vZGlmaWVkIEpTT04gQ21kIE91dDoge30i
      LmZvcm1hdChjbWRfanNvbl9vdXQpKQogICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIuY2Vw
      aGZzX2RhdGFfcG9vbF9uYW1lID0gbmV3X2RhdGFfcG9vbF9uYW1lCiAgICAgICAgc2VsZi5yak9i
      ai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldID0ganNvbi5kdW1wcyhjbWRfanNvbl9v
      dXQpCiAgICAgICAgc2VsZi5yak9iai5nZXRfY2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKCkKICAg
      ICAgICAjIHVzZSBhIG5vbi1leGlzdGluZyBkYXRhLXBvb2wtbmFtZQogICAgICAgIGJhZF9kYXRh
      X3Bvb2xfbmFtZSA9ICdteWZzLWRhdGEzJwogICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIu
      Y2VwaGZzX2RhdGFfcG9vbF9uYW1lID0gYmFkX2RhdGFfcG9vbF9uYW1lCiAgICAgICAgdHJ5Ogog
      ICAgICAgICAgICBzZWxmLnJqT2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAg
      ICAgICAgICBzZWxmLmZhaWwoIkFuIEV4Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3du
      IikKICAgICAgICBleGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAg
      ICAgICAgIHByaW50KCJTdWNjZXNzZnVsbHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikp
      CiAgICAgICAgIyBlbXB0eSBkYXRhLXBvb2wgc2NlbmFyaW8KICAgICAgICBmaXJzdF9mc19kZXRh
      aWxzWydkYXRhX3Bvb2xzJ10gPSBbXQogICAgICAgIHNlbGYucmpPYmouY2x1c3Rlci5jbWRfb3V0
      cHV0X21hcFtjbWRfa2V5XSA9IGpzb24uZHVtcHMoY21kX2pzb25fb3V0KQogICAgICAgIHRyeToK
      ICAgICAgICAgICAgc2VsZi5yak9iai5nZXRfY2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKCkKICAg
      ICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVkIHRvIGJlIHRocm93
      biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAg
      ICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30iLmZvcm1hdChlcnIp
      KQoKICAgIGRlZiB0ZXN0X3ZhbGlkX3Jnd19lbmRwb2ludChzZWxmKToKICAgICAgICBzZWxmLnJq
      T2JqLl9pbnZhbGlkX2VuZHBvaW50KCIxMC4xMC4yMTIuMTMzOjgwMDAiKQogICAgICAgICMgaW52
      YWxpZCBwb3J0CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9pbnZhbGlkX2Vu
      ZHBvaW50KCIxMC4xMC4yMTIuMTMzOjIzODAwMCIpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiQW4g
      RXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBFeGVj
      dXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3Nm
      dWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAjIG91dCBvZiByYW5n
      ZSBJUAogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5faW52YWxpZF9lbmRwb2lu
      dCgiMTAuMTAzMy4yMTIuMTMzOjgwMDAiKQogICAgICAgICAgICBzZWxmLmZhaWwoIkFuIEV4Y2Vw
      dGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3duIikKICAgICAgICBleGNlcHQgRXhlY3V0aW9u
      RmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJTdWNjZXNzZnVsbHkg
      dGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikpCiAgICAgICAgIyBtYWwgZm9ybWF0dGVkIElQ
      CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9pbnZhbGlkX2VuZHBvaW50KCIx
      MC4xMDMuLjIxMi4xMzM6ODAwMCIpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiQW4gRXhjZXB0aW9u
      IHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBFeGVjdXRpb25GYWls
      dXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3NmdWxseSB0aHJv
      d24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYu
      cmpPYmouX2ludmFsaWRfZW5kcG9pbnQoIjEwLjEwMy4yMTIuMTMzOjo4MDAwIikKICAgICAgICAg
      ICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVkIHRvIGJlIHRocm93biIpCiAg
      ICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAg
      ICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30iLmZvcm1hdChlcnIpKQogICAg
      ICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5faW52YWxpZF9lbmRwb2ludCgiMTAuMTAu
      MTAzLjIxMi4xMzM6ODAwMCIpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdh
      cyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJl
      RXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24g
      ZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKCiAgICBkZWYgYWRkX25vbl9kZWZhdWx0X3Bvb2xfcHJl
      Zml4X2NtZChzZWxmLCBub25fZGVmYXVsdF9wb29sX3ByZWZpeCk6CiAgICAgICAganNvbl9jbWQg
      PSBqc29uLmxvYWRzKAogICAgICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVzWydj
      YXBzX2NoYW5nZV9kZWZhdWx0X3Bvb2xfcHJlZml4J10pCiAgICAgICAgY3VyX29zZF9jYXBzID0g
      anNvbl9jbWRbJ2NhcHMnXVtqc29uX2NtZFsnY2FwcyddLmluZGV4KCdvc2QnKSArIDFdCiAgICAg
      ICAgbmV3X29zZF9jYXBzID0gY3VyX29zZF9jYXBzLnJlcGxhY2UoCiAgICAgICAgICAgICdkZWZh
      dWx0LicsICd7fS4nLmZvcm1hdChub25fZGVmYXVsdF9wb29sX3ByZWZpeCkpCiAgICAgICAgYWxs
      X29zZF9jYXBzID0gInt9LCB7fSIuZm9ybWF0KG5ld19vc2RfY2FwcywgY3VyX29zZF9jYXBzKQog
      ICAgICAgIGNhcHNfbGlzdCA9IFt4LnN0cmlwKCkgZm9yIHggaW4gYWxsX29zZF9jYXBzLnNwbGl0
      KCcsJykgaWYgeC5zdHJpcCgpXQogICAgICAgIG5ld19jYXBzX2xpc3QgPSBbXQogICAgICAgIFtu
      ZXdfY2Fwc19saXN0LmFwcGVuZCh4KSBmb3IgeCBpbiBjYXBzX2xpc3QgaWYgeCBub3QgaW4gbmV3
      X2NhcHNfbGlzdF0KICAgICAgICBhbGxfb3NkX2NhcHMgPSAiLCAiLmpvaW4obmV3X2NhcHNfbGlz
      dCkKICAgICAgICBqc29uX2NtZFsnY2FwcyddW2pzb25fY21kWydjYXBzJ10uaW5kZXgoJ29zZCcp
      ICsgMV0gPSBhbGxfb3NkX2NhcHMKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVz
      WydjYXBzX2NoYW5nZV9ub25fZGVmYXVsdF9wb29sX3ByZWZpeCddID0ganNvbi5kdW1wcygKICAg
      ICAgICAgICAganNvbl9jbWQpCiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyLmNtZF9vdXRwdXRf
      bWFwWwogICAgICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVzWydjYXBzX2NoYW5n
      ZV9ub25fZGVmYXVsdF9wb29sX3ByZWZpeCddXSA9ICdbe31dJwoKICAgIGRlZiB0ZXN0X3VwZ3Jh
      ZGVfdXNlcl9wZXJtaXNzaW9ucyhzZWxmKToKICAgICAgICBzZWxmLnJqT2JqID0gUmFkb3NKU09O
      KAogICAgICAgICAgICBbJy0tdXBncmFkZScsICctLXJ1bi1hcy11c2VyPWNsaWVudC5oZWFsdGhj
      aGVja2VyJ10pCiAgICAgICAgIyBmb3IgdGVzdGluZywgd2UgYXJlIHVzaW5nICdEdW1teVJhZG9z
      JyBvYmplY3QKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIgPSBEdW1teVJhZG9zLlJhZG9zKCkK
      ICAgICAgICBzZWxmLnJqT2JqLm1haW4oKQogICAgICAgIHNlbGYucmpPYmogPSBSYWRvc0pTT04o
      CiAgICAgICAgICAgIFsnLS11cGdyYWRlJywgJy0tcnVuLWFzLXVzZXI9Y2xpZW50LmhlYWx0aGNo
      ZWNrZXInLCAnLS1yZ3ctcG9vbC1wcmVmaXg9bm9uRGVmYXVsdCddKQogICAgICAgIHNlbGYucmpP
      YmouY2x1c3RlciA9IER1bW15UmFkb3MuUmFkb3MoKQogICAgICAgIHNlbGYuYWRkX25vbl9kZWZh
      dWx0X3Bvb2xfcHJlZml4X2NtZCgnbm9uRGVmYXVsdCcpCiAgICAgICAgc2VsZi5yak9iai5tYWlu
      KCkKCiAgICBkZWYgdGVzdF9tb25pdG9yaW5nX2VuZHBvaW50X3ZhbGlkYXRpb24oc2VsZik6CiAg
      ICAgICAgc2VsZi5yak9iaiA9IFJhZG9zSlNPTihbJy0tcmJkLWRhdGEtcG9vbC1uYW1lPWFiYycs
      ICctLWZvcm1hdD1qc29uJ10pCiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyID0gRHVtbXlSYWRv
      cy5SYWRvcygpCgogICAgICAgIHZhbGlkX2lwX3BvcnRzID0gWygiMTAuMjIuMzEuMTMxIiwgIjM1
      MzQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAoIjEwLjE3Ny4zLjgxIiwgIiIpLCAoIiIs
      ICIiKSwgKCIiLCAiOTA5MiIpXQogICAgICAgIGZvciBlYWNoX2lwX3BvcnRfcGFpciBpbiB2YWxp
      ZF9pcF9wb3J0czoKICAgICAgICAgICAgIyByZXNldCBtb25pdG9yaW5nIGlwIGFuZCBwb3J0CiAg
      ICAgICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludCA9ICcn
      CiAgICAgICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9w
      b3J0ID0gJycKICAgICAgICAgICAgbmV3X21vbl9pcCwgbmV3X21vbl9wb3J0ID0gZWFjaF9pcF9w
      b3J0X3BhaXIKICAgICAgICAgICAgY2hlY2tfaXBfdmFsID0gc2VsZi5yak9iai5jbHVzdGVyLmR1
      bW15X2hvc3RfaXBfbWFwLmdldCgKICAgICAgICAgICAgICAgIG5ld19tb25faXAsIG5ld19tb25f
      aXApCiAgICAgICAgICAgIGNoZWNrX3BvcnRfdmFsID0gUmFkb3NKU09OLkRFRkFVTFRfTU9OSVRP
      UklOR19FTkRQT0lOVF9QT1JUCiAgICAgICAgICAgIGlmIG5ld19tb25faXA6CiAgICAgICAgICAg
      ICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnQgPSBuZXdfbW9u
      X2lwCiAgICAgICAgICAgIGlmIG5ld19tb25fcG9ydDoKICAgICAgICAgICAgICAgIGNoZWNrX3Bv
      cnRfdmFsID0gbmV3X21vbl9wb3J0CiAgICAgICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFy
      c2VyLm1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9IG5ld19tb25fcG9ydAogICAgICAgICAgICAj
      IGZvciB0ZXN0aW5nLCB3ZSBhcmUgdXNpbmcgJ0R1bW15UmFkb3MnIG9iamVjdAogICAgICAgICAg
      ICBtb25faXBzLCBtb25fcG9ydCA9IHNlbGYucmpPYmouZ2V0X2FjdGl2ZV9hbmRfc3RhbmRieV9t
      Z3JzKCkKICAgICAgICAgICAgbW9uX2lwID0gbW9uX2lwcy5zcGxpdCgiLCIpWzBdCiAgICAgICAg
      ICAgIGlmIGNoZWNrX2lwX3ZhbCBhbmQgY2hlY2tfaXBfdmFsICE9IG1vbl9pcDoKICAgICAgICAg
      ICAgICAgIHNlbGYuZmFpbCgiRXhwZWN0ZWQgSVA6IHt9LCBSZXR1cm5lZCBJUDoge30iLmZvcm1h
      dCgKICAgICAgICAgICAgICAgICAgICBjaGVja19pcF92YWwsIG1vbl9pcCkpCiAgICAgICAgICAg
      IGlmIGNoZWNrX3BvcnRfdmFsIGFuZCBjaGVja19wb3J0X3ZhbCAhPSBtb25fcG9ydDoKICAgICAg
      ICAgICAgICAgIHNlbGYuZmFpbCgiRXhwZWN0ZWQgUG9ydDogJ3t9JywgUmV0dXJuZWQgUG9ydDog
      J3t9JyIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGNoZWNrX3BvcnRfdmFsLCBtb25fcG9y
      dCkpCiAgICAgICAgICAgIHByaW50KCJNb25JUDoge30sIE1vblBvcnQ6IHt9Ii5mb3JtYXQobW9u
      X2lwLCBtb25fcG9ydCkpCgogICAgICAgIGludmFsaWRfaXBfcG9ydHMgPSBbKCIxMC4yMi4zMS4x
      MzEuNDMiLCAiNTMzNCIpLCAoIiIsICI5MTk0MyIpLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgKCIxMC4xNzcuMy44MSIsICI5MDMyMCIpLCAoIiIsICI3MzQyMiIpLCAoIjEwLjIzMi4xMi44
      IiwgIjkwOTIyIildCiAgICAgICAgZm9yIGVhY2hfaXBfcG9ydF9wYWlyIGluIGludmFsaWRfaXBf
      cG9ydHM6CiAgICAgICAgICAgICMgcmVzZXQgdGhlIGNvbW1hbmQtbGluZSBtb25pdG9yaW5nIGFy
      Z3MKICAgICAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50
      ID0gJycKICAgICAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBv
      aW50X3BvcnQgPSAnJwogICAgICAgICAgICBuZXdfbW9uX2lwLCBuZXdfbW9uX3BvcnQgPSBlYWNo
      X2lwX3BvcnRfcGFpcgogICAgICAgICAgICBpZiBuZXdfbW9uX2lwOgogICAgICAgICAgICAgICAg
      c2VsZi5yak9iai5fYXJnX3BhcnNlci5tb25pdG9yaW5nX2VuZHBvaW50ID0gbmV3X21vbl9pcAog
      ICAgICAgICAgICBpZiBuZXdfbW9uX3BvcnQ6CiAgICAgICAgICAgICAgICBzZWxmLnJqT2JqLl9h
      cmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9IG5ld19tb25fcG9ydAogICAgICAg
      ICAgICB0cnk6CiAgICAgICAgICAgICAgICBtb25faXAsIG1vbl9wb3J0ID0gc2VsZi5yak9iai5n
      ZXRfYWN0aXZlX2FuZF9zdGFuZGJ5X21ncnMoKQogICAgICAgICAgICAgICAgcHJpbnQoIltXcm9u
      Z10gTW9uSVA6IHt9LCBNb25Qb3J0OiB7fSIuZm9ybWF0KG1vbl9pcCwgbW9uX3BvcnQpKQogICAg
      ICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBleGNlcHRpb24gd2FzIGV4cGVjdGVkIikKICAgICAg
      ICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAg
      ICAgICAgcHJpbnQoIkV4Y2VwdGlvbiB0aHJvd24gc3VjY2Vzc2Z1bGx5OiB7fSIuZm9ybWF0KGVy
      cikpCg==
    external.features.ocs.openshift.io/supported-platforms: '["BareMetal", "None",
      "VSphere", "OpenStack", "oVirt"]'
    external.features.ocs.openshift.io/validation: '{"secrets":["rook-ceph-operator-creds",
      "rook-csi-rbd-node", "rook-csi-rbd-provisioner"], "configMaps": ["rook-ceph-mon-endpoints",
      "rook-ceph-mon"], "storageClasses": ["ceph-rbd"], "cephClusters": ["monitoring-endpoint"]}'
    features.ocs.openshift.io/disabled: '["ss-list"]'
    features.ocs.openshift.io/enabled: '["kms", "arbiter", "flexible-scaling", "multus",
      "pool-management", "namespace-store", "mcg-standalone", "taint-nodes", "vault-sa-kms",
      "hpcs-kms"]'
    olm.skipRange: '>=0.0.1 <4.10.0'
    operatorframework.io/initialization-resource: "\n    {\n        \"apiVersion\":
      \"ocs.openshift.io/v1\",\n        \"kind\": \"StorageCluster\",\n        \"metadata\":
      {\n            \"name\": \"example-storagecluster\",\n            \"namespace\":
      \"openshift-storage\"\n        },\n        \"spec\": {\n            \"manageNodes\":
      false,\n            \"monPVCTemplate\": {\n                \"spec\": {\n                    \"accessModes\":
      [\n                        \"ReadWriteOnce\"\n                    ],\n                    \"resources\":
      {\n                        \"requests\": {\n                            \"storage\":
      \"10Gi\"\n                        }\n                    },\n                    \"storageClassName\":
      \"gp2\"\n                }\n            },\n            \"storageDeviceSets\":
      [\n                {\n                    \"count\": 3,\n                    \"dataPVCTemplate\":
      {\n                        \"spec\": {\n                            \"accessModes\":
      [\n                                \"ReadWriteOnce\"\n                            ],\n
      \                           \"resources\": {\n                                \"requests\":
      {\n                                    \"storage\": \"1Ti\"\n                                }\n
      \                           },\n                            \"storageClassName\":
      \"gp2\",\n                            \"volumeMode\": \"Block\"\n                        }\n
      \                   },\n                    \"name\": \"example-deviceset\",\n
      \                   \"placement\": {},\n                    \"portable\": true,\n
      \                   \"resources\": {}\n                }\n            ]\n        }\n
      \   }\n\t"
    operatorframework.io/suggested-namespace: openshift-storage
    operators.operatorframework.io/builder: operator-sdk-v1.2.0
    operators.operatorframework.io/internal-objects: '["ocsinitializations.ocs.openshift.io","storageconsumers.ocs.openshift.io","cephclusters.ceph.rook.io","cephobjectstores.ceph.rook.io","cephobjectstoreusers.ceph.rook.io","cephnfses.ceph.rook.io","cephclients.ceph.rook.io","cephfilesystems.ceph.rook.io","cephfilesystemmirrors.ceph.rook.io","cephrbdmirrors.ceph.rook.io","cephobjectrealms.ceph.rook.io","cephobjectzonegroups.ceph.rook.io","cephobjectzones.ceph.rook.io","cephbucketnotifications.ceph.rook.io","cephbuckettopics.ceph.rook.io","cephfilesystemsubvolumegroups.ceph.rook.io","objectbucketclaims.objectbucket.io","objectbuckets.objectbucket.io","objectbucketclaims.objectbucket.io","objectbuckets.objectbucket.io","volumereplications.replication.storage.openshift.io","volumereplicationclasses.replication.storage.openshift.io"]'
    operators.operatorframework.io/operator-type: non-standalone
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v2
    repository: https://github.com/red-hat-storage/ocs-operator
    support: Red Hat
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
  name: ocs-operator.v4.10.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  cleanup:
    enabled: false
  customresourcedefinitions:
    owned:
    - description: OCS Initialization represents the initial data to be created when
        the OCS operator is installed.
      displayName: OCS Initialization
      kind: OCSInitialization
      name: ocsinitializations.ocs.openshift.io
      version: v1
    - description: Storage Cluster represents a OpenShift Container Storage Cluster
        including Ceph Cluster, NooBaa and all the storage and compute resources required.
      displayName: Storage Cluster
      kind: StorageCluster
      name: storageclusters.ocs.openshift.io
      resources:
      - kind: CephCluster
        name: cephclusters.ceph.rook.io
        version: v1
      - kind: NooBaa
        name: noobaas.noobaa.io
        version: v1alpha1
      version: v1
    - description: StorageConsumer is the Schema for the storageconsumers API
      displayName: Storage Consumer
      kind: StorageConsumer
      name: storageconsumers.ocs.openshift.io
      version: v1alpha1
    - description: Represents a Ceph cluster.
      displayName: Ceph Cluster
      kind: CephCluster
      name: cephclusters.ceph.rook.io
      version: v1
    - description: Represents a Ceph Block Pool.
      displayName: Block Pools
      kind: CephBlockPool
      name: cephblockpools.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store.
      displayName: Ceph Object Store
      kind: CephObjectStore
      name: cephobjectstores.ceph.rook.io
      specDescriptors:
      - description: Coding Chunks
        displayName: Coding Chunks
        path: dataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: dataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: dataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: dataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Annotations
        displayName: Annotations
        path: gateway.annotations
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:annotations
      - description: Instances
        displayName: Instances
        path: gateway.instances
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Resources
        displayName: Resources
        path: gateway.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: placement
        displayName: placement
        path: gateway.placement
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:placement
      - description: securePort
        displayName: securePort
        path: gateway.securePort
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:securePort
      - description: sslCertificateRef
        displayName: sslCertificateRef
        path: gateway.sslCertificateRef
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:sslCertificateRef
      - description: Type
        displayName: Type
        path: gateway.type
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Coding Chunks
        displayName: Coding Chunks
        path: metadataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: metadataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: metadataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: metadataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      version: v1
    - description: Represents a Ceph Object Store User.
      displayName: Ceph Object Store User
      kind: CephObjectStoreUser
      name: cephobjectstoreusers.ceph.rook.io
      version: v1
    - description: Represents a cluster of Ceph NFS ganesha gateways.
      displayName: Ceph NFS
      kind: CephNFS
      name: cephnfses.ceph.rook.io
      version: v1
    - description: Represents a Ceph User.
      displayName: Ceph Client
      kind: CephClient
      name: cephclients.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem.
      displayName: Ceph Filesystem
      kind: CephFilesystem
      name: cephfilesystems.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem Mirror.
      displayName: Ceph Filesystem Mirror
      kind: CephFilesystemMirror
      name: cephfilesystemmirrors.ceph.rook.io
      version: v1
    - description: Represents a Ceph RBD Mirror.
      displayName: Ceph RBD Mirror
      kind: CephRBDMirror
      name: cephrbdmirrors.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Realm.
      displayName: Ceph Object Store Realm
      kind: CephObjectRealm
      name: cephobjectrealms.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone Group.
      displayName: Ceph Object Store Zone Group
      kind: CephObjectZoneGroup
      name: cephobjectzonegroups.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone.
      displayName: Ceph Object Store Zone
      kind: CephObjectZone
      name: cephobjectzones.ceph.rook.io
      version: v1
    - description: Represents a Ceph Bucket Notification.
      displayName: Ceph Bucket Notification
      kind: CephBucketNotification
      name: cephbucketnotifications.ceph.rook.io
      version: v1
    - description: Represents a Ceph Bucket Topic.
      displayName: Ceph Bucket Topic
      kind: CephBucketTopic
      name: cephbuckettopics.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem SubVolumeGroup.
      displayName: Ceph Filesystem SubVolumeGroup
      kind: CephFilesystemSubVolumeGroup
      name: cephfilesystemsubvolumegroups.ceph.rook.io
      version: v1
    - kind: ObjectBucketClaim
      name: objectbucketclaims.objectbucket.io
      version: v1alpha1
    - kind: ObjectBucket
      name: objectbuckets.objectbucket.io
      version: v1alpha1
    - description: Claim a bucket just like claiming a PV. Automate you app bucket
        provisioning by creating OBC with your app deployment. A secret and configmap
        (name=claim) will be created with access details for the app pods.
      displayName: Object Bucket Claim
      kind: ObjectBucketClaim
      name: objectbucketclaims.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
    - description: Used under-the-hood. Created per ObjectBucketClaim and keeps provisioning
        information.
      displayName: Object Bucket
      kind: ObjectBucket
      name: objectbuckets.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
    - description: VolumeReplication is a namespaced resource that contains references
        to storage object to be replicated and VolumeReplicationClass corresponding
        to the driver providing replication.
      displayName: Volume Replication
      kind: VolumeReplication
      name: volumereplications.replication.storage.openshift.io
      version: v1alpha1
    - description: VolumeReplicationClass is a cluster scoped resource that contains
        driver related configuration parameters.
      displayName: Volume Replication Class
      kind: VolumeReplicationClass
      name: volumereplicationclasses.replication.storage.openshift.io
      version: v1alpha1
    required:
    - description: A NooBaa system - Create this to start
      displayName: NooBaa
      kind: NooBaa
      name: noobaas.noobaa.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      specDescriptors:
      - description: DBImage (optional) overrides the default image for the db container.
        displayName: DB Image
        path: image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Image (optional) overrides the default image for the server container.
        displayName: Image
        path: dbImage
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: CoreResources (optional) overrides the default resource requirements
          for the server container.
        displayName: Core Resources
        path: coreResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBResources (optional) overrides the default resource requirements
          for the db container.
        displayName: DB Resources
        path: dbResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: 'DBVolumeResources (optional) overrides the default PVC resource
          requirements for the database volume. For the time being this field is immutable
          and can only be set on system creation. This is because volume size updates
          are only supported for increasing the size, and only if the storage class
          specifies `allowVolumeExpansion: true`, +immutable.'
        displayName: Image
        path: dbVolumeResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBStorageClass (optional) overrides the default cluster StorageClass
          for the database volume. For the time being this field is immutable and
          can only be set on system creation. This affects where the system stores
          its database which contains system config, buckets, objects meta-data and
          mapping file parts to storage locations. +immutable.
        displayName: DB StorageClass
        path: dbStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: PVPoolDefaultStorageClass (optional) overrides the default cluster
          StorageClass for the pv-pool volumes. This affects where the system stores
          data chunks (encrypted). Updates to this field will only affect new pv-pools,
          but updates to existing pools are not supported by the operator.
        displayName: PV Pool DefaultStorageClass
        path: pvPoolDefaultStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: ImagePullSecret (optional) sets a pull secret for the system
          image.
        displayName: Image Pull Secret
        path: imagePullSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      version: v1alpha1
  description: |2

    **Red Hat OpenShift Container Storage** deploys three operators.

    ### OpenShift Container Storage operator

    The OpenShift Container Storage operator is the primary operator for OpenShift Container Storage. It serves to facilitate the other operators in OpenShift Container Storage by performing administrative tasks outside their scope as well as watching and configuring their CustomResources.

    ### Rook

    [Rook][1] deploys and manages Ceph on OpenShift, which provides block and file storage.

    # Core Capabilities

    * **Self-managing service:** No matter which supported storage technologies you choose, OpenShift Container Storage ensures that resources can be deployed and managed automatically.

    * **Hyper-scale or hyper-converged:** With OpenShift Container Storage you can either build dedicated storage clusters or hyper-converged clusters where your apps run alongside storage.

    * **File, Block, and Object provided by OpenShift Container Storage:** OpenShift Container Storage integrates Ceph with multiple storage presentations including object storage (compatible with S3), block storage, and POSIX-compliant shared file system.

    * **Your data, protected:** OpenShift Container Storage efficiently distributes and replicates your data across your cluster to minimize the risk of data loss. With snapshots, cloning, and versioning, no more losing sleep over your data.

    * **Elastic storage in your datacenter:** Scale is now possible in your datacenter. Get started with a few terabytes, and easily scale up.

    * **Simplified data management:** Easily create hybrid and multi-cloud data storage for your workloads, using a single namespace.

    [1]: https://rook.io
  displayName: OpenShift Container Storage
  icon:
  - base64data: PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTIgMTQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlJlZEhhdC1Mb2dvLUhhdC1Db2xvcjwvdGl0bGU+PHBhdGggZD0iTTE1Ny43Nyw2Mi42MWExNCwxNCwwLDAsMSwuMzEsMy40MmMwLDE0Ljg4LTE4LjEsMTcuNDYtMzAuNjEsMTcuNDZDNzguODMsODMuNDksNDIuNTMsNTMuMjYsNDIuNTMsNDRhNi40Myw2LjQzLDAsMCwxLC4yMi0xLjk0bC0zLjY2LDkuMDZhMTguNDUsMTguNDUsMCwwLDAtMS41MSw3LjMzYzAsMTguMTEsNDEsNDUuNDgsODcuNzQsNDUuNDgsMjAuNjksMCwzNi40My03Ljc2LDM2LjQzLTIxLjc3LDAtMS4wOCwwLTEuOTQtMS43My0xMC4xM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMjcuNDcsODMuNDljMTIuNTEsMCwzMC42MS0yLjU4LDMwLjYxLTE3LjQ2YTE0LDE0LDAsMCwwLS4zMS0zLjQybC03LjQ1LTMyLjM2Yy0xLjcyLTcuMTItMy4yMy0xMC4zNS0xNS43My0xNi42QzEyNC44OSw4LjY5LDEwMy43Ni41LDk3LjUxLjUsOTEuNjkuNSw5MCw4LDgzLjA2LDhjLTYuNjgsMC0xMS42NC01LjYtMTcuODktNS42LTYsMC05LjkxLDQuMDktMTIuOTMsMTIuNSwwLDAtOC40MSwyMy43Mi05LjQ5LDI3LjE2QTYuNDMsNi40MywwLDAsMCw0Mi41Myw0NGMwLDkuMjIsMzYuMywzOS40NSw4NC45NCwzOS40NU0xNjAsNzIuMDdjMS43Myw4LjE5LDEuNzMsOS4wNSwxLjczLDEwLjEzLDAsMTQtMTUuNzQsMjEuNzctMzYuNDMsMjEuNzdDNzguNTQsMTA0LDM3LjU4LDc2LjYsMzcuNTgsNTguNDlhMTguNDUsMTguNDUsMCwwLDEsMS41MS03LjMzQzIyLjI3LDUyLC41LDU1LC41LDc0LjIyYzAsMzEuNDgsNzQuNTksNzAuMjgsMTMzLjY1LDcwLjI4LDQ1LjI4LDAsNTYuNy0yMC40OCw1Ni43LTM2LjY1LDAtMTIuNzItMTEtMjcuMTYtMzAuODMtMzUuNzgiLz48L3N2Zz4=
    mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - create
          - get
          - list
          - update
          - watch
        - apiGroups:
          - apps
          resources:
          - daemonsets
          - deployments
          - replicasets
          - statefulsets
          verbs:
          - '*'
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephblockpools
          - cephclusters
          - cephfilesystems
          - cephobjectstores
          - cephobjectstoreusers
          - cephrbdmirrors
          verbs:
          - '*'
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients
          verbs:
          - create
          - delete
          - get
          - list
          - update
          - watch
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephfilesystemsubvolumegroups
          verbs:
          - create
          - delete
          - get
          - list
          - update
          - watch
        - apiGroups:
          - config.openshift.io
          resources:
          - clusterversions
          - networks
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - config.openshift.io
          resources:
          - infrastructures
          - networks
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - console.openshift.io
          resources:
          - consolequickstarts
          verbs:
          - '*'
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - create
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          - endpoints
          - events
          - nodes
          - persistentvolumeclaims
          - pods
          - secrets
          - services
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - prometheusrules
          - servicemonitors
          verbs:
          - create
          - get
          - list
          - update
          - watch
        - apiGroups:
          - noobaa.io
          resources:
          - noobaas
          verbs:
          - '*'
        - apiGroups:
          - ocs.openshift.io
          resources:
          - '*'
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ocs.openshift.io
          resources:
          - storageconsumers
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ocs.openshift.io
          resources:
          - storageconsumers/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - operators.coreos.com
          resources:
          - operatorconditions
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - quota.openshift.io
          resources:
          - clusterresourcequotas
          verbs:
          - '*'
        - apiGroups:
          - route.openshift.io
          resources:
          - routes
          verbs:
          - '*'
        - apiGroups:
          - security.openshift.io
          resources:
          - securitycontextconstraints
          verbs:
          - create
          - get
          - update
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - create
          - get
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          - volumesnapshots
          verbs:
          - '*'
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - '*'
          - get
        - apiGroups:
          - template.openshift.io
          resources:
          - templates
          verbs:
          - '*'
        serviceAccountName: ocs-operator
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        serviceAccountName: rook-csi-cephfs-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments/status
          verbs:
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - serviceaccounts
          verbs:
          - get
        serviceAccountName: rook-csi-rbd-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments/status
          verbs:
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications
          - volumereplicationclasses
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications/finalizers
          verbs:
          - update
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplications/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - replication.storage.openshift.io
          resources:
          - volumereplicationclasses/status
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - serviceaccounts
          verbs:
          - get
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          - apps
          - extensions
          resources:
          - secrets
          - pods
          - pods/log
          - services
          - configmaps
          - deployments
          - daemonsets
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - nodes
          - nodes/proxy
          - services
          - secrets
          - configmaps
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          - persistentvolumes
          - persistentvolumeclaims
          - endpoints
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - batch
          resources:
          - jobs
          - cronjobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients
          - cephclusters
          - cephblockpools
          - cephfilesystems
          - cephnfses
          - cephobjectstores
          - cephobjectstoreusers
          - cephobjectrealms
          - cephobjectzonegroups
          - cephobjectzones
          - cephbuckettopics
          - cephbucketnotifications
          - cephrbdmirrors
          - cephfilesystemmirrors
          - cephfilesystemsubvolumegroups
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients/status
          - cephclusters/status
          - cephblockpools/status
          - cephfilesystems/status
          - cephnfses/status
          - cephobjectstores/status
          - cephobjectstoreusers/status
          - cephobjectrealms/status
          - cephobjectzonegroups/status
          - cephobjectzones/status
          - cephbuckettopics/status
          - cephbucketnotifications/status
          - cephrbdmirrors/status
          - cephfilesystemmirrors/status
          - cephfilesystemsubvolumegroups/status
          verbs:
          - update
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclients/finalizers
          - cephclusters/finalizers
          - cephblockpools/finalizers
          - cephfilesystems/finalizers
          - cephnfses/finalizers
          - cephobjectstores/finalizers
          - cephobjectstoreusers/finalizers
          - cephobjectrealms/finalizers
          - cephobjectzonegroups/finalizers
          - cephobjectzones/finalizers
          - cephbuckettopics/finalizers
          - cephbucketnotifications/finalizers
          - cephrbdmirrors/finalizers
          - cephfilesystemmirrors/finalizers
          - cephfilesystemsubvolumegroups/finalizers
          verbs:
          - update
        - apiGroups:
          - policy
          - apps
          - extensions
          resources:
          - poddisruptionbudgets
          - deployments
          - replicasets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
          - deletecollection
        - apiGroups:
          - healthchecking.openshift.io
          resources:
          - machinedisruptionbudgets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - machine.openshift.io
          resources:
          - machines
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - csidrivers
          verbs:
          - create
          - delete
          - get
          - update
        - apiGroups:
          - k8s.cni.cncf.io
          resources:
          - network-attachment-definitions
          verbs:
          - get
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          - nodes
          - nodes/proxy
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - patch
          - list
          - get
          - watch
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          - configmaps
          verbs:
          - get
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims
          verbs:
          - list
          - watch
          - get
          - update
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbuckets
          verbs:
          - list
          - watch
          - get
          - create
          - update
          - delete
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims/status
          - objectbuckets/status
          verbs:
          - update
        - apiGroups:
          - objectbucket.io
          resources:
          - objectbucketclaims/finalizers
          - objectbuckets/finalizers
          verbs:
          - update
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - pods/log
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - pods/exec
          verbs:
          - create
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - use
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: ocs-metrics-exporter
      deployments:
      - name: ocs-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: ocs-operator
          strategy:
            type: Recreate
          template:
            metadata:
              labels:
                name: ocs-operator
            spec:
              containers:
              - args:
                - --enable-leader-election
                - --health-probe-bind-address=:8081
                command:
                - ocs-operator
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: ROOK_CEPH_IMAGE
                  value: rook/ceph:v1.8.3
                - name: CEPH_IMAGE
                  value: ceph/daemon-base:latest-pacific
                - name: NOOBAA_CORE_IMAGE
                  value: noobaa/noobaa-core:master-20210912
                - name: NOOBAA_DB_IMAGE
                  value: centos/postgresql-12-centos7
                - name: PROVIDER_API_SERVER_IMAGE
                  value: quay.io/ocs-dev/ocs-operator:latest
                image: quay.io/ocs-dev/ocs-operator:latest
                imagePullPolicy: Always
                name: ocs-operator
                readinessProbe:
                  httpGet:
                    path: /readyz
                    port: 8081
                  initialDelaySeconds: 5
                  periodSeconds: 10
                resources: {}
              serviceAccountName: ocs-operator
              terminationGracePeriodSeconds: 10
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      - name: rook-ceph-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: rook-ceph-operator
          strategy: {}
          template:
            metadata:
              labels:
                app: rook-ceph-operator
            spec:
              containers:
              - args:
                - ceph
                - operator
                env:
                - name: ROOK_CURRENT_NAMESPACE_ONLY
                  value: "true"
                - name: ROOK_ALLOW_MULTIPLE_FILESYSTEMS
                  value: "false"
                - name: ROOK_LOG_LEVEL
                  value: INFO
                - name: ROOK_CEPH_STATUS_CHECK_INTERVAL
                  value: 60s
                - name: ROOK_MON_HEALTHCHECK_INTERVAL
                  value: 45s
                - name: ROOK_MON_OUT_TIMEOUT
                  value: 600s
                - name: ROOK_DISCOVER_DEVICES_INTERVAL
                  value: 60m
                - name: ROOK_HOSTPATH_REQUIRES_PRIVILEGED
                  value: "true"
                - name: ROOK_ENABLE_SELINUX_RELABELING
                  value: "true"
                - name: ROOK_ENABLE_FSGROUP
                  value: "true"
                - name: ROOK_ENABLE_FLEX_DRIVER
                  value: "false"
                - name: ROOK_ENABLE_DISCOVERY_DAEMON
                  value: "false"
                - name: ROOK_ENABLE_MACHINE_DISRUPTION_BUDGET
                  value: "false"
                - name: ROOK_DISABLE_DEVICE_HOTPLUG
                  value: "true"
                - name: ROOK_CSI_ALLOW_UNSUPPORTED_VERSION
                  value: "true"
                - name: CSI_VOLUME_REPLICATION_IMAGE
                  value: quay.io/csiaddons/volumereplication-operator:v0.1.0
                - name: ROOK_CSIADDONS_IMAGE
                  value: quay.io/csiaddons/k8s-sidecar:v0.2.1
                - name: CSI_PROVISIONER_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: CSI_PLUGIN_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: NODE_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: spec.nodeName
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: POD_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: ROOK_OBC_WATCH_OPERATOR_NAMESPACE
                  value: "true"
                image: rook/ceph:v1.8.3
                name: rook-ceph-operator
                ports:
                - containerPort: 9443
                  name: https-webhook
                  protocol: TCP
                resources: {}
                securityContext:
                  runAsGroup: 2016
                  runAsNonRoot: true
                  runAsUser: 2016
                volumeMounts:
                - mountPath: /var/lib/rook
                  name: rook-config
                - mountPath: /etc/ceph
                  name: default-config-dir
                - mountPath: /etc/webhook
                  name: webhook-cert
              serviceAccountName: rook-ceph-system
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
              volumes:
              - emptyDir: {}
                name: rook-config
              - emptyDir: {}
                name: default-config-dir
              - emptyDir: {}
                name: webhook-cert
      - name: ocs-metrics-exporter
        spec:
          replicas: 1
          selector:
            matchLabels:
              app.kubernetes.io/component: ocs-metrics-exporter
              app.kubernetes.io/name: ocs-metrics-exporter
          strategy: {}
          template:
            metadata:
              labels:
                app.kubernetes.io/component: ocs-metrics-exporter
                app.kubernetes.io/name: ocs-metrics-exporter
                app.kubernetes.io/version: 0.0.1
            spec:
              containers:
              - args:
                - --namespaces=openshift-storage
                command:
                - /usr/local/bin/metrics-exporter
                image: quay.io/ocs-dev/ocs-operator:latest
                name: ocs-metrics-exporter
                ports:
                - containerPort: 8080
                - containerPort: 8081
                resources: {}
                securityContext:
                  runAsNonRoot: true
              serviceAccountName: ocs-metrics-exporter
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - create
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - csiaddons.openshift.io
          resources:
          - csiaddonsnodes
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - csiaddons.openshift.io
          resources:
          - csiaddonsnodes
          verbs:
          - create
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-cmd-reporter
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - pods/log
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - apps
          resources:
          - deployments/scale
          - deployments
          verbs:
          - patch
          - delete
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - delete
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclusters
          - cephclusters/finalizers
          verbs:
          - get
          - list
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - get
          - delete
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - delete
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - update
          - delete
        serviceAccountName: rook-ceph-purge-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          - services
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - apps
          - extensions
          resources:
          - daemonsets
          - statefulsets
          - deployments
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - batch
          resources:
          - cronjobs
          verbs:
          - delete
        serviceAccountName: rook-ceph-system
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - storage
  - rook
  - ceph
  - block storage
  - shared filesystem
  - object storage
  links:
  - name: Source Code
    url: https://github.com/red-hat-storage/ocs-operator
  maintainers:
  - email: ocs-support@redhat.com
    name: Red Hat Support
  maturity: alpha
  minKubeVersion: 1.16.0
  provider:
    name: Red Hat
  relatedImages:
  - image: rook/ceph:v1.8.3
    name: rook-container
  - image: ceph/daemon-base:latest-pacific
    name: ceph-container
  - image: quay.io/csiaddons/volumereplication-operator:v0.1.0
    name: volume-replication-operator
  - image: quay.io/csiaddons/k8s-sidecar:v0.2.1
    name: csiaddons-sidecar
  - image: quay.io/ocs-dev/ocs-must-gather:latest
    name: ocs-must-gather
  version: 4.10.0
