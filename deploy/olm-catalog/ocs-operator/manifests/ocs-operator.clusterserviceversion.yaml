---
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |2-

      [
          {
              "apiVersion": "ocs.openshift.io/v1",
              "kind": "StorageCluster",
              "metadata": {
                  "name": "example-storagecluster",
                  "namespace": "openshift-storage"
              },
              "spec": {
                  "manageNodes": false,
                  "monPVCTemplate": {
                      "spec": {
                          "accessModes": [
                              "ReadWriteOnce"
                          ],
                          "resources": {
                              "requests": {
                                  "storage": "10Gi"
                              }
                          },
                          "storageClassName": "gp2"
                      }
                  },
                  "storageDeviceSets": [
                      {
                          "count": 3,
                          "dataPVCTemplate": {
                              "spec": {
                                  "accessModes": [
                                      "ReadWriteOnce"
                                  ],
                                  "resources": {
                                      "requests": {
                                          "storage": "1Ti"
                                      }
                                  },
                                  "storageClassName": "gp2",
                                  "volumeMode": "Block"
                              }
                          },
                          "name": "example-deviceset",
                          "placement": {},
                          "portable": true,
                          "resources": {}
                      }
                  ]
              }
          }
      ]
    capabilities: Full Lifecycle
    categories: Storage
    containerImage: quay.io/ocs-dev/ocs-operator:4.6.0
    description: Red Hat OpenShift Container Storage provides hyperconverged storage
      for applications within an OpenShift cluster.
    external.features.ocs.openshift.io/export-script: |-
      JycnCkNvcHlyaWdodCAyMDIwIFRoZSBSb29rIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQu
      CgpMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxp
      Y2Vuc2UiKTsKeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3
      aXRoIHRoZSBMaWNlbnNlLgpZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQK
      CglodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClVubGVzcyByZXF1
      aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUK
      ZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElT
      IiBCQVNJUywKV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVp
      dGhlciBleHByZXNzIG9yIGltcGxpZWQuClNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmlj
      IGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKbGltaXRhdGlvbnMgdW5kZXIgdGhl
      IExpY2Vuc2UuCicnJwoKaW1wb3J0IHN5cwppbXBvcnQganNvbgppbXBvcnQgYXJncGFyc2UKaW1w
      b3J0IHVuaXR0ZXN0CmltcG9ydCByZQppbXBvcnQgcmVxdWVzdHMKZnJvbSBvcyBpbXBvcnQgbGlu
      ZXNlcCBhcyBMSU5FU0VQCgojIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCAyLngKdHJ5Ogog
      ICAgTW9kdWxlTm90Rm91bmRFcnJvcgpleGNlcHQ6CiAgICBNb2R1bGVOb3RGb3VuZEVycm9yID0g
      SW1wb3J0RXJyb3IKCnRyeToKICAgIGltcG9ydCByYWRvcwpleGNlcHQgTW9kdWxlTm90Rm91bmRF
      cnJvciBhcyBub01vZEVycjoKICAgIHByaW50KCJFcnJvcjogJXNcbkV4aXRpbmcgdGhlIHNjcmlw
      dC4uLiIgJSBub01vZEVycikKICAgIHN5cy5leGl0KDEpCgp0cnk6CiAgICAjIGZvciAyLjcueAog
      ICAgZnJvbSBTdHJpbmdJTyBpbXBvcnQgU3RyaW5nSU8KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJy
      b3I6CiAgICAjIGZvciAzLngKICAgIGZyb20gaW8gaW1wb3J0IFN0cmluZ0lPCgp0cnk6CiAgICAj
      IGZvciAyLjcueAogICAgZnJvbSB1cmxwYXJzZSBpbXBvcnQgdXJscGFyc2UKZXhjZXB0IE1vZHVs
      ZU5vdEZvdW5kRXJyb3I6CiAgICAjIGZvciAzLngKICAgIGZyb20gdXJsbGliLnBhcnNlIGltcG9y
      dCB1cmxwYXJzZQoKCmNsYXNzIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oRXhjZXB0aW9uKToK
      ICAgIHBhc3MKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IwojIyMjIyMjIyMjIyMjIyMjIyMgRHVtbXlSYWRvcyAjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgdGhpcyBpcyBtYWlu
      bHkgZm9yIHRlc3RpbmcgYW5kIGNvdWxkIGJlIHVzZWQgd2hlcmUgJ3JhZG9zJyBpcyBub3QgYXZh
      aWxhYmxlCmNsYXNzIER1bW15UmFkb3Mob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToK
      ICAgICAgICBzZWxmLnJldHVybl92YWwgPSAwCiAgICAgICAgc2VsZi5lcnJfbWVzc2FnZSA9ICcn
      CiAgICAgICAgc2VsZi5zdGF0ZSA9ICdjb25uZWN0ZWQnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0
      X21hcCA9IHt9CiAgICAgICAgc2VsZi5jbWRfbmFtZXMgPSB7fQogICAgICAgIHNlbGYuX2luaXRf
      Y21kX291dHB1dF9tYXAoKQogICAgICAgIHNlbGYuZHVtbXlfaG9zdF9pcF9tYXAgPSB7fQoKICAg
      IGRlZiBfaW5pdF9jbWRfb3V0cHV0X21hcChzZWxmKToKICAgICAgICBzZWxmLmNtZF9uYW1lc1sn
      ZnMgbHMnXSA9ICcnJ3siZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImZzIGxzIn0nJycKICAg
      ICAgICBzZWxmLmNtZF9uYW1lc1sncXVvcnVtX3N0YXR1cyddID0gJycneyJmb3JtYXQiOiAianNv
      biIsICJwcmVmaXgiOiAicXVvcnVtX3N0YXR1cyJ9JycnCiAgICAgICAgc2VsZi5jbWRfbmFtZXNb
      J2NhcHNfY2hhbmdlX2RlZmF1bHRfcG9vbF9wcmVmaXgnXSA9ICcnJ3siY2FwcyI6IFsibW9uIiwg
      ImFsbG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJz
      aW9uIiwgIm1nciIsICJhbGxvdyBjb21tYW5kIGNvbmZpZyIsICJvc2QiLCAiYWxsb3cgcnd4IHBv
      b2w9ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9v
      bD1kZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQucmd3LmxvZywgYWxs
      b3cgeCBwb29sPWRlZmF1bHQucmd3LmJ1Y2tldHMuaW5kZXgiXSwgImVudGl0eSI6ICJjbGllbnQu
      aGVhbHRoY2hlY2tlciIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBjYXBzIn0n
      JycKICAgICAgICAjIGFsbCB0aGUgY29tbWFuZHMgYW5kIHRoZWlyIG91dHB1dAogICAgICAgIHNl
      bGYuY21kX291dHB1dF9tYXBbc2VsZi5jbWRfbmFtZXNbJ2ZzIGxzJ10KICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgIF0gPSAnJydbeyJuYW1lIjoibXlmcyIsIm1ldGFkYXRhX3Bvb2wiOiJteWZz
      LW1ldGFkYXRhIiwibWV0YWRhdGFfcG9vbF9pZCI6MiwiZGF0YV9wb29sX2lkcyI6WzNdLCJkYXRh
      X3Bvb2xzIjpbIm15ZnMtZGF0YTAiXX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFtz
      ZWxmLmNtZF9uYW1lc1sncXVvcnVtX3N0YXR1cyddXSA9ICcnJ3siZWxlY3Rpb25fZXBvY2giOjMs
      InF1b3J1bSI6WzBdLCJxdW9ydW1fbmFtZXMiOlsiYSJdLCJxdW9ydW1fbGVhZGVyX25hbWUiOiJh
      IiwicXVvcnVtX2FnZSI6MTQzODUsImZlYXR1cmVzIjp7InF1b3J1bV9jb24iOiI0NTQwMTM4Mjky
      ODM2Njk2MDYzIiwicXVvcnVtX21vbiI6WyJrcmFrZW4iLCJsdW1pbm91cyIsIm1pbWljIiwib3Nk
      bWFwLXBydW5lIiwibmF1dGlsdXMiLCJvY3RvcHVzIl19LCJtb25tYXAiOnsiZXBvY2giOjEsImZz
      aWQiOiJhZjRlMTY3My0wYjcyLTQwMmQtOTkwYS0yMmQyOTE5ZDBmMWMiLCJtb2RpZmllZCI6IjIw
      MjAtMDUtMDdUMDM6MzY6MzkuOTE4MDM1WiIsImNyZWF0ZWQiOiIyMDIwLTA1LTA3VDAzOjM2OjM5
      LjkxODAzNVoiLCJtaW5fbW9uX3JlbGVhc2UiOjE1LCJtaW5fbW9uX3JlbGVhc2VfbmFtZSI6Im9j
      dG9wdXMiLCJmZWF0dXJlcyI6eyJwZXJzaXN0ZW50IjpbImtyYWtlbiIsImx1bWlub3VzIiwibWlt
      aWMiLCJvc2RtYXAtcHJ1bmUiLCJuYXV0aWx1cyIsIm9jdG9wdXMiXSwib3B0aW9uYWwiOltdfSwi
      bW9ucyI6W3sicmFuayI6MCwibmFtZSI6ImEiLCJwdWJsaWNfYWRkcnMiOnsiYWRkcnZlYyI6W3si
      dHlwZSI6InYyIiwiYWRkciI6IjEwLjExMC4yMDUuMTc0OjMzMDAiLCJub25jZSI6MH0seyJ0eXBl
      IjoidjEiLCJhZGRyIjoiMTAuMTEwLjIwNS4xNzQ6Njc4OSIsIm5vbmNlIjowfV19LCJhZGRyIjoi
      MTAuMTEwLjIwNS4xNzQ6Njc4OS8wIiwicHVibGljX2FkZHIiOiIxMC4xMTAuMjA1LjE3NDo2Nzg5
      LzAiLCJwcmlvcml0eSI6MCwid2VpZ2h0IjowfV19fScnJwogICAgICAgIHNlbGYuY21kX291dHB1
      dF9tYXBbJycneyJjYXBzIjogWyJtb24iLCAiYWxsb3cgciwgYWxsb3cgY29tbWFuZCBxdW9ydW1f
      c3RhdHVzIiwgIm9zZCIsICJhbGxvdyByd3ggcG9vbD1kZWZhdWx0LnJndy5tZXRhLCBhbGxvdyBy
      IHBvb2w9LnJndy5yb290LCBhbGxvdyBydyBwb29sPWRlZmF1bHQucmd3LmNvbnRyb2wsIGFsbG93
      IHggcG9vbD1kZWZhdWx0LnJndy5idWNrZXRzLmluZGV4Il0sICJlbnRpdHkiOiAiY2xpZW50Lmhl
      YWx0aGNoZWNrZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0LW9yLWNy
      ZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVja2VyIiwia2V5Ijoi
      QVFERmtiTmVmdDViRlJBQVRuZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNhcHMiOnsibW9uIjoi
      YWxsb3cgciwgYWxsb3cgY29tbWFuZCBxdW9ydW1fc3RhdHVzIiwib3NkIjoiYWxsb3cgcnd4IHBv
      b2w9ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9v
      bD1kZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyB4IHBvb2w9ZGVmYXVsdC5yZ3cuYnVja2V0cy5p
      bmRleCJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6IFsibW9u
      IiwgInByb2ZpbGUgcmJkIiwgIm9zZCIsICJwcm9maWxlIHJiZCJdLCAiZW50aXR5IjogImNsaWVu
      dC5jc2ktcmJkLW5vZGUiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGggZ2V0LW9y
      LWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5jc2ktcmJkLW5vZGUiLCJrZXki
      OiJBUUJPZ3JOZUhiSzFBeEFBdWJZQmVWOFMxVS9HUHpxNVNWZXE2Zz09IiwiY2FwcyI6eyJtb24i
      OiJwcm9maWxlIHJiZCIsIm9zZCI6InByb2ZpbGUgcmJkIn19XScnJwogICAgICAgIHNlbGYuY21k
      X291dHB1dF9tYXBbJycneyJjYXBzIjogWyJtb24iLCAicHJvZmlsZSByYmQiLCAibWdyIiwgImFs
      bG93IHJ3IiwgIm9zZCIsICJwcm9maWxlIHJiZCJdLCAiZW50aXR5IjogImNsaWVudC5jc2ktcmJk
      LXByb3Zpc2lvbmVyIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1j
      cmVhdGUifScnJ10gPSAnJydbeyJlbnRpdHkiOiJjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lciIs
      ImtleSI6IkFRQk5nck5lMWdleUt4QUE4ZWtWaVJkRStoc3M1T3dlWUJrd05nPT0iLCJjYXBzIjp7
      Im1nciI6ImFsbG93IHJ3IiwibW9uIjoicHJvZmlsZSByYmQiLCJvc2QiOiJwcm9maWxlIHJiZCJ9
      fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6IFsibW9uIiwgImFs
      bG93IHIiLCAibWdyIiwgImFsbG93IHJ3IiwgIm9zZCIsICJhbGxvdyBydyB0YWcgY2VwaGZzICo9
      KiIsICJtZHMiLCAiYWxsb3cgcnciXSwgImVudGl0eSI6ICJjbGllbnQuY3NpLWNlcGhmcy1ub2Rl
      IiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldC1vci1jcmVhdGUifScnJ10g
      PSAnJydbeyJlbnRpdHkiOiJjbGllbnQuY3NpLWNlcGhmcy1ub2RlIiwia2V5IjoiQVFCT2dyTmVF
      TnVuS3hBQVBDbWdFN1I2RzhEY1huYUoxRjMycWc9PSIsImNhcHMiOnsibWRzIjoiYWxsb3cgcnci
      LCJtZ3IiOiJhbGxvdyBydyIsIm1vbiI6ImFsbG93IHIiLCJvc2QiOiJhbGxvdyBydyB0YWcgY2Vw
      aGZzICo9KiJ9fV0nJycKICAgICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siY2FwcyI6IFsi
      bW9uIiwgImFsbG93IHIiLCAibWdyIiwgImFsbG93IHJ3IiwgIm9zZCIsICJhbGxvdyBydyB0YWcg
      Y2VwaGZzIG1ldGFkYXRhPSoiXSwgImVudGl0eSI6ICJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNp
      b25lciIsICJmb3JtYXQiOiAianNvbiIsICJwcmVmaXgiOiAiYXV0aCBnZXQtb3ItY3JlYXRlIn0n
      JyddID0gJycnW3siZW50aXR5IjoiY2xpZW50LmNzaS1jZXBoZnMtcHJvdmlzaW9uZXIiLCJrZXki
      OiJBUUJPZ3JOZUFGZ2NHQkFBdkdxS09BRDBEM3h4bVZZMFI5MTJkZz09IiwiY2FwcyI6eyJtZ3Ii
      OiJhbGxvdyBydyIsIm1vbiI6ImFsbG93IHIiLCJvc2QiOiJhbGxvdyBydyB0YWcgY2VwaGZzIG1l
      dGFkYXRhPSoifX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImNhcHMiOiBb
      Im1vbiIsICJhbGxvdyByLCBhbGxvdyBjb21tYW5kIHF1b3J1bV9zdGF0dXMsIGFsbG93IGNvbW1h
      bmQgdmVyc2lvbiIsICJtZ3IiLCAiYWxsb3cgY29tbWFuZCBjb25maWciLCAib3NkIiwgImFsbG93
      IHJ3eCBwb29sPWRlZmF1bHQucmd3Lm1ldGEsIGFsbG93IHIgcG9vbD0ucmd3LnJvb3QsIGFsbG93
      IHJ3IHBvb2w9ZGVmYXVsdC5yZ3cuY29udHJvbCwgYWxsb3cgcnggcG9vbD1kZWZhdWx0LnJndy5s
      b2csIGFsbG93IHggcG9vbD1kZWZhdWx0LnJndy5idWNrZXRzLmluZGV4Il0sICJlbnRpdHkiOiAi
      Y2xpZW50LmhlYWx0aGNoZWNrZXIiLCAiZm9ybWF0IjogImpzb24iLCAicHJlZml4IjogImF1dGgg
      Z2V0LW9yLWNyZWF0ZSJ9JycnXSA9ICcnJ1t7ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVja2Vy
      Iiwia2V5IjoiQVFERmtiTmVmdDViRlJBQVRuZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNhcHMi
      OnsibW9uIjogImFsbG93IHIsIGFsbG93IGNvbW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29t
      bWFuZCB2ZXJzaW9uIiwgIm1nciI6ICJhbGxvdyBjb21tYW5kIGNvbmZpZyIsICJvc2QiOiAiYWxs
      b3cgcnd4IHBvb2w9ZGVmYXVsdC5yZ3cubWV0YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxs
      b3cgcncgcG9vbD1kZWZhdWx0LnJndy5jb250cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQucmd3
      LmxvZywgYWxsb3cgeCBwb29sPWRlZmF1bHQucmd3LmJ1Y2tldHMuaW5kZXgifX1dJycnCiAgICAg
      ICAgc2VsZi5jbWRfb3V0cHV0X21hcFsnJyd7ImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJt
      Z3Igc2VydmljZXMifScnJ10gPSAnJyd7ImRhc2hib2FyZCI6ICJodHRwOi8vcm9vay1jZXBoLW1n
      ci1hLTU3Y2Y5Zjg0YmMtZjRqbmw6NzAwMC8iLCAicHJvbWV0aGV1cyI6ICJodHRwOi8vcm9vay1j
      ZXBoLW1nci1hLTU3Y2Y5Zjg0YmMtZjRqbmw6OTI4My8ifScnJwogICAgICAgIHNlbGYuY21kX291
      dHB1dF9tYXBbJycneyJlbnRpdHkiOiAiY2xpZW50LmhlYWx0aGNoZWNrZXIiLCAiZm9ybWF0Ijog
      Impzb24iLCAicHJlZml4IjogImF1dGggZ2V0In0nJyddID0gJycneyJkYXNoYm9hcmQiOiAiaHR0
      cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0am5sOjcwMDAvIiwgInByb21ldGhldXMi
      OiAiaHR0cDovL3Jvb2stY2VwaC1tZ3ItYS01N2NmOWY4NGJjLWY0am5sOjkyODMvIn0nJycKICAg
      ICAgICBzZWxmLmNtZF9vdXRwdXRfbWFwWycnJ3siZW50aXR5IjogImNsaWVudC5oZWFsdGhjaGVj
      a2VyIiwgImZvcm1hdCI6ICJqc29uIiwgInByZWZpeCI6ICJhdXRoIGdldCJ9JycnXSA9ICcnJ1t7
      ImVudGl0eSI6ImNsaWVudC5oZWFsdGhjaGVja2VyIiwia2V5IjoiQVFERmtiTmVmdDViRlJBQVRu
      ZExOVVNFS3J1b3p4aVppM2xyZEE9PSIsImNhcHMiOnsibW9uIjogImFsbG93IHIsIGFsbG93IGNv
      bW1hbmQgcXVvcnVtX3N0YXR1cywgYWxsb3cgY29tbWFuZCB2ZXJzaW9uIiwgIm1nciI6ICJhbGxv
      dyBjb21tYW5kIGNvbmZpZyIsICJvc2QiOiAiYWxsb3cgcnd4IHBvb2w9ZGVmYXVsdC5yZ3cubWV0
      YSwgYWxsb3cgciBwb29sPS5yZ3cucm9vdCwgYWxsb3cgcncgcG9vbD1kZWZhdWx0LnJndy5jb250
      cm9sLCBhbGxvdyByeCBwb29sPWRlZmF1bHQucmd3LmxvZywgYWxsb3cgeCBwb29sPWRlZmF1bHQu
      cmd3LmJ1Y2tldHMuaW5kZXgifX1dJycnCiAgICAgICAgc2VsZi5jbWRfb3V0cHV0X21hcFtzZWxm
      LmNtZF9uYW1lc1snY2Fwc19jaGFuZ2VfZGVmYXVsdF9wb29sX3ByZWZpeCddXSA9ICcnJ1t7fV0n
      JycKCiAgICBkZWYgc2h1dGRvd24oc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBnZXRfZnNp
      ZChzZWxmKToKICAgICAgICByZXR1cm4gJ2FmNGUxNjczLTBiNzItNDAyZC05OTBhLTIyZDI5MTlk
      MGYxYycKCiAgICBkZWYgY29uZl9yZWFkX2ZpbGUoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRl
      ZiBjb25uZWN0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgcG9vbF9leGlzdHMoc2VsZiwg
      cG9vbF9uYW1lKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBtb25fY29tbWFuZChzZWxm
      LCBjbWQsIG91dCk6CiAgICAgICAganNvbl9jbWQgPSBqc29uLmxvYWRzKGNtZCkKICAgICAgICBq
      c29uX2NtZF9zdHIgPSBqc29uLmR1bXBzKGpzb25fY21kLCBzb3J0X2tleXM9VHJ1ZSkKICAgICAg
      ICBjbWRfb3V0cHV0ID0gc2VsZi5jbWRfb3V0cHV0X21hcFtqc29uX2NtZF9zdHJdCiAgICAgICAg
      cmV0dXJuIHNlbGYucmV0dXJuX3ZhbCwgXAogICAgICAgICAgICBjbWRfb3V0cHV0LCBcCiAgICAg
      ICAgICAgICJ7fSIuZm9ybWF0KHNlbGYuZXJyX21lc3NhZ2UpLmVuY29kZSgndXRmLTgnKQoKICAg
      IGRlZiAgX2NvbnZlcnRfaG9zdG5hbWVfdG9faXAoc2VsZiwgaG9zdF9uYW1lKToKICAgICAgICBp
      cF9yZWdfeCA9IHJlLmNvbXBpbGUocidcZHsxLDN9LlxkezEsM30uXGR7MSwzfS5cZHsxLDN9JykK
      ICAgICAgICAjIGlmIHByb3ZpZGVkIGhvc3QgaXMgZGlyZWN0bHkgYW4gSVAgYWRkcmVzcywgcmV0
      dXJuIHRoZSBzYW1lCiAgICAgICAgaWYgaXBfcmVnX3gubWF0Y2goaG9zdF9uYW1lKToKICAgICAg
      ICAgICAgcmV0dXJuIGhvc3RfbmFtZQogICAgICAgIGltcG9ydCByYW5kb20KICAgICAgICBob3N0
      X2lwID0gc2VsZi5kdW1teV9ob3N0X2lwX21hcC5nZXQoaG9zdF9uYW1lLCAiIikKICAgICAgICBp
      ZiBub3QgaG9zdF9pcDoKICAgICAgICAgICAgaG9zdF9pcCA9ICIxNzIuOS57fS57fSIuZm9ybWF0
      KHJhbmRvbS5yYW5kaW50KDAsIDI1NSksIHJhbmRvbS5yYW5kaW50KDAsIDI1NSkpCiAgICAgICAg
      ICAgIHNlbGYuZHVtbXlfaG9zdF9pcF9tYXBbaG9zdF9uYW1lXSA9IGhvc3RfaXAKICAgICAgICBk
      ZWwgcmFuZG9tCiAgICAgICAgcmV0dXJuIGhvc3RfaXAKCiAgICBAY2xhc3NtZXRob2QKICAgIGRl
      ZiBSYWRvcyhjb25mZmlsZT1Ob25lKToKICAgICAgICByZXR1cm4gRHVtbXlSYWRvcygpCgoKCmNs
      YXNzIFJhZG9zSlNPTjoKICAgIEVYVEVSTkFMX1VTRVJfTkFNRSA9ICJjbGllbnQuaGVhbHRoY2hl
      Y2tlciIKICAgIEVNUFRZX09VVFBVVF9MSVNUID0gIkVtcHR5IG91dHB1dCBsaXN0IgogICAgREVG
      QVVMVF9SR1dfUE9PTF9QUkVGSVggPSAiZGVmYXVsdCIKICAgIERFRkFVTFRfTU9OSVRPUklOR19F
      TkRQT0lOVF9QT1JUID0gIjkyODMiCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2VuX2FyZ19w
      YXJzZXIoY2xzLCBhcmdzX3RvX3BhcnNlPU5vbmUpOgogICAgICAgIGFyZ1AgPSBhcmdwYXJzZS5B
      cmd1bWVudFBhcnNlcigpCgogICAgICAgIGNvbW1vbl9ncm91cCA9IGFyZ1AuYWRkX2FyZ3VtZW50
      X2dyb3VwKCdjb21tb24nKQogICAgICAgIGNvbW1vbl9ncm91cC5hZGRfYXJndW1lbnQoIi0tdmVy
      Ym9zZSIsICItdiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPSdzdG9yZV90cnVl
      JywgZGVmYXVsdD1GYWxzZSkKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCItLWNl
      cGgtY29uZiIsICItYyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJvdmlkZSBh
      IGNlcGggY29uZiBmaWxlLiIsIHR5cGU9c3RyKQogICAgICAgIGNvbW1vbl9ncm91cC5hZGRfYXJn
      dW1lbnQoIi0tcnVuLWFzLXVzZXIiLCAiLXUiLCBkZWZhdWx0PSIiLCB0eXBlPXN0ciwKICAgICAg
      ICAgICAgICAgICAgICAgICAgICBoZWxwPSJQcm92aWRlcyBhIHVzZXIgbmFtZSB0byBjaGVjayB0
      aGUgY2x1c3RlcidzIGhlYWx0aCBzdGF0dXMsIG11c3QgYmUgcHJlZml4ZWQgYnkgJ2NsaWVudC4n
      IikKICAgICAgICBjb21tb25fZ3JvdXAuYWRkX2FyZ3VtZW50KCItLWNsdXN0ZXItbmFtZSIsIGRl
      ZmF1bHQ9Im9wZW5zaGlmdC1zdG9yYWdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxw
      PSJDZXBoIGNsdXN0ZXIgbmFtZSIpCiAgICAgICAgY29tbW9uX2dyb3VwLmFkZF9hcmd1bWVudCgi
      LS1uYW1lc3BhY2UiLCBkZWZhdWx0PSIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9
      Ik5hbWVzcGFjZSB3aGVyZSBDZXBoQ2x1c3RlciBpcyBydW5uaW5nIikKICAgICAgICBjb21tb25f
      Z3JvdXAuYWRkX2FyZ3VtZW50KCItLXJndy1wb29sLXByZWZpeCIsIGRlZmF1bHQ9IiIsCiAgICAg
      ICAgICAgICAgICAgICAgICAgICAgaGVscD0iUkdXIFBvb2wgcHJlZml4IikKCiAgICAgICAgb3V0
      cHV0X2dyb3VwID0gYXJnUC5hZGRfYXJndW1lbnRfZ3JvdXAoJ291dHB1dCcpCiAgICAgICAgb3V0
      cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1mb3JtYXQiLCAiLXQiLCBjaG9pY2VzPVsianNvbiIs
      ICJiYXNoIl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdD0nanNvbicsIGhlbHA9
      IlByb3ZpZGVzIHRoZSBvdXRwdXQgZm9ybWF0IChqc29uIHwgYmFzaCkiKQogICAgICAgIG91dHB1
      dF9ncm91cC5hZGRfYXJndW1lbnQoIi0tb3V0cHV0IiwgIi1vIiwgZGVmYXVsdD0iIiwKICAgICAg
      ICAgICAgICAgICAgICAgICAgICBoZWxwPSJPdXRwdXQgd2lsbCBiZSBzdG9yZWQgaW50byB0aGUg
      cHJvdmlkZWQgZmlsZSIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1jZXBo
      ZnMtZmlsZXN5c3RlbS1uYW1lIiwgZGVmYXVsdD0iIiwKICAgICAgICAgICAgICAgICAgICAgICAg
      ICBoZWxwPSJQcm92aWRlcyB0aGUgbmFtZSBvZiB0aGUgQ2VwaCBmaWxlc3lzdGVtIikKICAgICAg
      ICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLWNlcGhmcy1kYXRhLXBvb2wtbmFtZSIsIGRl
      ZmF1bHQ9IiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJvdmlkZXMgdGhlIG5h
      bWUgb2YgdGhlIGNlcGhmcyBkYXRhIHBvb2wiKQogICAgICAgIG91dHB1dF9ncm91cC5hZGRfYXJn
      dW1lbnQoIi0tcmJkLWRhdGEtcG9vbC1uYW1lIiwgZGVmYXVsdD0iIiwgcmVxdWlyZWQ9RmFsc2Us
      CiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iUHJvdmlkZXMgdGhlIG5hbWUgb2YgdGhl
      IFJCRCBkYXRhcG9vbCIpCiAgICAgICAgb3V0cHV0X2dyb3VwLmFkZF9hcmd1bWVudCgiLS1yZ3ct
      ZW5kcG9pbnQiLCBkZWZhdWx0PSIiLCByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAgICAg
      ICAgICAgICBoZWxwPSJSYWRvcyBHYXRlV2F5IGVuZHBvaW50IChpbiA8SVA+OjxQT1JUPiBmb3Jt
      YXQpIikKICAgICAgICBvdXRwdXRfZ3JvdXAuYWRkX2FyZ3VtZW50KCItLW1vbml0b3JpbmctZW5k
      cG9pbnQiLCBkZWZhdWx0PSIiLCByZXF1aXJlZD1GYWxzZSwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICBoZWxwPSJDZXBoIE1hbmFnZXIgcHJvbWV0aGV1cyBleHBvcnRlciBlbmRwb2ludHMgY29t
      bWEgc2VwYXJhdGVkIGxpc3Qgb2YgPElQPiBlbnRyaWVzIikKICAgICAgICBvdXRwdXRfZ3JvdXAu
      YWRkX2FyZ3VtZW50KCItLW1vbml0b3JpbmctZW5kcG9pbnQtcG9ydCIsIGRlZmF1bHQ9IiIsIHJl
      cXVpcmVkPUZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IkNlcGggTWFuYWdl
      ciBwcm9tZXRoZXVzIGV4cG9ydGVyIHBvcnQiKQoKICAgICAgICB1cGdyYWRlX2dyb3VwID0gYXJn
      UC5hZGRfYXJndW1lbnRfZ3JvdXAoJ3VwZ3JhZGUnKQogICAgICAgIHVwZ3JhZGVfZ3JvdXAuYWRk
      X2FyZ3VtZW50KCItLXVwZ3JhZGUiLCBhY3Rpb249J3N0b3JlX3RydWUnLCBkZWZhdWx0PUZhbHNl
      LAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IlVwZ3JhZGVzIHRoZSAndXNlcicgd2l0
      aCBhbGwgdGhlIHBlcm1pc3Npb25zIG5lZWRlZCBmb3IgdGhlIG5ldyBjbHVzdGVyIHZlcnNpb24i
      KQoKICAgICAgICBpZiBhcmdzX3RvX3BhcnNlOgogICAgICAgICAgICBhc3NlcnQgdHlwZShhcmdz
      X3RvX3BhcnNlKSA9PSBsaXN0LCBcCiAgICAgICAgICAgICAgICAiQXJndW1lbnQgdG8gJ2dlbl9h
      cmdfcGFyc2VyJyBzaG91bGQgYmUgYSBsaXN0IgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGFy
      Z3NfdG9fcGFyc2UgPSBzeXMuYXJndlsxOl0KICAgICAgICByZXR1cm4gYXJnUC5wYXJzZV9hcmdz
      KGFyZ3NfdG9fcGFyc2UpCgogICAgZGVmIF9jaGVja19jb25mbGljdGluZ19vcHRpb25zKHNlbGYp
      OgogICAgICAgIGlmIG5vdCBzZWxmLl9hcmdfcGFyc2VyLnVwZ3JhZGUgYW5kIG5vdCBzZWxmLl9h
      cmdfcGFyc2VyLnJiZF9kYXRhX3Bvb2xfbmFtZToKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9u
      RmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJFaXRoZXIgJy0tdXBncmFkZScgb3Ig
      Jy0tcmJkLWRhdGEtcG9vbC1uYW1lIDxwb29sX25hbWU+JyBzaG91bGQgYmUgc3BlY2lmaWVkIikK
      ICAgICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLnVwZ3JhZGUgYW5kIHNlbGYuX2FyZ19wYXJzZXIu
      cmJkX2RhdGFfcG9vbF9uYW1lOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhj
      ZXB0aW9uKAogICAgICAgICAgICAgICAgIkJvdGggJy0tdXBncmFkZScgYW5kICctLXJiZC1kYXRh
      LXBvb2wtbmFtZSA8cG9vbF9uYW1lPicgc2hvdWxkIG5vdCBiZSBzcGVjaWZpZWQsIGNob29zZSBv
      bmx5IG9uZSIpCiAgICAgICAgIyBhIHVzZXIgbmFtZSBtdXN0IGJlIHByb3ZpZGVkIHdoaWxlIHVz
      aW5nICctLXVwZ3JhZGUnIG9wdGlvbgogICAgICAgIGlmIG5vdCBzZWxmLl9hcmdfcGFyc2VyLnJ1
      bl9hc191c2VyIGFuZCBzZWxmLl9hcmdfcGFyc2VyLnVwZ3JhZGU6CiAgICAgICAgICAgIHJhaXNl
      IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiUGxlYXNlIHByb3Zp
      ZGUgYW4gZXhpc3RpbmcgdXNlci1uYW1lIHRocm91Z2ggJy0tcnVuLWFzLXVzZXInIChvciAnLXUn
      KSBmbGFnIHdoaWxlIHVwZ3JhZGluZyIpCgogICAgZGVmIF9pbnZhbGlkX2VuZHBvaW50KHNlbGYs
      IGVuZHBvaW50X3N0cik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpcHY0LCBwb3J0ID0gZW5k
      cG9pbnRfc3RyLnNwbGl0KCc6JykKICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAg
      ICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJOb3Qg
      YSBwcm9wZXIgZW5kcG9pbnQ6IHt9LCA8SVB2ND46PFBPUlQ+LCBmb3JtYXQgaXMgZXhwZWN0ZWQi
      LmZvcm1hdChlbmRwb2ludF9zdHIpKQogICAgICAgIGlwUGFydHMgPSBpcHY0LnNwbGl0KCcuJykK
      ICAgICAgICBpZiBsZW4oaXBQYXJ0cykgIT0gNDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9u
      RmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJOb3QgYSB2YWxpZCBJUCBhZGRyZXNz
      OiB7fSIuZm9ybWF0KGlwdjQpKQogICAgICAgIGZvciBlYWNoUGFydCBpbiBpcFBhcnRzOgogICAg
      ICAgICAgICBpZiBub3QgZWFjaFBhcnQuaXNkaWdpdCgpOgogICAgICAgICAgICAgICAgcmFpc2Ug
      RXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiSVAgYWRkcmVz
      cyBwYXJ0cyBzaG91bGQgYmUgbnVtYmVyczoge30iLmZvcm1hdChpcHY0KSkKICAgICAgICAgICAg
      aW50UGFydCA9IGludChlYWNoUGFydCkKICAgICAgICAgICAgaWYgaW50UGFydCA8IDAgb3IgaW50
      UGFydCA+IDI1NDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24oCiAgICAgICAgICAgICAgICAgICAgIk91dCBvZiByYW5nZSBJUCBhZGRyZXNzZXM6IHt9Ii5m
      b3JtYXQoaXB2NCkpCiAgICAgICAgaWYgbm90IHBvcnQuaXNkaWdpdCgpOgogICAgICAgICAgICBy
      YWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCJQb3J0IG5vdCB2YWxpZDoge30iLmZvcm1h
      dChwb3J0KSkKICAgICAgICBpbnRQb3J0ID0gaW50KHBvcnQpCiAgICAgICAgaWYgaW50UG9ydCA8
      IDEgb3IgaW50UG9ydCA+IDIqKjE2LTE6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1
      cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiT3V0IG9mIHJhbmdlIHBvcnQgbnVtYmVyOiB7
      fSIuZm9ybWF0KHBvcnQpKQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBlbmRwb2ludF9k
      aWFsKHNlbGYsIGVuZHBvaW50X3N0ciwgdGltZW91dD0zKToKICAgICAgICAjIGlmIHRoZSAnY2x1
      c3RlcicgaW5zdGFuY2UgaXMgYSBkdW1teSBvbmUsCiAgICAgICAgIyBkb24ndCB0cnkgdG8gcmVh
      Y2ggb3V0IHRvIHRoZSBlbmRwb2ludAogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5jbHVzdGVy
      LCBEdW1teVJhZG9zKToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgcHJvdG9jb2xzID0gWyJo
      dHRwIiwgImh0dHBzIl0KICAgICAgICBmb3IgcHJlZml4IGluIHByb3RvY29sczoKICAgICAgICAg
      ICAgdHJ5OgogICAgICAgICAgICAgICAgZXAgPSAie306Ly97fSIuZm9ybWF0KHByZWZpeCwgZW5k
      cG9pbnRfc3RyKQogICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLmhlYWQoZXAsIHRpbWVvdXQ9
      dGltZW91dCkKICAgICAgICAgICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAg
      ICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBj
      b250aW51ZQogICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAg
      ICAgICJ1bmFibGUgdG8gY29ubmVjdCB0byBlbmRwb2ludDoge30iLmZvcm1hdChlbmRwb2ludF9z
      dHIpKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBhcmdfbGlzdD1Ob25lKToKICAgICAgICBzZWxm
      Lm91dF9tYXAgPSB7fQogICAgICAgIHNlbGYuX2V4Y2x1ZGVkX2tleXMgPSBzZXQoKQogICAgICAg
      IHNlbGYuX2FyZ19wYXJzZXIgPSBzZWxmLmdlbl9hcmdfcGFyc2VyKGFyZ3NfdG9fcGFyc2U9YXJn
      X2xpc3QpCiAgICAgICAgc2VsZi5fY2hlY2tfY29uZmxpY3Rpbmdfb3B0aW9ucygpCiAgICAgICAg
      c2VsZi5ydW5fYXNfdXNlciA9IHNlbGYuX2FyZ19wYXJzZXIucnVuX2FzX3VzZXIKICAgICAgICBz
      ZWxmLm91dHB1dF9maWxlID0gc2VsZi5fYXJnX3BhcnNlci5vdXRwdXQKICAgICAgICBzZWxmLmNl
      cGhfY29uZiA9IHNlbGYuX2FyZ19wYXJzZXIuY2VwaF9jb25mCiAgICAgICAgc2VsZi5NSU5fVVNF
      Ul9DQVBfUEVSTUlTU0lPTlMgPSB7CiAgICAgICAgICAgICAgICAnbWdyJzogJ2FsbG93IGNvbW1h
      bmQgY29uZmlnJywKICAgICAgICAgICAgICAgICdtb24nOiAnYWxsb3cgciwgYWxsb3cgY29tbWFu
      ZCBxdW9ydW1fc3RhdHVzLCBhbGxvdyBjb21tYW5kIHZlcnNpb24nLAogICAgICAgICAgICAgICAg
      J29zZCc6ICJhbGxvdyByd3ggcG9vbD17MH0ucmd3Lm1ldGEsICIgKwogICAgICAgICAgICAgICAg
      ICAgICAgICJhbGxvdyByIHBvb2w9LnJndy5yb290LCAiICsKICAgICAgICAgICAgICAgICAgICAg
      ICAiYWxsb3cgcncgcG9vbD17MH0ucmd3LmNvbnRyb2wsICIgKwogICAgICAgICAgICAgICAgICAg
      ICAgICJhbGxvdyByeCBwb29sPXswfS5yZ3cubG9nLCAiICsKICAgICAgICAgICAgICAgICAgICAg
      ICAiYWxsb3cgeCBwb29sPXswfS5yZ3cuYnVja2V0cy5pbmRleCIKICAgICAgICB9CiAgICAgICAg
      IyBpZiB1c2VyIG5vdCBwcm92aWRlZCwgZ2l2ZSBhIGRlZmF1bHQgdXNlcgogICAgICAgIGlmIG5v
      dCBzZWxmLnJ1bl9hc191c2VyIGFuZCBub3Qgc2VsZi5fYXJnX3BhcnNlci51cGdyYWRlOgogICAg
      ICAgICAgICBzZWxmLnJ1bl9hc191c2VyID0gc2VsZi5FWFRFUk5BTF9VU0VSX05BTUUKICAgICAg
      ICBpZiBub3Qgc2VsZi5fYXJnX3BhcnNlci5yZ3dfcG9vbF9wcmVmaXggYW5kIG5vdCBzZWxmLl9h
      cmdfcGFyc2VyLnVwZ3JhZGU6CiAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xf
      cHJlZml4ID0gc2VsZi5ERUZBVUxUX1JHV19QT09MX1BSRUZJWAogICAgICAgIGlmIHNlbGYuY2Vw
      aF9jb25mOgogICAgICAgICAgICBzZWxmLmNsdXN0ZXIgPSByYWRvcy5SYWRvcyhjb25mZmlsZT1z
      ZWxmLmNlcGhfY29uZikKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmNsdXN0ZXIgPSBy
      YWRvcy5SYWRvcygpCiAgICAgICAgICAgIHNlbGYuY2x1c3Rlci5jb25mX3JlYWRfZmlsZSgpCiAg
      ICAgICAgc2VsZi5jbHVzdGVyLmNvbm5lY3QoKQoKICAgIGRlZiBzaHV0ZG93bihzZWxmKToKICAg
      ICAgICBpZiBzZWxmLmNsdXN0ZXIuc3RhdGUgPT0gImNvbm5lY3RlZCI6CiAgICAgICAgICAgIHNl
      bGYuY2x1c3Rlci5zaHV0ZG93bigpCgogICAgZGVmIGdldF9mc2lkKHNlbGYpOgogICAgICAgIHJl
      dHVybiBzdHIoc2VsZi5jbHVzdGVyLmdldF9mc2lkKCkpCgogICAgZGVmIF9jb21tb25fY21kX2pz
      b25fZ2VuKHNlbGYsIGNtZF9qc29uKToKICAgICAgICBjbWQgPSBqc29uLmR1bXBzKGNtZF9qc29u
      LCBzb3J0X2tleXM9VHJ1ZSkKICAgICAgICByZXRfdmFsLCBjbWRfb3V0LCBlcnJfbXNnID0gc2Vs
      Zi5jbHVzdGVyLm1vbl9jb21tYW5kKGNtZCwgYicnKQogICAgICAgIGlmIHNlbGYuX2FyZ19wYXJz
      ZXIudmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoIkNvbW1hbmQgSW5wdXQ6IHt9Ii5mb3JtYXQo
      Y21kKSkKICAgICAgICAgICAgcHJpbnQoIlJldHVybiBWYWw6IHt9XG5Db21tYW5kIE91dHB1dDog
      e31cbkVycm9yIE1lc3NhZ2U6IHt9XG4tLS0tLS0tLS0tXG4iLmZvcm1hdCgKICAgICAgICAgICAg
      ICAgICAgcmV0X3ZhbCwgY21kX291dCwgZXJyX21zZykpCiAgICAgICAganNvbl9vdXQgPSB7fQog
      ICAgICAgICMgaWYgdGhlcmUgaXMgbm8gZXJyb3IgKGkuZTsgcmV0X3ZhbCBpcyBaRVJPKSBhbmQg
      J2NtZF9vdXQnIGlzIG5vdCBlbXB0eQogICAgICAgICMgdGhlbiBjb252ZXJ0ICdjbWRfb3V0JyB0
      byBhIGpzb24gb3V0cHV0CiAgICAgICAgaWYgcmV0X3ZhbCA9PSAwIGFuZCBjbWRfb3V0OgogICAg
      ICAgICAgICBqc29uX291dCA9IGpzb24ubG9hZHMoY21kX291dCkKICAgICAgICByZXR1cm4gcmV0
      X3ZhbCwganNvbl9vdXQsIGVycl9tc2cKCiAgICBkZWYgZ2V0X2NlcGhfZXh0ZXJuYWxfbW9uX2Rh
      dGEoc2VsZik6CiAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJxdW9ydW1fc3RhdHVzIiwg
      ImZvcm1hdCI6ICJqc29uIn0KICAgICAgICByZXRfdmFsLCBqc29uX291dCwgZXJyX21zZyA9IHNl
      bGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAgICAgIyBpZiB0aGVyZSBpcyBh
      biB1bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwKICAgICAgICBpZiByZXRfdmFsICE9IDAgb3IgbGVuKGpz
      b25fb3V0KSA9PSAwOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9u
      KAogICAgICAgICAgICAgICAgIidxdW9ydW1fc3RhdHVzJyBjb21tYW5kIGZhaWxlZC5cbiIgKwog
      ICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cgaWYgcmV0X3ZhbCAhPSAw
      IGVsc2Ugc2VsZi5FTVBUWV9PVVRQVVRfTElTVCkpCiAgICAgICAgcV9sZWFkZXJfbmFtZSA9IGpz
      b25fb3V0WydxdW9ydW1fbGVhZGVyX25hbWUnXQogICAgICAgIHFfbGVhZGVyX2RldGFpbHMgPSB7
      fQogICAgICAgIHFfbGVhZGVyX21hdGNoaW5nX2xpc3QgPSBbbCBmb3IgbCBpbiBqc29uX291dFsn
      bW9ubWFwJ11bJ21vbnMnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbFsn
      bmFtZSddID09IHFfbGVhZGVyX25hbWVdCiAgICAgICAgaWYgbGVuKHFfbGVhZGVyX21hdGNoaW5n
      X2xpc3QpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24o
      Ik5vIG1hdGNoaW5nICdtb24nIGRldGFpbHMgZm91bmQiKQogICAgICAgIHFfbGVhZGVyX2RldGFp
      bHMgPSBxX2xlYWRlcl9tYXRjaGluZ19saXN0WzBdCiAgICAgICAgaXBfcG9ydCA9IHN0cihxX2xl
      YWRlcl9kZXRhaWxzWydwdWJsaWNfYWRkciddLnNwbGl0KCcvJylbMF0pCiAgICAgICAgcmV0dXJu
      ICJ7fT17fSIuZm9ybWF0KHN0cihxX2xlYWRlcl9uYW1lKSwgaXBfcG9ydCkKCiAgICBkZWYgX2pv
      aW5faG9zdF9wb3J0KHNlbGYsIGVuZHBvaW50LCBwb3J0KToKICAgICAgICBwb3J0ID0gInt9Ii5m
      b3JtYXQocG9ydCkKICAgICAgICAjIHJlZ2V4IHRvIGNoZWNrIHRoZSBnaXZlbiBlbmRwb2ludCBp
      cyBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMKICAgICAgICBpcHY2X3JlZ3ggPSByZS5jb21w
      aWxlKHInXlxbW15dXSpcXSQnKQogICAgICAgICMgZW5kcG9pbnQgaGFzICc6JyBpbiBpdCBhbmQg
      aWYgbm90IChhbHJlYWR5KSBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMKICAgICAgICBpZiBl
      bmRwb2ludC5jb3VudCgnOicpIGFuZCBub3QgaXB2Nl9yZWd4Lm1hdGNoKGVuZHBvaW50KToKICAg
      ICAgICAgICAgZW5kcG9pbnQgPSAnW3t9XScuZm9ybWF0KGVuZHBvaW50KQogICAgICAgIGlmIG5v
      dCBwb3J0OgogICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQKICAgICAgICByZXR1cm4gJzonLmpv
      aW4oW2VuZHBvaW50LCBwb3J0XSkKCiAgICBkZWYgX2NvbnZlcnRfaG9zdG5hbWVfdG9faXAoc2Vs
      ZiwgaG9zdF9uYW1lKToKICAgICAgICAjIGlmICdjbHVzdGVyJyBpbnN0YW5jZSBpcyBhIGR1bW15
      IHR5cGUsCiAgICAgICAgIyBjYWxsIHRoZSBkdW1teSBpbnN0YW5jZSdzICJjb252ZXJ0IiBtZXRo
      b2QKICAgICAgICBpZiBub3QgaG9zdF9uYW1lOgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25G
      YWlsdXJlRXhjZXB0aW9uKCJFbXB0eSBob3N0bmFtZSBwcm92aWRlZCIpCiAgICAgICAgaWYgaXNp
      bnN0YW5jZShzZWxmLmNsdXN0ZXIsIER1bW15UmFkb3MpOgogICAgICAgICAgICByZXR1cm4gc2Vs
      Zi5jbHVzdGVyLl9jb252ZXJ0X2hvc3RuYW1lX3RvX2lwKGhvc3RfbmFtZSkKICAgICAgICBpbXBv
      cnQgc29ja2V0CiAgICAgICAgaXAgPSBzb2NrZXQuZ2V0aG9zdGJ5bmFtZShob3N0X25hbWUpCiAg
      ICAgICAgZGVsIHNvY2tldAogICAgICAgIHJldHVybiBpcAoKICAgIGRlZiBnZXRfYWN0aXZlX2Nl
      cGhfbWdyKHNlbGYpOgogICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9IHNlbGYuX2Fy
      Z19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0CiAgICAgICAgbW9uaXRvcmluZ19lbmRw
      b2ludF9pcCA9IHNlbGYuX2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludAogICAgICAgIGlm
      IG5vdCBtb25pdG9yaW5nX2VuZHBvaW50X2lwOgogICAgICAgICAgICBjbWRfanNvbiA9IHsicHJl
      Zml4IjogIm1nciBzZXJ2aWNlcyIsICJmb3JtYXQiOiAianNvbiJ9CiAgICAgICAgICAgIHJldF92
      YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNv
      bikKICAgICAgICAgICAgIyBpZiB0aGVyZSBpcyBhbiB1bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwKICAg
      ICAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAg
      ICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAg
      ICAgIidtZ3Igc2VydmljZXMnIGNvbW1hbmQgZmFpbGVkLlxuIiArCiAgICAgICAgICAgICAgICAg
      ICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cgaWYgcmV0X3ZhbCAhPSAwIGVsc2Ugc2VsZi5F
      TVBUWV9PVVRQVVRfTElTVCkpCiAgICAgICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnQgPSBqc29u
      X291dC5nZXQoJ3Byb21ldGhldXMnKQogICAgICAgICAgICBpZiBub3QgbW9uaXRvcmluZ19lbmRw
      b2ludDoKICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAg
      ICAgICAgICAgICAgICAgICAgIidwcm9tZXRoZXVzJyBzZXJ2aWNlIG5vdCBmb3VuZCwgaXMgdGhl
      IGV4cG9ydGVyIGVuYWJsZWQ/Jy5cbiIpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAg
      IHBhcnNlZF9lbmRwb2ludCA9IHVybHBhcnNlKG1vbml0b3JpbmdfZW5kcG9pbnQpCiAgICAgICAg
      ICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFp
      bHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgImludmFsaWQgZW5kcG9pbnQ6
      IHt9Ii5mb3JtYXQobW9uaXRvcmluZ19lbmRwb2ludCkpCiAgICAgICAgICAgIG1vbml0b3Jpbmdf
      ZW5kcG9pbnRfaXAgPSBwYXJzZWRfZW5kcG9pbnQuaG9zdG5hbWUKICAgICAgICAgICAgaWYgbm90
      IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydDoKICAgICAgICAgICAgICAgIG1vbml0b3JpbmdfZW5k
      cG9pbnRfcG9ydCA9ICJ7fSIuZm9ybWF0KHBhcnNlZF9lbmRwb2ludC5wb3J0KQoKICAgICAgICAj
      IGlmIG1vbml0b3JpbmcgZW5kcG9pbnQgcG9ydCBpcyBub3Qgc2V0LCBwdXQgYSBkZWZhdWx0IG1v
      biBwb3J0CiAgICAgICAgaWYgbm90IG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydDoKICAgICAgICAg
      ICAgbW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gc2VsZi5ERUZBVUxUX01PTklUT1JJTkdfRU5E
      UE9JTlRfUE9SVAoKICAgICAgICB0cnk6CiAgICAgICAgICAgIG1vbml0b3JpbmdfZW5kcG9pbnRf
      aXAgPSBzZWxmLl9jb252ZXJ0X2hvc3RuYW1lX3RvX2lwKG1vbml0b3JpbmdfZW5kcG9pbnRfaXAp
      CiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0
      aW9uKAogICAgICAgICAgICAgICAgInVuYWJsZSB0byBjb252ZXJ0IGEgaG9zdG5hbWUgdG8gYW4g
      SVAgYWRkcmVzcywgbW9uaXRvcmluZyBob3N0IG5hbWU6IHt9Ii5mb3JtYXQobW9uaXRvcmluZ19l
      bmRwb2ludF9pcCkpCiAgICAgICAgbW9uaXRvcmluZ19lbmRwb2ludCA9IHNlbGYuX2pvaW5faG9z
      dF9wb3J0KG1vbml0b3JpbmdfZW5kcG9pbnRfaXAsIG1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCkK
      ICAgICAgICBzZWxmLl9pbnZhbGlkX2VuZHBvaW50KG1vbml0b3JpbmdfZW5kcG9pbnQpCiAgICAg
      ICAgc2VsZi5lbmRwb2ludF9kaWFsKG1vbml0b3JpbmdfZW5kcG9pbnQpCgogICAgICAgIHNlbGYu
      dmFsaWRhdGVfbW9uaXRvcmluZ19lbmRwb2ludChtb25pdG9yaW5nX2VuZHBvaW50X3BvcnQpCiAg
      ICAgICAgcmV0dXJuIG1vbml0b3JpbmdfZW5kcG9pbnRfaXAsIG1vbml0b3JpbmdfZW5kcG9pbnRf
      cG9ydAoKICAgIGRlZiB2YWxpZGF0ZV9tb25pdG9yaW5nX2VuZHBvaW50KHNlbGYsIHBvcnQpOgog
      ICAgICAgIGlmIHBvcnQgIT0gc2VsZi5ERUZBVUxUX01PTklUT1JJTkdfRU5EUE9JTlRfUE9SVDoK
      ICAgICAgICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAg
      ICAgICIncHJvbWV0aGV1cycgc2VydmljZSBwb3J0IG11c3QgbGlzdGVuIG9uIHt9LiBZb3UgY2Fu
      IGNoYW5nZSBpdCB3aXRoICdjZXBoIGNvbmZpZyBzZXQgbWdyIG1nci9wcm9tZXRoZXVzL3NlcnZl
      cl9wb3J0IHt9Jy5cbiIuZm9ybWF0KHNlbGYuREVGQVVMVF9NT05JVE9SSU5HX0VORFBPSU5UX1BP
      UlQsIHNlbGYuREVGQVVMVF9NT05JVE9SSU5HX0VORFBPSU5UX1BPUlQpKQoKICAgIGRlZiBjcmVh
      dGVfY2VwaENTSUtleXJpbmdfY2VwaEZTUHJvdmlzaW9uZXIoc2VsZik6CiAgICAgICAgJycnCiAg
      ICAgICAgY29tbWFuZDogY2VwaCBhdXRoIGdldC1vci1jcmVhdGUgY2xpZW50LmNzaS1jZXBoZnMt
      cHJvdmlzaW9uZXIgbW9uICdhbGxvdyByJyBtZ3IgJ2FsbG93IHJ3JyBvc2QgJ2FsbG93IHJ3IHRh
      ZyBjZXBoZnMgbWV0YWRhdGE9KicKICAgICAgICAnJycKICAgICAgICBjbWRfanNvbiA9IHsicHJl
      Zml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6
      ICJjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAgICAgICAgImNh
      cHMiOiBbIm1vbiIsICJhbGxvdyByIiwgIm1nciIsICJhbGxvdyBydyIsCiAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgIm9zZCIsICJhbGxvdyBydyB0YWcgY2VwaGZzIG1ldGFkYXRhPSoiXSwK
      ICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogImpzb24ifQogICAgICAgIHJldF92YWwsIGpz
      b25fb3V0LCBlcnJfbXNnID0gc2VsZi5fY29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAg
      ICAgICAjIGlmIHRoZXJlIGlzIGFuIHVuc3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJl
      dF92YWwgIT0gMCBvciBsZW4oanNvbl9vdXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1
      dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAiJ2F1dGggZ2V0LW9yLWNyZWF0
      ZSBjbGllbnQuY3NpLWNlcGhmcy1wcm92aXNpb25lcicgY29tbWFuZCBmYWlsZWQuXG4iICsKICAg
      ICAgICAgICAgICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBl
      bHNlIHNlbGYuRU1QVFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJldHVybiBzdHIoanNvbl9vdXRb
      MF1bJ2tleSddKQoKICAgIGRlZiBjcmVhdGVfY2VwaENTSUtleXJpbmdfY2VwaEZTTm9kZShzZWxm
      KToKICAgICAgICBjbWRfanNvbiA9IHsicHJlZml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAg
      ICAgICAgICAgICAgICAgICAgImVudGl0eSI6ICJjbGllbnQuY3NpLWNlcGhmcy1ub2RlIiwKICAg
      ICAgICAgICAgICAgICAgICAiY2FwcyI6IFsibW9uIiwgImFsbG93IHIiLAogICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICJtZ3IiLCAiYWxsb3cgcnciLAogICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICJvc2QiLCAiYWxsb3cgcncgdGFnIGNlcGhmcyAqPSoiLAogICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICJtZHMiLCAiYWxsb3cgcnciXSwKICAgICAgICAgICAgICAgICAgICAiZm9y
      bWF0IjogImpzb24ifQogICAgICAgIHJldF92YWwsIGpzb25fb3V0LCBlcnJfbXNnID0gc2VsZi5f
      Y29tbW9uX2NtZF9qc29uX2dlbihjbWRfanNvbikKICAgICAgICAjIGlmIHRoZXJlIGlzIGFuIHVu
      c3VjY2Vzc2Z1bCBhdHRlbXB0LAogICAgICAgIGlmIHJldF92YWwgIT0gMCBvciBsZW4oanNvbl9v
      dXQpID09IDA6CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAg
      ICAgICAgICAgICAgICAiJ2F1dGggZ2V0LW9yLWNyZWF0ZSBjbGllbnQuY3NpLWNlcGhmcy1ub2Rl
      JyBjb21tYW5kIGZhaWxlZC5cbiIgKwogICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0
      KGVycl9tc2cgaWYgcmV0X3ZhbCAhPSAwIGVsc2Ugc2VsZi5FTVBUWV9PVVRQVVRfTElTVCkpCiAg
      ICAgICAgcmV0dXJuIHN0cihqc29uX291dFswXVsna2V5J10pCgogICAgZGVmIGNyZWF0ZV9jZXBo
      Q1NJS2V5cmluZ19SQkRQcm92aXNpb25lcihzZWxmKToKICAgICAgICBjbWRfanNvbiA9IHsicHJl
      Zml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6
      ICJjbGllbnQuY3NpLXJiZC1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAgICAgICAgImNhcHMi
      OiBbIm1vbiIsICJwcm9maWxlIHJiZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1n
      ciIsICJhbGxvdyBydyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9zZCIsICJwcm9m
      aWxlIHJiZCJdLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAianNvbiJ9CiAgICAgICAg
      cmV0X3ZhbCwganNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21tb25fY21kX2pzb25fZ2VuKGNt
      ZF9qc29uKQogICAgICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNjZXNzZnVsIGF0dGVtcHQsCiAg
      ICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAg
      cmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICInYXV0aCBn
      ZXQtb3ItY3JlYXRlIGNsaWVudC5jc2ktcmJkLXByb3Zpc2lvbmVyJyBjb21tYW5kIGZhaWxlZC5c
      biIgKwogICAgICAgICAgICAgICAgIkVycm9yOiB7fSIuZm9ybWF0KGVycl9tc2cgaWYgcmV0X3Zh
      bCAhPSAwIGVsc2Ugc2VsZi5FTVBUWV9PVVRQVVRfTElTVCkpCiAgICAgICAgcmV0dXJuIHN0cihq
      c29uX291dFswXVsna2V5J10pCgogICAgZGVmIGdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMo
      c2VsZik6CiAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJmcyBscyIsICJmb3JtYXQiOiAi
      anNvbiJ9CiAgICAgICAgcmV0X3ZhbCwganNvbl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21tb25f
      Y21kX2pzb25fZ2VuKGNtZF9qc29uKQogICAgICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNjZXNz
      ZnVsIGF0dGVtcHQsIHJlcG9ydCBhbiBlcnJvcgogICAgICAgIGlmIHJldF92YWwgIT0gMDoKICAg
      ICAgICAgICAgIyBpZiBmcyBhbmQgZGF0YV9wb29sIGFyZ3VtZW50cyBhcmUgbm90IHNldCwgc2ls
      ZW50bHkgcmV0dXJuCiAgICAgICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2ZpbGVz
      eXN0ZW1fbmFtZSA9PSAiIiBhbmQgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25h
      bWUgPT0gIiI6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgIyBpZiB1c2VyIGhh
      cyBwcm92aWRlZCBhbnkgb2YgdGhlCiAgICAgICAgICAgICMgJy0tY2VwaGZzLWZpbGVzeXN0ZW0t
      bmFtZScgb3IgJy0tY2VwaGZzLWRhdGEtcG9vbC1uYW1lJyBhcmd1bWVudHMsCiAgICAgICAgICAg
      ICMgcmFpc2UgYW4gZXhjZXB0aW9uIGFzIHdlIGFyZSB1bmFibGUgdG8gdmVyaWZ5IHRoZSBhcmdz
      CiAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAg
      ICAgICAiJ2ZzIGxzJyBjZXBoIGNhbGwgZmFpbGVkIHdpdGggZXJyb3I6IHt9Ii5mb3JtYXQoZXJy
      X21zZykpCgogICAgICAgIG1hdGNoaW5nX2pzb25fb3V0ID0ge30KICAgICAgICAjIGlmICctLWNl
      cGhmcy1maWxlc3lzdGVtLW5hbWUnIGFyZ3VtZW50IGlzIHByb3ZpZGVkLAogICAgICAgICMgY2hl
      Y2sgd2hldGhlciB0aGUgcHJvdmlkZWQgZmlsZXN5c3RlbS1uYW1lIGV4aXN0cyBvciBub3QKICAg
      ICAgICBpZiBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWU6CiAgICAgICAg
      ICAgICMgZ2V0IHRoZSBtYXRjaGluZyBsaXN0CiAgICAgICAgICAgIG1hdGNoaW5nX2pzb25fb3V0
      X2xpc3QgPSBbbWF0Y2hlZCBmb3IgbWF0Y2hlZCBpbiBqc29uX291dAogICAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAgICAgICAgIGlmIHN0cihtYXRjaGVkWyduYW1lJ10pID09IHNlbGYuX2Fy
      Z19wYXJzZXIuY2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZV0KICAgICAgICAgICAgIyB1bmFibGUgdG8g
      ZmluZCBhIG1hdGNoaW5nIGZzLW5hbWUsIHJhaXNlIGFuIGVycm9yCiAgICAgICAgICAgIGlmIGxl
      bihtYXRjaGluZ19qc29uX291dF9saXN0KSA9PSAwOgogICAgICAgICAgICAgICAgcmFpc2UgRXhl
      Y3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAoIkZpbGVzeXN0ZW0g
      cHJvdmlkZWQsICd7fScsICIgKwogICAgICAgICAgICAgICAgICAgICAiaXMgbm90IGZvdW5kIGlu
      IHRoZSBmcy1saXN0OiAne30nIikuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICBzZWxm
      Ll9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWUsCiAgICAgICAgICAgICAgICAgICAg
      ICAgIFtzdHIoeFsnbmFtZSddKSBmb3IgeCBpbiBqc29uX291dF0pKQogICAgICAgICAgICBtYXRj
      aGluZ19qc29uX291dCA9IG1hdGNoaW5nX2pzb25fb3V0X2xpc3RbMF0KICAgICAgICAjIGlmIGNl
      cGhmcyBmaWxlc3lzdGVtIG5hbWUgaXMgbm90IHByb3ZpZGVkLAogICAgICAgICMgdHJ5IHRvIGdl
      dCBhIGRlZmF1bHQgZnMgbmFtZSBieSBkb2luZyB0aGUgZm9sbG93aW5nCiAgICAgICAgZWxzZToK
      ICAgICAgICAgICAgIyBhLiBjaGVjayBpZiB0aGVyZSBpcyBvbmx5IG9uZSBmaWxlc3lzdGVtIGlz
      IHByZXNlbnQKICAgICAgICAgICAgaWYgbGVuKGpzb25fb3V0KSA9PSAxOgogICAgICAgICAgICAg
      ICAgbWF0Y2hpbmdfanNvbl9vdXQgPSBqc29uX291dFswXQogICAgICAgICAgICAjIGIuIG9yIGVs
      c2UsIGNoZWNrIGlmIGRhdGFfcG9vbCBuYW1lIGlzIHByb3ZpZGVkCiAgICAgICAgICAgIGVsaWYg
      c2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWU6CiAgICAgICAgICAgICAgICAj
      IGFuZCBpZiBwcmVzZW50LCBjaGVjayB3aGV0aGVyIHRoZXJlIGV4aXN0cyBhIGZzIHdoaWNoIGhh
      cyB0aGUgZGF0YV9wb29sCiAgICAgICAgICAgICAgICBmb3IgZWFjaEogaW4ganNvbl9vdXQ6CiAg
      ICAgICAgICAgICAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25h
      bWUgaW4gZWFjaEpbJ2RhdGFfcG9vbHMnXToKICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hp
      bmdfanNvbl9vdXQgPSBlYWNoSgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAg
      ICAgICAgICAgIyBpZiB0aGVyZSBpcyBubyBtYXRjaGluZyBmcyBleGlzdHMsIHRoYXQgbWVhbnMg
      cHJvdmlkZWQgZGF0YV9wb29sIG5hbWUgaXMgaW52YWxpZAogICAgICAgICAgICAgICAgaWYgbm90
      IG1hdGNoaW5nX2pzb25fb3V0OgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZh
      aWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICJQcm92aWRlZCBkYXRhX3Bv
      b2wgbmFtZSwge30sIGRvZXMgbm90IGV4aXN0cyIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAg
      ICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWUpKQogICAgICAg
      ICAgICAjIGMuIGlmIG5vdGhpbmcgaXMgc2V0IGFuZCBjb3VsZG4ndCBmaW5kIGEgZGVmYXVsdCwK
      ICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMganVzdCByZXR1cm4gc2lsZW50bHkK
      ICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiBtYXRjaGluZ19qc29uX291dDoKICAg
      ICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZmlsZXN5c3RlbV9uYW1lID0gc3RyKAog
      ICAgICAgICAgICAgICAgbWF0Y2hpbmdfanNvbl9vdXRbJ25hbWUnXSkKCiAgICAgICAgaWYgdHlw
      ZShtYXRjaGluZ19qc29uX291dFsnZGF0YV9wb29scyddKSA9PSBsaXN0OgogICAgICAgICAgICAj
      IGlmIHRoZSB1c2VyIGhhcyBhbHJlYWR5IHByb3ZpZGVkIGRhdGEtcG9vbC1uYW1lLAogICAgICAg
      ICAgICAjIHRocm91Z2ggLS1jZXBoZnMtZGF0YS1wb29sLW5hbWUKICAgICAgICAgICAgaWYgc2Vs
      Zi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWU6CiAgICAgICAgICAgICAgICAjIGlm
      IHRoZSBwcm92aWRlZCBuYW1lIGlzIG5vdCBtYXRjaGluZyB3aXRoIHRoZSBvbmUgaW4gdGhlIGxp
      c3QKICAgICAgICAgICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIuY2VwaGZzX2RhdGFfcG9vbF9u
      YW1lIG5vdCBpbiBtYXRjaGluZ19qc29uX291dFsnZGF0YV9wb29scyddOgogICAgICAgICAgICAg
      ICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAg
      ICAgICAgICJ7fTogJ3t9Jywge306IHt9Ii5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICAiUHJvdmlkZWQgZGF0YS1wb29sLW5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWUsCiAgICAgICAgICAgICAg
      ICAgICAgICAgICAgICAiZG9lc24ndCBtYXRjaCBmcm9tIHRoZSBkYXRhLXBvb2xzJyBsaXN0IiwK
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHIoeCkgZm9yIHggaW4gbWF0Y2hpbmdfanNv
      bl9vdXRbJ2RhdGFfcG9vbHMnXV0pKQogICAgICAgICAgICAjIGlmIGRhdGFfcG9vbCBuYW1lIGlz
      IG5vdCBwcm92aWRlZCwKICAgICAgICAgICAgIyB0aGVuIHRyeSB0byBmaW5kIGEgZGVmYXVsdCBk
      YXRhIHBvb2wgbmFtZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyBpZiBubyBk
      YXRhX3Bvb2xzIGV4aXN0LCBzaWxlbnRseSByZXR1cm4KICAgICAgICAgICAgICAgIGlmIGxlbiht
      YXRjaGluZ19qc29uX291dFsnZGF0YV9wb29scyddKSA9PSAwOgogICAgICAgICAgICAgICAgICAg
      IHJldHVybgogICAgICAgICAgICAgICAgc2VsZi5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29s
      X25hbWUgPSBzdHIoCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdfanNvbl9vdXRbJ2RhdGFf
      cG9vbHMnXVswXSkKICAgICAgICAgICAgIyBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSAnZGF0
      YV9wb29scycgZXhpc3QsCiAgICAgICAgICAgICMgdGhlbiB3YXJuIHRoZSB1c2VyIHRoYXQgd2Ug
      YXJlIHVzaW5nIHRoZSBzZWxlY3RlZCBuYW1lCiAgICAgICAgICAgIGlmIGxlbihtYXRjaGluZ19q
      c29uX291dFsnZGF0YV9wb29scyddKSA+IDE6CiAgICAgICAgICAgICAgICBwcmludCgie306IHt9
      XG57fTogJ3t9J1xuIi5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgIldBUk5JTkc6IE11bHRp
      cGxlIGRhdGEgcG9vbHMgZGV0ZWN0ZWQiLAogICAgICAgICAgICAgICAgICAgIFtzdHIoeCkgZm9y
      IHggaW4gbWF0Y2hpbmdfanNvbl9vdXRbJ2RhdGFfcG9vbHMnXV0sCiAgICAgICAgICAgICAgICAg
      ICAgIlVzaW5nIHRoZSBkYXRhLXBvb2wiLAogICAgICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19w
      YXJzZXIuY2VwaGZzX2RhdGFfcG9vbF9uYW1lKSkKCiAgICBkZWYgY3JlYXRlX2NlcGhDU0lLZXly
      aW5nX1JCRE5vZGUoc2VsZik6CiAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJhdXRoIGdl
      dC1vci1jcmVhdGUiLAogICAgICAgICAgICAgICAgICAgICJlbnRpdHkiOiAiY2xpZW50LmNzaS1y
      YmQtbm9kZSIsCiAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBbIm1vbiIsICJwcm9maWxlIHJi
      ZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9zZCIsICJwcm9maWxlIHJiZCJdLAog
      ICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAianNvbiJ9CiAgICAgICAgcmV0X3ZhbCwganNv
      bl9vdXQsIGVycl9tc2cgPSBzZWxmLl9jb21tb25fY21kX2pzb25fZ2VuKGNtZF9qc29uKQogICAg
      ICAgICMgaWYgdGhlcmUgaXMgYW4gdW5zdWNjZXNzZnVsIGF0dGVtcHQsCiAgICAgICAgaWYgcmV0
      X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICInYXV0aCBnZXQtb3ItY3JlYXRl
      IGNsaWVudC5jc2ktcmJkLW5vZGUnIGNvbW1hbmQgZmFpbGVkXG4iICsKICAgICAgICAgICAgICAg
      ICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBlbHNlIHNlbGYuRU1Q
      VFlfT1VUUFVUX0xJU1QpKQogICAgICAgIHJldHVybiBzdHIoanNvbl9vdXRbMF1bJ2tleSddKQoK
      ICAgIGRlZiBjcmVhdGVfY2hlY2tlcktleShzZWxmKToKICAgICAgICBjbWRfanNvbiA9IHsicHJl
      Zml4IjogImF1dGggZ2V0LW9yLWNyZWF0ZSIsCiAgICAgICAgICAgICAgICAgICAgImVudGl0eSI6
      IHNlbGYucnVuX2FzX3VzZXIsCiAgICAgICAgICAgICAgICAgICAgImNhcHMiOiBbIm1vbiIsIHNl
      bGYuTUlOX1VTRVJfQ0FQX1BFUk1JU1NJT05TWydtb24nXSwKICAgICAgICAgICAgICAgICAgICAg
      ICAgICAgICAibWdyIiwgc2VsZi5NSU5fVVNFUl9DQVBfUEVSTUlTU0lPTlNbJ21nciddLAogICAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICJvc2QiLCBzZWxmLk1JTl9VU0VSX0NBUF9QRVJNSVNT
      SU9OU1snb3NkJ10uZm9ybWF0KHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4KV0sCiAg
      ICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICByZXRfdmFsLCBqc29u
      X291dCwgZXJyX21zZyA9IHNlbGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAg
      ICAgIyBpZiB0aGVyZSBpcyBhbiB1bnN1Y2Nlc3NmdWwgYXR0ZW1wdCwKICAgICAgICBpZiByZXRf
      dmFsICE9IDAgb3IgbGVuKGpzb25fb3V0KSA9PSAwOgogICAgICAgICAgICByYWlzZSBFeGVjdXRp
      b25GYWlsdXJlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgIidhdXRoIGdldC1vci1jcmVhdGUg
      e30nIGNvbW1hbmQgZmFpbGVkXG4iLmZvcm1hdChzZWxmLnJ1bl9hc191c2VyKSArCiAgICAgICAg
      ICAgICAgICAiRXJyb3I6IHt9Ii5mb3JtYXQoZXJyX21zZyBpZiByZXRfdmFsICE9IDAgZWxzZSBz
      ZWxmLkVNUFRZX09VVFBVVF9MSVNUKSkKICAgICAgICByZXR1cm4gc3RyKGpzb25fb3V0WzBdWydr
      ZXknXSkKCiAgICBkZWYgX2dlbl9vdXRwdXRfbWFwKHNlbGYpOgogICAgICAgIGlmIHNlbGYub3V0
      X21hcDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgcG9vbHNfdG9fdmFsaWRhdGUgPSBbc2Vs
      Zi5fYXJnX3BhcnNlci5yYmRfZGF0YV9wb29sX25hbWVdCiAgICAgICAgIyBpZiByZ3dfZW5kcG9p
      bnQgaXMgcHJvdmlkZWQsIHZhbGlkYXRlIGl0CiAgICAgICAgaWYgc2VsZi5fYXJnX3BhcnNlci5y
      Z3dfZW5kcG9pbnQ6CiAgICAgICAgICAgIHNlbGYuX2ludmFsaWRfZW5kcG9pbnQoc2VsZi5fYXJn
      X3BhcnNlci5yZ3dfZW5kcG9pbnQpCiAgICAgICAgICAgIHNlbGYuZW5kcG9pbnRfZGlhbChzZWxm
      Ll9hcmdfcGFyc2VyLnJnd19lbmRwb2ludCkKICAgICAgICAgICAgcmd3X3Bvb2xfdG9fdmFsaWRh
      dGUgPSBbInswfS5yZ3cubWV0YSIuZm9ybWF0KHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJl
      Zml4KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIi5yZ3cucm9vdCIsCiAg
      ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ7MH0ucmd3LmNvbnRyb2wiLmZvcm1h
      dCgKICAgICAgICAgICAgICAgIHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4KSwKICAg
      ICAgICAgICAgICAgICJ7MH0ucmd3LmxvZyIuZm9ybWF0KAogICAgICAgICAgICAgICAgc2VsZi5f
      YXJnX3BhcnNlci5yZ3dfcG9vbF9wcmVmaXgpXQogICAgICAgICAgICBwb29sc190b192YWxpZGF0
      ZS5leHRlbmQocmd3X3Bvb2xfdG9fdmFsaWRhdGUpCiAgICAgICAgZm9yIHBvb2wgaW4gcG9vbHNf
      dG9fdmFsaWRhdGU6CiAgICAgICAgICAgIGlmIG5vdCBzZWxmLmNsdXN0ZXIucG9vbF9leGlzdHMo
      cG9vbCk6CiAgICAgICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKAog
      ICAgICAgICAgICAgICAgICAgICJUaGUgcHJvdmlkZWQgcG9vbCwgJ3t9JywgZG9lcyBub3QgZXhp
      c3QiLmZvcm1hdChwb29sKSkKICAgICAgICBzZWxmLl9leGNsdWRlZF9rZXlzLmFkZCgnQ0xVU1RF
      Ul9OQU1FJykKICAgICAgICBzZWxmLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAg
      ICAgIHNlbGYub3V0X21hcFsnTkFNRVNQQUNFJ10gPSBzZWxmLl9hcmdfcGFyc2VyLm5hbWVzcGFj
      ZQogICAgICAgIHNlbGYub3V0X21hcFsnQ0xVU1RFUl9OQU1FJ10gPSBzZWxmLl9hcmdfcGFyc2Vy
      LmNsdXN0ZXJfbmFtZQogICAgICAgIHNlbGYub3V0X21hcFsnUk9PS19FWFRFUk5BTF9GU0lEJ10g
      PSBzZWxmLmdldF9mc2lkKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ1JPT0tfRVhURVJOQUxfVVNF
      Uk5BTUUnXSA9IHNlbGYucnVuX2FzX3VzZXIKICAgICAgICBzZWxmLm91dF9tYXBbJ1JPT0tfRVhU
      RVJOQUxfQ0VQSF9NT05fREFUQSddID0gc2VsZi5nZXRfY2VwaF9leHRlcm5hbF9tb25fZGF0YSgp
      CiAgICAgICAgc2VsZi5vdXRfbWFwWydST09LX0VYVEVSTkFMX1VTRVJfU0VDUkVUJ10gPSBzZWxm
      LmNyZWF0ZV9jaGVja2VyS2V5KCkKICAgICAgICBzZWxmLm91dF9tYXBbJ0NTSV9SQkRfTk9ERV9T
      RUNSRVRfU0VDUkVUJ10gPSBzZWxmLmNyZWF0ZV9jZXBoQ1NJS2V5cmluZ19SQkROb2RlKCkKICAg
      ICAgICBzZWxmLm91dF9tYXBbJ0NTSV9SQkRfUFJPVklTSU9ORVJfU0VDUkVUJ10gPSBzZWxmLmNy
      ZWF0ZV9jZXBoQ1NJS2V5cmluZ19SQkRQcm92aXNpb25lcigpCiAgICAgICAgc2VsZi5vdXRfbWFw
      WydDRVBIRlNfUE9PTF9OQU1FJ10gPSBzZWxmLl9hcmdfcGFyc2VyLmNlcGhmc19kYXRhX3Bvb2xf
      bmFtZQogICAgICAgIHNlbGYub3V0X21hcFsnQ0VQSEZTX0ZTX05BTUUnXSA9IHNlbGYuX2FyZ19w
      YXJzZXIuY2VwaGZzX2ZpbGVzeXN0ZW1fbmFtZQogICAgICAgIHNlbGYub3V0X21hcFsnQ1NJX0NF
      UEhGU19OT0RFX1NFQ1JFVCddID0gJycKICAgICAgICBzZWxmLm91dF9tYXBbJ0NTSV9DRVBIRlNf
      UFJPVklTSU9ORVJfU0VDUkVUJ10gPSAnJwogICAgICAgICMgY3JlYXRlIENlcGhGUyBub2RlIGFu
      ZCBwcm92aXNpb25lciBrZXlyaW5nIG9ubHkgd2hlbiBNRFMgZXhpc3RzCiAgICAgICAgaWYgc2Vs
      Zi5vdXRfbWFwWydDRVBIRlNfRlNfTkFNRSddIGFuZCBzZWxmLm91dF9tYXBbJ0NFUEhGU19QT09M
      X05BTUUnXToKICAgICAgICAgICAgc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVU
      J10gPSBzZWxmLmNyZWF0ZV9jZXBoQ1NJS2V5cmluZ19jZXBoRlNOb2RlKCkKICAgICAgICAgICAg
      c2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX1BST1ZJU0lPTkVSX1NFQ1JFVCddID0gc2VsZi5jcmVh
      dGVfY2VwaENTSUtleXJpbmdfY2VwaEZTUHJvdmlzaW9uZXIoKQogICAgICAgIHNlbGYub3V0X21h
      cFsnUkdXX0VORFBPSU5UJ10gPSBzZWxmLl9hcmdfcGFyc2VyLnJnd19lbmRwb2ludAogICAgICAg
      IHNlbGYub3V0X21hcFsnTU9OSVRPUklOR19FTkRQT0lOVCddLCBcCiAgICAgICAgICAgICAgICBz
      ZWxmLm91dF9tYXBbJ01PTklUT1JJTkdfRU5EUE9JTlRfUE9SVCddID0gc2VsZi5nZXRfYWN0aXZl
      X2NlcGhfbWdyKCkKICAgICAgICBzZWxmLm91dF9tYXBbJ1JCRF9QT09MX05BTUUnXSA9IHNlbGYu
      X2FyZ19wYXJzZXIucmJkX2RhdGFfcG9vbF9uYW1lCiAgICAgICAgc2VsZi5vdXRfbWFwWydSR1df
      UE9PTF9QUkVGSVgnXSA9IHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4CgogICAgZGVm
      IGdlbl9zaGVsbF9vdXQoc2VsZik6CiAgICAgICAgc2VsZi5fZ2VuX291dHB1dF9tYXAoKQogICAg
      ICAgIHNoT3V0SU8gPSBTdHJpbmdJTygpCiAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5vdXRfbWFw
      Lml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHYgYW5kIGsgbm90IGluIHNlbGYuX2V4Y2x1ZGVkX2tl
      eXM6CiAgICAgICAgICAgICAgICBzaE91dElPLndyaXRlKCdleHBvcnQge309e317fScuZm9ybWF0
      KGssIHYsIExJTkVTRVApKQogICAgICAgIHNoT3V0ID0gc2hPdXRJTy5nZXR2YWx1ZSgpCiAgICAg
      ICAgc2hPdXRJTy5jbG9zZSgpCiAgICAgICAgcmV0dXJuIHNoT3V0CgogICAgZGVmIGdlbl9qc29u
      X291dChzZWxmKToKICAgICAgICBzZWxmLl9nZW5fb3V0cHV0X21hcCgpCiAgICAgICAganNvbl9v
      dXQgPSBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogInJvb2stY2VwaC1t
      b24tZW5kcG9pbnRzIiwKICAgICAgICAgICAgICAgICJraW5kIjogIkNvbmZpZ01hcCIsCiAgICAg
      ICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHNlbGYub3V0
      X21hcFsnUk9PS19FWFRFUk5BTF9DRVBIX01PTl9EQVRBJ10sCiAgICAgICAgICAgICAgICAgICAg
      Im1heE1vbklkIjogIjAiLAogICAgICAgICAgICAgICAgICAgICJtYXBwaW5nIjogInt9IgogICAg
      ICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAg
      ICAibmFtZSI6ICJyb29rLWNlcGgtbW9uIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3Jl
      dCIsCiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAiYWRtaW4t
      c2VjcmV0IjogImFkbWluLXNlY3JldCIsCiAgICAgICAgICAgICAgICAgICAgImZzaWQiOiBzZWxm
      Lm91dF9tYXBbJ1JPT0tfRVhURVJOQUxfRlNJRCddLAogICAgICAgICAgICAgICAgICAgICJtb24t
      c2VjcmV0IjogIm1vbi1zZWNyZXQiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAog
      ICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJyb29rLWNlcGgtb3BlcmF0b3It
      Y3JlZHMiLAogICAgICAgICAgICAgICAgImtpbmQiOiAiU2VjcmV0IiwKICAgICAgICAgICAgICAg
      ICJkYXRhIjogewogICAgICAgICAgICAgICAgICAgICJ1c2VySUQiOiBzZWxmLm91dF9tYXBbJ1JP
      T0tfRVhURVJOQUxfVVNFUk5BTUUnXSwKICAgICAgICAgICAgICAgICAgICAidXNlcktleSI6IHNl
      bGYub3V0X21hcFsnUk9PS19FWFRFUk5BTF9VU0VSX1NFQ1JFVCddCiAgICAgICAgICAgICAgICB9
      CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJuYW1lIjogInJv
      b2stY3NpLXJiZC1ub2RlIiwKICAgICAgICAgICAgICAgICJraW5kIjogIlNlY3JldCIsCiAgICAg
      ICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAidXNlcklEIjogJ2NzaS1y
      YmQtbm9kZScsCiAgICAgICAgICAgICAgICAgICAgInVzZXJLZXkiOiBzZWxmLm91dF9tYXBbJ0NT
      SV9SQkRfTk9ERV9TRUNSRVRfU0VDUkVUJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
      fSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yYmQiLAogICAg
      ICAgICAgICAgICAgImtpbmQiOiAiU3RvcmFnZUNsYXNzIiwKICAgICAgICAgICAgICAgICJkYXRh
      IjogewogICAgICAgICAgICAgICAgICAgICJwb29sIjogc2VsZi5vdXRfbWFwWydSQkRfUE9PTF9O
      QU1FJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAg
      ICAgICAgICAgICAgIm5hbWUiOiAibW9uaXRvcmluZy1lbmRwb2ludCIsCiAgICAgICAgICAgICAg
      ICAia2luZCI6ICJDZXBoQ2x1c3RlciIsCiAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAg
      ICAgICAgICAgICAgICAiTW9uaXRvcmluZ0VuZHBvaW50Ijogc2VsZi5vdXRfbWFwWydNT05JVE9S
      SU5HX0VORFBPSU5UJ10sCiAgICAgICAgICAgICAgICAgICAgIk1vbml0b3JpbmdQb3J0Ijogc2Vs
      Zi5vdXRfbWFwWydNT05JVE9SSU5HX0VORFBPSU5UX1BPUlQnXQogICAgICAgICAgICAgICAgfQog
      ICAgICAgICAgICB9CiAgICAgICAgXQoKICAgICAgICAjIGlmICdDU0lfUkJEX1BST1ZJU0lPTkVS
      X1NFQ1JFVCcgZXhpc3RzLCB0aGVuIG9ubHkgYWRkICdyb29rLWNzaS1yYmQtcHJvdmlzaW9uZXIn
      IFNlY3JldAogICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9WSVNJT05FUl9TRUNS
      RVQnXToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAgICAgICJuYW1l
      IjogInJvb2stY3NpLXJiZC1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAgICAia2luZCI6ICJT
      ZWNyZXQiLAogICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgInVz
      ZXJJRCI6ICdjc2ktcmJkLXByb3Zpc2lvbmVyJywKICAgICAgICAgICAgICAgICAgICAidXNlcktl
      eSI6IHNlbGYub3V0X21hcFsnQ1NJX1JCRF9QUk9WSVNJT05FUl9TRUNSRVQnXQogICAgICAgICAg
      ICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdDU0lfQ0VQSEZTX1BST1ZJU0lP
      TkVSX1NFQ1JFVCcgZXhpc3RzLCB0aGVuIG9ubHkgYWRkICdyb29rLWNzaS1jZXBoZnMtcHJvdmlz
      aW9uZXInIFNlY3JldAogICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19QUk9WSVNJ
      T05FUl9TRUNSRVQnXToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAgICAgICAgICAg
      ICAgICJuYW1lIjogInJvb2stY3NpLWNlcGhmcy1wcm92aXNpb25lciIsCiAgICAgICAgICAgICAg
      ICAia2luZCI6ICJTZWNyZXQiLAogICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAg
      ICAgICAgICAgImFkbWluSUQiOiAnY3NpLWNlcGhmcy1wcm92aXNpb25lcicsCiAgICAgICAgICAg
      ICAgICAgICAgImFkbWluS2V5Ijogc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX1BST1ZJU0lPTkVS
      X1NFQ1JFVCddCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICMgaWYg
      J0NTSV9DRVBIRlNfTk9ERV9TRUNSRVQnIGV4aXN0cywgdGhlbiBvbmx5IGFkZCAncm9vay1jc2kt
      Y2VwaGZzLW5vZGUnIFNlY3JldAogICAgICAgIGlmIHNlbGYub3V0X21hcFsnQ1NJX0NFUEhGU19O
      T0RFX1NFQ1JFVCddOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewogICAgICAgICAgICAg
      ICAgIm5hbWUiOiAicm9vay1jc2ktY2VwaGZzLW5vZGUiLAogICAgICAgICAgICAgICAgImtpbmQi
      OiAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAgICAgICAg
      ICJhZG1pbklEIjogJ2NzaS1jZXBoZnMtbm9kZScsCiAgICAgICAgICAgICAgICAgICAgImFkbWlu
      S2V5Ijogc2VsZi5vdXRfbWFwWydDU0lfQ0VQSEZTX05PREVfU0VDUkVUJ10KICAgICAgICAgICAg
      ICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAjIGlmICdDRVBIRlNfRlNfTkFNRScgZXhpc3Rz
      LCB0aGVuIG9ubHkgYWRkICdjZXBoZnMnIFN0b3JhZ2VDbGFzcwogICAgICAgIGlmIHNlbGYub3V0
      X21hcFsnQ0VQSEZTX0ZTX05BTUUnXToKICAgICAgICAgICAganNvbl9vdXQuYXBwZW5kKHsKICAg
      ICAgICAgICAgICAgICJuYW1lIjogImNlcGhmcyIsCiAgICAgICAgICAgICAgICAia2luZCI6ICJT
      dG9yYWdlQ2xhc3MiLAogICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAg
      ICAgImZzTmFtZSI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX0ZTX05BTUUnXSwKICAgICAgICAgICAg
      ICAgICAgICAicG9vbCI6IHNlbGYub3V0X21hcFsnQ0VQSEZTX1BPT0xfTkFNRSddCiAgICAgICAg
      ICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgIyBpZiAnUkdXX0VORFBPSU5UJyBleGlz
      dHMsIHRoZW4gb25seSBhZGQgJ2NlcGgtcmd3JyBTdG9yYWdlQ2xhc3MKICAgICAgICBpZiBzZWxm
      Lm91dF9tYXBbJ1JHV19FTkRQT0lOVCddOgogICAgICAgICAgICBqc29uX291dC5hcHBlbmQoewog
      ICAgICAgICAgICAgICAgIm5hbWUiOiAiY2VwaC1yZ3ciLAogICAgICAgICAgICAgICAgImtpbmQi
      OiAiU3RvcmFnZUNsYXNzIiwKICAgICAgICAgICAgICAgICJkYXRhIjogewogICAgICAgICAgICAg
      ICAgICAgICJlbmRwb2ludCI6IHNlbGYub3V0X21hcFsnUkdXX0VORFBPSU5UJ10sCiAgICAgICAg
      ICAgICAgICAgICAgInBvb2xQcmVmaXgiOiBzZWxmLm91dF9tYXBbJ1JHV19QT09MX1BSRUZJWCdd
      CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgcmV0dXJuIGpzb24uZHVt
      cHMoanNvbl9vdXQpK0xJTkVTRVAKCiAgICBkZWYgdXBncmFkZV91c2VyX3Blcm1pc3Npb25zKHNl
      bGYpOgogICAgICAgICMgY2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdXNlciBleGlzdHMgb3Igbm90
      CiAgICAgICAgY21kX2pzb24gPSB7InByZWZpeCI6ICJhdXRoIGdldCIsICJlbnRpdHkiOiAie30i
      LmZvcm1hdChzZWxmLnJ1bl9hc191c2VyKSwgImZvcm1hdCI6ICJqc29uIn0KICAgICAgICByZXRf
      dmFsLCBqc29uX291dCwgZXJyX21zZyA9IHNlbGYuX2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pz
      b24pCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwIG9yIGxlbihqc29uX291dCkgPT0gMDoKICAgICAg
      ICAgICAgcmFpc2UgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbigiJ2F1dGggZ2V0IHt9JyBjb21t
      YW5kIGZhaWxlZC5cbiIuZm9ybWF0KHNlbGYucnVuX2FzX3VzZXIpICsKICAgICAgICAgICAgICAg
      ICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnIGlmIHJldF92YWwgIT0gMCBlbHNlIHNlbGYuRU1Q
      VFlfT1VUUFVUX0xJU1QpKQogICAgICAgIGpfZmlyc3QgPSBqc29uX291dFswXQogICAgICAgIGV4
      aXN0aW5nX2NhcHMgPSBqX2ZpcnN0WydjYXBzJ10KICAgICAgICBvc2RfY2FwID0gIm9zZCIKICAg
      ICAgICBjYXBfa2V5cyA9IFsibW9uIiwgIm1nciIsICJvc2QiXQogICAgICAgIGZvciBlYWNoQ2Fw
      IGluIGNhcF9rZXlzOgogICAgICAgICAgICBtaW5fY2FwX3ZhbHVlcyA9IHNlbGYuTUlOX1VTRVJf
      Q0FQX1BFUk1JU1NJT05TLmdldChlYWNoQ2FwLCAnJykKICAgICAgICAgICAgY3VyX2NhcF92YWx1
      ZXMgPSBleGlzdGluZ19jYXBzLmdldChlYWNoQ2FwLCAnJykKICAgICAgICAgICAgIyBkZXRlY3Qg
      cmd3LXBvb2wtcHJlZml4CiAgICAgICAgICAgIGlmIGVhY2hDYXAgPT0gb3NkX2NhcDoKICAgICAg
      ICAgICAgICAgICMgaWYgZGlyZWN0bHkgcHJvdmlkZWQgdGhyb3VnaCAnLS1yZ3ctcG9vbC1wcmVm
      aXgnIGFyZ3VtZW50LCB1c2UgaXQKICAgICAgICAgICAgICAgIGlmIHNlbGYuX2FyZ19wYXJzZXIu
      cmd3X3Bvb2xfcHJlZml4OgogICAgICAgICAgICAgICAgICAgIG1pbl9jYXBfdmFsdWVzID0gbWlu
      X2NhcF92YWx1ZXMuZm9ybWF0KHNlbGYuX2FyZ19wYXJzZXIucmd3X3Bvb2xfcHJlZml4KQogICAg
      ICAgICAgICAgICAgIyBvciBlbHNlIHRyeSB0byBkZXRlY3Qgb25lIGZyb20gdGhlIGV4aXN0aW5n
      L2N1cnJlbnQgb3NkIGNhcCB2YWx1ZXMKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAg
      ICAgICAgICAgcmMgPSByZS5jb21waWxlKHInIHBvb2w9KFteLl0rKVwucmd3XC5bXiBdKicpCiAg
      ICAgICAgICAgICAgICAgICAgIyAnZmluZGFsbCgpJyBtZXRob2Qgd2lsbCBnaXZlIGEgbGlzdCBv
      ZiBwcmVmaXhlcwogICAgICAgICAgICAgICAgICAgICMgYW5kICdzZXQnIHdpbGwgZWxpbWluYXRl
      IGFueSBkdXBsaWNhdGVzCiAgICAgICAgICAgICAgICAgICAgY3VyX3Jnd19wb29sX3ByZWZpeF9s
      aXN0ID0gbGlzdChzZXQocmMuZmluZGFsbChjdXJfY2FwX3ZhbHVlcykpKQogICAgICAgICAgICAg
      ICAgICAgIGlmIGxlbihjdXJfcmd3X3Bvb2xfcHJlZml4X2xpc3QpICE9IDE6CiAgICAgICAgICAg
      ICAgICAgICAgICAgIHJhaXNlIEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24oIlVuYWJsZSB0byBk
      ZXRlcm1pbmUgJ3Jndy1wb29sLXByZWZ4Jy4gUGxlYXNlIHByb3ZpZGUgb25lIHdpdGggJy0tcmd3
      LXBvb2wtcHJlZml4JyBmbGFnIikKICAgICAgICAgICAgICAgICAgICBtaW5fY2FwX3ZhbHVlcyA9
      IG1pbl9jYXBfdmFsdWVzLmZvcm1hdChjdXJfcmd3X3Bvb2xfcHJlZml4X2xpc3RbMF0pCiAgICAg
      ICAgICAgIGN1cl9jYXBfcGVybV9saXN0ID0gW3guc3RyaXAoKSBmb3IgeCBpbiBjdXJfY2FwX3Zh
      bHVlcy5zcGxpdCgnLCcpIGlmIHguc3RyaXAoKV0KICAgICAgICAgICAgbWluX2NhcF9wZXJtX2xp
      c3QgPSBbeC5zdHJpcCgpIGZvciB4IGluIG1pbl9jYXBfdmFsdWVzLnNwbGl0KCcsJykgaWYgeC5z
      dHJpcCgpXQogICAgICAgICAgICBtaW5fY2FwX3Blcm1fbGlzdC5leHRlbmQoY3VyX2NhcF9wZXJt
      X2xpc3QpCiAgICAgICAgICAgICMgZWxpbWluYXRlIGR1cGxpY2F0ZXMgd2l0aG91dCB1c2luZyAn
      c2V0JwogICAgICAgICAgICAjIHNldCByZS1vcmRlcnMgaXRlbXMgaW4gdGhlIGxpc3QgYW5kIHdl
      IGhhdmUgdG8ga2VlcCB0aGUgb3JkZXIKICAgICAgICAgICAgbmV3X2NhcF9wZXJtX2xpc3QgPSBb
      XQogICAgICAgICAgICBbbmV3X2NhcF9wZXJtX2xpc3QuYXBwZW5kKHgpIGZvciB4IGluIG1pbl9j
      YXBfcGVybV9saXN0IGlmIHggbm90IGluIG5ld19jYXBfcGVybV9saXN0XQogICAgICAgICAgICBl
      eGlzdGluZ19jYXBzW2VhY2hDYXBdID0gIiwgIi5qb2luKG5ld19jYXBfcGVybV9saXN0KQogICAg
      ICAgIGNtZF9qc29uID0geyJwcmVmaXgiOiAiYXV0aCBjYXBzIiwKICAgICAgICAgICAgICAgICAg
      ICAiZW50aXR5Ijogc2VsZi5ydW5fYXNfdXNlciwKICAgICAgICAgICAgICAgICAgICAiY2FwcyI6
      IFsibW9uIiwgZXhpc3RpbmdfY2Fwc1sibW9uIl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgIm1nciIsIGV4aXN0aW5nX2NhcHNbIm1nciJdLAogICAgICAgICAgICAgICAgICAgICAgICAg
      ICAgICJvc2QiLCBleGlzdGluZ19jYXBzWyJvc2QiXV0sCiAgICAgICAgICAgICAgICAgICAgImZv
      cm1hdCI6ICJqc29uIn0KICAgICAgICByZXRfdmFsLCBqc29uX291dCwgZXJyX21zZyA9IHNlbGYu
      X2NvbW1vbl9jbWRfanNvbl9nZW4oY21kX2pzb24pCiAgICAgICAgaWYgcmV0X3ZhbCAhPSAwOgog
      ICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCInYXV0aCBjYXBzIHt9
      JyBjb21tYW5kIGZhaWxlZC5cbiIuZm9ybWF0KHNlbGYucnVuX2FzX3VzZXIpICsKICAgICAgICAg
      ICAgICAgICJFcnJvcjoge30iLmZvcm1hdChlcnJfbXNnKSkKICAgICAgICBwcmludCgiVXBkYXRl
      ZCB1c2VyLCB7fSwgc3VjY2Vzc2Z1bGx5LiIuZm9ybWF0KHNlbGYucnVuX2FzX3VzZXIpKQoKICAg
      IGRlZiBtYWluKHNlbGYpOgogICAgICAgIGdlbmVyYXRlZF9vdXRwdXQgPSAnJwogICAgICAgIGlm
      IHNlbGYuX2FyZ19wYXJzZXIudXBncmFkZToKICAgICAgICAgICAgc2VsZi51cGdyYWRlX3VzZXJf
      cGVybWlzc2lvbnMoKQogICAgICAgIGVsaWYgc2VsZi5fYXJnX3BhcnNlci5mb3JtYXQgPT0gJ2pz
      b24nOgogICAgICAgICAgICBnZW5lcmF0ZWRfb3V0cHV0ID0gc2VsZi5nZW5fanNvbl9vdXQoKQog
      ICAgICAgIGVsaWYgc2VsZi5fYXJnX3BhcnNlci5mb3JtYXQgPT0gJ2Jhc2gnOgogICAgICAgICAg
      ICBnZW5lcmF0ZWRfb3V0cHV0ID0gc2VsZi5nZW5fc2hlbGxfb3V0KCkKICAgICAgICBlbHNlOgog
      ICAgICAgICAgICByYWlzZSBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uKCJVbnN1cHBvcnRlZCBm
      b3JtYXQ6IHt9Ii5mb3JtYXQoCiAgICAgICAgICAgICAgICBzZWxmLl9hcmdfcGFyc2VyLmZvcm1h
      dCkpCiAgICAgICAgcHJpbnQoJ3t9Jy5mb3JtYXQoZ2VuZXJhdGVkX291dHB1dCkpCiAgICAgICAg
      aWYgc2VsZi5vdXRwdXRfZmlsZSBhbmQgZ2VuZXJhdGVkX291dHB1dDoKICAgICAgICAgICAgZk91
      dCA9IG9wZW4oc2VsZi5vdXRwdXRfZmlsZSwgJ3cnKQogICAgICAgICAgICBmT3V0LndyaXRlKGdl
      bmVyYXRlZF9vdXRwdXQpCiAgICAgICAgICAgIGZPdXQuY2xvc2UoKQoKCiMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMg
      TUFJTiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICByak9iaiA9
      IFJhZG9zSlNPTigpCiAgICB0cnk6CiAgICAgICAgcmpPYmoubWFpbigpCiAgICBleGNlcHQgRXhl
      Y3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgcHJpbnQoIkV4Y2VjdXRpb24g
      RmFpbGVkOiB7fSIuZm9ybWF0KGVycikpCiAgICBleGNlcHQgS2V5RXJyb3IgYXMga0VycjoKICAg
      ICAgICBwcmludCgiS2V5RXJyb3I6ICVzIiwga0VycikKICAgIGV4Y2VwdCBPU0Vycm9yIGFzIG9z
      RXJyOgogICAgICAgIHByaW50KCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gb3V0cHV0IHRoZSBkYXRh
      OiB7fSIuZm9ybWF0KG9zRXJyKSkKICAgIGZpbmFsbHk6CiAgICAgICAgcmpPYmouc2h1dGRvd24o
      KQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMj
      IyMjIyMjIyMjIyMjIyMjIyMgVEVTVCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMj
      IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgaW5vcmRlciB0byB0ZXN0IHRo
      ZSBwYWNrYWdlLAojIGNkIDxzY3JpcHRfZGlyZWN0b3J5PgojIHB5dGhvbiAtbSB1bml0dGVzdCAt
      LXZlcmJvc2UgPHNjcmlwdF9uYW1lX3dpdGhvdXRfZG90X3B5PgpjbGFzcyBUZXN0UmFkb3NKU09O
      KHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgIGRlZiBzZXRVcChzZWxmKToKICAgICAgICBwcmludCgi
      XG5JIGFtIGluIHNldHVwIikKICAgICAgICBzZWxmLnJqT2JqID0gUmFkb3NKU09OKFsnLS1yYmQt
      ZGF0YS1wb29sLW5hbWU9YWJjJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLS1y
      Z3ctZW5kcG9pbnQ9MTAuMTAuMjEyLjEyMjo5MDAwJywgJy0tZm9ybWF0PWpzb24nXSkKICAgICAg
      ICAjIGZvciB0ZXN0aW5nLCB3ZSBhcmUgdXNpbmcgJ0R1bW15UmFkb3MnIG9iamVjdAogICAgICAg
      IHNlbGYucmpPYmouY2x1c3RlciA9IER1bW15UmFkb3MuUmFkb3MoKQoKICAgIGRlZiB0ZWFyRG93
      bihzZWxmKToKICAgICAgICBwcmludCgiXG5JIGFtIHRlYXJpbmcgZG93biB0aGUgc2V0dXBcbiIp
      CiAgICAgICAgc2VsZi5yak9iai5zaHV0ZG93bigpCgogICAgZGVmIHRlc3RfbWV0aG9kX21haW5f
      b3V0cHV0KHNlbGYpOgogICAgICAgIHByaW50KCJKU09OIE91dHB1dCIpCiAgICAgICAgc2VsZi5y
      ak9iai5fYXJnX3BhcnNlci5mb3JtYXQgPSAianNvbiIKICAgICAgICBzZWxmLnJqT2JqLm1haW4o
      KQogICAgICAgIHByaW50KCJcblxuU2hlbGwgT3V0cHV0IikKICAgICAgICBzZWxmLnJqT2JqLl9h
      cmdfcGFyc2VyLmZvcm1hdCA9ICJiYXNoIgogICAgICAgIHNlbGYucmpPYmoubWFpbigpCiAgICAg
      ICAgcHJpbnQoIlxuXG5Ob24gY29tcGF0aWJsZSBvdXRwdXQgKC0tYWJjZCkiKQogICAgICAgIHRy
      eToKICAgICAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5mb3JtYXQgPSAnYWJjZCcKICAg
      ICAgICAgICAgc2VsZi5yak9iai5tYWluKCkKICAgICAgICAgICAgc2VsZi5mYWlsKCJGdW5jdGlv
      biBzaG91bGQgaGF2ZSB0aHJvd24gYW4gRXhjZXB0aW9uIikKICAgICAgICBleGNlcHQgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJFeGNlcHRpb24g
      dGhyb3duIHN1Y2Nlc3NmdWxseToge30iLmZvcm1hdChlcnIpKQoKICAgIGRlZiB0ZXN0X21ldGhv
      ZF9jcmVhdGVfY2VwaENTSUtleXJpbmdfY2VwaEZTUHJvdmlzaW9uZXIoc2VsZik6CiAgICAgICAg
      Y3NpS2V5cmluZyA9IHNlbGYucmpPYmouY3JlYXRlX2NlcGhDU0lLZXlyaW5nX2NlcGhGU1Byb3Zp
      c2lvbmVyKCkKICAgICAgICBwcmludCgie30iLmZvcm1hdChjc2lLZXlyaW5nKSkKCiAgICBkZWYg
      dGVzdF9ub25femVyb19yZXR1cm5fYW5kX2Vycm9yKHNlbGYpOgogICAgICAgIHNlbGYucmpPYmou
      Y2x1c3Rlci5yZXR1cm5fdmFsID0gMQogICAgICAgIHNlbGYucmpPYmouY2x1c3Rlci5lcnJfbWVz
      c2FnZSA9ICJEdW1teSBFcnJvciIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmou
      Y3JlYXRlX2NoZWNrZXJLZXkoKQogICAgICAgICAgICBzZWxmLmZhaWwoIkZhaWxlZCB0byByYWlz
      ZSBhbiBleGNlcHRpb24sICdFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uJyIpCiAgICAgICAgZXhj
      ZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgi
      U3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvci5cbkVycm9yOiB7fSIuZm9ybWF0KGVycikpCgogICAg
      ZGVmIHRlc3RfbXVsdGlfZmlsZXN5c3RlbV9zY2VuYXJpbyhzZWxmKToKICAgICAgICBjbWRfa2V5
      ID0gc2VsZi5yak9iai5jbHVzdGVyLmNtZF9uYW1lc1snZnMgbHMnXQogICAgICAgIGNtZF9vdXQg
      PSBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX291dHB1dF9tYXBbY21kX2tleV0KICAgICAgICBjbWRf
      anNvbl9vdXQgPSBqc29uLmxvYWRzKGNtZF9vdXQpCiAgICAgICAgc2Vjb25kX2ZzX2RldGFpbHMg
      PSBkaWN0KGNtZF9qc29uX291dFswXSkKICAgICAgICBzZWNvbmRfZnNfZGV0YWlsc1snbmFtZSdd
      ICs9ICctMicKICAgICAgICBjbWRfanNvbl9vdXQuYXBwZW5kKHNlY29uZF9mc19kZXRhaWxzKQog
      ICAgICAgIHNlbGYucmpPYmouY2x1c3Rlci5jbWRfb3V0cHV0X21hcFtjbWRfa2V5XSA9IGpzb24u
      ZHVtcHMoY21kX2pzb25fb3V0KQogICAgICAgICMgbXVsdGlwbGUgZmlsZXN5c3RlbSBwcmVzZW50
      LAogICAgICAgICMgYnV0IG5vIHNwZWNpZmljICctLWNlcGhmcy1maWxlc3lzdGVtLW5hbWUnIGFy
      Z3VtZW50IHByb3ZpZGVkCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLmdldF9j
      ZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAgICAgICAgICBwcmludCgiQXMgd2UgYXJlIHJl
      dHVybmluZyBzaWxlbnRseSwgbm8gZXJyb3IgdGhyb3duIGFzIGV4cGVjdGVkIikKICAgICAgICBl
      eGNlcHQgRXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHNlbGYu
      ZmFpbCgiU3VwcG9zZWQgdG8gZ2V0IHJldHVybmVkIHNpbGVudGx5LCBidXQgaW5zdGVhZCBlcnJv
      ciB0aHJvd246IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAjIHBhc3MgYW4gZXhpc3RpbmcgZmls
      ZXN5c3RlbSBuYW1lCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFy
      c2VyLmNlcGhmc19maWxlc3lzdGVtX25hbWUgPSBzZWNvbmRfZnNfZGV0YWlsc1snbmFtZSddCiAg
      ICAgICAgICAgIHNlbGYucmpPYmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAg
      ICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBz
      ZWxmLmZhaWwoIlNob3VsZCBub3QgaGF2ZSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkK
      ICAgICAgICAjIHBhc3MgYSBub24tZXhpc3RpbmcgZmlsZXN5c3RlbSBuYW1lCiAgICAgICAgdHJ5
      OgogICAgICAgICAgICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLmNlcGhmc19maWxlc3lzdGVtX25h
      bWUgKz0gIi1ub24tZXhpc3RpbmctZnMtbmFtZSIKICAgICAgICAgICAgc2VsZi5yak9iai5nZXRf
      Y2VwaGZzX2RhdGFfcG9vbF9kZXRhaWxzKCkKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNl
      cHRpb24gd2FzIGV4cGVjdGVkIHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlv
      bkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5
      IHRocm93biBlcnJvcjoge30iLmZvcm1hdChlcnIpKQogICAgICAgICMgZW1wdHkgZmlsZS1zeXN0
      ZW0gYXJyYXkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouY2x1c3Rlci5jbWRf
      b3V0cHV0X21hcFtjbWRfa2V5XSA9IGpzb24uZHVtcHMoW10pCiAgICAgICAgICAgIHNlbGYucmpP
      YmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAgIHNlbGYuZmFpbCgi
      QW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBF
      eGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nl
      c3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKCiAgICBkZWYgdGVzdF9tdWx0
      aV9kYXRhX3Bvb2xfc2NlbmFyaW8oc2VsZik6CiAgICAgICAgY21kX2tleSA9IHNlbGYucmpPYmou
      Y2x1c3Rlci5jbWRfbmFtZXNbJ2ZzIGxzJ10KICAgICAgICBjbWRfb3V0ID0gc2VsZi5yak9iai5j
      bHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldCiAgICAgICAgY21kX2pzb25fb3V0ID0ganNv
      bi5sb2FkcyhjbWRfb3V0KQogICAgICAgIGZpcnN0X2ZzX2RldGFpbHMgPSBjbWRfanNvbl9vdXRb
      MF0KICAgICAgICBuZXdfZGF0YV9wb29sX25hbWUgPSAnbXlmcy1kYXRhMScKICAgICAgICBmaXJz
      dF9mc19kZXRhaWxzWydkYXRhX3Bvb2xzJ10uYXBwZW5kKG5ld19kYXRhX3Bvb2xfbmFtZSkKICAg
      ICAgICBwcmludCgiTW9kaWZpZWQgSlNPTiBDbWQgT3V0OiB7fSIuZm9ybWF0KGNtZF9qc29uX291
      dCkpCiAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25hbWUg
      PSBuZXdfZGF0YV9wb29sX25hbWUKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX291dHB1
      dF9tYXBbY21kX2tleV0gPSBqc29uLmR1bXBzKGNtZF9qc29uX291dCkKICAgICAgICBzZWxmLnJq
      T2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAgICAgICMgdXNlIGEgbm9uLWV4
      aXN0aW5nIGRhdGEtcG9vbC1uYW1lCiAgICAgICAgYmFkX2RhdGFfcG9vbF9uYW1lID0gJ215ZnMt
      ZGF0YTMnCiAgICAgICAgc2VsZi5yak9iai5fYXJnX3BhcnNlci5jZXBoZnNfZGF0YV9wb29sX25h
      bWUgPSBiYWRfZGF0YV9wb29sX25hbWUKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmpP
      YmouZ2V0X2NlcGhmc19kYXRhX3Bvb2xfZGV0YWlscygpCiAgICAgICAgICAgIHNlbGYuZmFpbCgi
      QW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBF
      eGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFzIGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nl
      c3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5mb3JtYXQoZXJyKSkKICAgICAgICAjIGVtcHR5IGRh
      dGEtcG9vbCBzY2VuYXJpbwogICAgICAgIGZpcnN0X2ZzX2RldGFpbHNbJ2RhdGFfcG9vbHMnXSA9
      IFtdCiAgICAgICAgc2VsZi5yak9iai5jbHVzdGVyLmNtZF9vdXRwdXRfbWFwW2NtZF9rZXldID0g
      anNvbi5kdW1wcyhjbWRfanNvbl9vdXQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJq
      T2JqLmdldF9jZXBoZnNfZGF0YV9wb29sX2RldGFpbHMoKQogICAgICAgICAgICBzZWxmLmZhaWwo
      IkFuIEV4Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3duIikKICAgICAgICBleGNlcHQg
      RXhlY3V0aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJTdWNj
      ZXNzZnVsbHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikpCgogICAgZGVmIHRlc3RfdmFs
      aWRfcmd3X2VuZHBvaW50KHNlbGYpOgogICAgICAgIHNlbGYucmpPYmouX2ludmFsaWRfZW5kcG9p
      bnQoIjEwLjEwLjIxMi4xMzM6ODAwMCIpCiAgICAgICAgIyBpbnZhbGlkIHBvcnQKICAgICAgICB0
      cnk6CiAgICAgICAgICAgIHNlbGYucmpPYmouX2ludmFsaWRfZW5kcG9pbnQoIjEwLjEwLjIxMi4x
      MzM6MjM4MDAwIikKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVj
      dGVkIHRvIGJlIHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRp
      b24gYXMgZXJyOgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjog
      e30iLmZvcm1hdChlcnIpKQogICAgICAgICMgb3V0IG9mIHJhbmdlIElQCiAgICAgICAgdHJ5Ogog
      ICAgICAgICAgICBzZWxmLnJqT2JqLl9pbnZhbGlkX2VuZHBvaW50KCIxMC4xMDMzLjIxMi4xMzM6
      ODAwMCIpCiAgICAgICAgICAgIHNlbGYuZmFpbCgiQW4gRXhjZXB0aW9uIHdhcyBleHBlY3RlZCB0
      byBiZSB0aHJvd24iKQogICAgICAgIGV4Y2VwdCBFeGVjdXRpb25GYWlsdXJlRXhjZXB0aW9uIGFz
      IGVycjoKICAgICAgICAgICAgcHJpbnQoIlN1Y2Nlc3NmdWxseSB0aHJvd24gZXJyb3I6IHt9Ii5m
      b3JtYXQoZXJyKSkKICAgICAgICAjIG1hbCBmb3JtYXR0ZWQgSVAKICAgICAgICB0cnk6CiAgICAg
      ICAgICAgIHNlbGYucmpPYmouX2ludmFsaWRfZW5kcG9pbnQoIjEwLjEwMy4uMjEyLjEzMzo4MDAw
      IikKICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVkIHRvIGJl
      IHRocm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJy
      OgogICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30iLmZvcm1h
      dChlcnIpKQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yak9iai5faW52YWxpZF9lbmRw
      b2ludCgiMTAuMTAzLjIxMi4xMzM6OjgwMDAiKQogICAgICAgICAgICBzZWxmLmZhaWwoIkFuIEV4
      Y2VwdGlvbiB3YXMgZXhwZWN0ZWQgdG8gYmUgdGhyb3duIikKICAgICAgICBleGNlcHQgRXhlY3V0
      aW9uRmFpbHVyZUV4Y2VwdGlvbiBhcyBlcnI6CiAgICAgICAgICAgIHByaW50KCJTdWNjZXNzZnVs
      bHkgdGhyb3duIGVycm9yOiB7fSIuZm9ybWF0KGVycikpCiAgICAgICAgdHJ5OgogICAgICAgICAg
      ICBzZWxmLnJqT2JqLl9pbnZhbGlkX2VuZHBvaW50KCIxMC4xMC4xMDMuMjEyLjEzMzo4MDAwIikK
      ICAgICAgICAgICAgc2VsZi5mYWlsKCJBbiBFeGNlcHRpb24gd2FzIGV4cGVjdGVkIHRvIGJlIHRo
      cm93biIpCiAgICAgICAgZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgog
      ICAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bGx5IHRocm93biBlcnJvcjoge30iLmZvcm1hdChl
      cnIpKQoKICAgIGRlZiBhZGRfbm9uX2RlZmF1bHRfcG9vbF9wcmVmaXhfY21kKHNlbGYsIG5vbl9k
      ZWZhdWx0X3Bvb2xfcHJlZml4KToKICAgICAgICBqc29uX2NtZCA9IGpzb24ubG9hZHMoc2VsZi5y
      ak9iai5jbHVzdGVyLmNtZF9uYW1lc1snY2Fwc19jaGFuZ2VfZGVmYXVsdF9wb29sX3ByZWZpeCdd
      KQogICAgICAgIGN1cl9vc2RfY2FwcyA9IGpzb25fY21kWydjYXBzJ11banNvbl9jbWRbJ2NhcHMn
      XS5pbmRleCgnb3NkJykgKyAxXQogICAgICAgIG5ld19vc2RfY2FwcyA9IGN1cl9vc2RfY2Fwcy5y
      ZXBsYWNlKCdkZWZhdWx0LicsICd7fS4nLmZvcm1hdChub25fZGVmYXVsdF9wb29sX3ByZWZpeCkp
      CiAgICAgICAgYWxsX29zZF9jYXBzID0gInt9LCB7fSIuZm9ybWF0KG5ld19vc2RfY2FwcywgY3Vy
      X29zZF9jYXBzKQogICAgICAgIGNhcHNfbGlzdCA9IFt4LnN0cmlwKCkgZm9yIHggaW4gYWxsX29z
      ZF9jYXBzLnNwbGl0KCcsJykgaWYgeC5zdHJpcCgpXQogICAgICAgIG5ld19jYXBzX2xpc3QgPSBb
      XQogICAgICAgIFtuZXdfY2Fwc19saXN0LmFwcGVuZCh4KSBmb3IgeCBpbiBjYXBzX2xpc3QgaWYg
      eCBub3QgaW4gbmV3X2NhcHNfbGlzdF0KICAgICAgICBhbGxfb3NkX2NhcHMgPSAiLCAiLmpvaW4o
      bmV3X2NhcHNfbGlzdCkKICAgICAgICBqc29uX2NtZFsnY2FwcyddW2pzb25fY21kWydjYXBzJ10u
      aW5kZXgoJ29zZCcpICsgMV0gPSBhbGxfb3NkX2NhcHMKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0
      ZXIuY21kX25hbWVzWydjYXBzX2NoYW5nZV9ub25fZGVmYXVsdF9wb29sX3ByZWZpeCddID0ganNv
      bi5kdW1wcyhqc29uX2NtZCkKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX291dHB1dF9t
      YXBbCiAgICAgICAgICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIuY21kX25hbWVzWydjYXBzX2No
      YW5nZV9ub25fZGVmYXVsdF9wb29sX3ByZWZpeCddXSA9ICdbe31dJwoKICAgIGRlZiB0ZXN0X3Vw
      Z3JhZGVfdXNlcl9wZXJtaXNzaW9ucyhzZWxmKToKICAgICAgICBzZWxmLnJqT2JqID0gUmFkb3NK
      U09OKFsnLS11cGdyYWRlJywgJy0tcnVuLWFzLXVzZXI9Y2xpZW50LmhlYWx0aGNoZWNrZXInXSkK
      ICAgICAgICAjIGZvciB0ZXN0aW5nLCB3ZSBhcmUgdXNpbmcgJ0R1bW15UmFkb3MnIG9iamVjdAog
      ICAgICAgIHNlbGYucmpPYmouY2x1c3RlciA9IER1bW15UmFkb3MuUmFkb3MoKQogICAgICAgIHNl
      bGYucmpPYmoubWFpbigpCiAgICAgICAgc2VsZi5yak9iaiA9IFJhZG9zSlNPTihbJy0tdXBncmFk
      ZScsICctLXJ1bi1hcy11c2VyPWNsaWVudC5oZWFsdGhjaGVja2VyJywgJy0tcmd3LXBvb2wtcHJl
      Zml4PW5vbkRlZmF1bHQnXSkKICAgICAgICBzZWxmLnJqT2JqLmNsdXN0ZXIgPSBEdW1teVJhZG9z
      LlJhZG9zKCkKICAgICAgICBzZWxmLmFkZF9ub25fZGVmYXVsdF9wb29sX3ByZWZpeF9jbWQoJ25v
      bkRlZmF1bHQnKQogICAgICAgIHNlbGYucmpPYmoubWFpbigpCgogICAgZGVmIHRlc3RfbW9uaXRv
      cmluZ19lbmRwb2ludF92YWxpZGF0aW9uKHNlbGYpOgogICAgICAgIHNlbGYucmpPYmogPSBSYWRv
      c0pTT04oWyctLXJiZC1kYXRhLXBvb2wtbmFtZT1hYmMnLCAnLS1mb3JtYXQ9anNvbiddKQogICAg
      ICAgIHNlbGYucmpPYmouY2x1c3RlciA9IER1bW15UmFkb3MuUmFkb3MoKQoKICAgICAgICB2YWxp
      ZF9pcF9wb3J0cyA9IFsoIjEwLjIyLjMxLjEzMSIsICI5MjgzIiksCiAgICAgICAgICAgICAgICAg
      ICAgICAgICAgKCIxMC4xNzcuMy44MSIsICIiKSwgKCIiLCAiIiksICgiIiwgIjkyODMiKV0KICAg
      ICAgICBmb3IgZWFjaF9pcF9wb3J0X3BhaXIgaW4gdmFsaWRfaXBfcG9ydHM6CiAgICAgICAgICAg
      ICMgcmVzZXQgbW9uaXRvcmluZyBpcCBhbmQgcG9ydAogICAgICAgICAgICBzZWxmLnJqT2JqLl9h
      cmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnQgPSAnJwogICAgICAgICAgICBzZWxmLnJqT2Jq
      Ll9hcmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnRfcG9ydCA9ICcnCiAgICAgICAgICAgIG5l
      d19tb25faXAsIG5ld19tb25fcG9ydCA9IGVhY2hfaXBfcG9ydF9wYWlyCiAgICAgICAgICAgIGNo
      ZWNrX2lwX3ZhbCA9IHNlbGYucmpPYmouY2x1c3Rlci5kdW1teV9ob3N0X2lwX21hcC5nZXQobmV3
      X21vbl9pcCwgbmV3X21vbl9pcCkKICAgICAgICAgICAgY2hlY2tfcG9ydF92YWwgPSBSYWRvc0pT
      T04uREVGQVVMVF9NT05JVE9SSU5HX0VORFBPSU5UX1BPUlQKICAgICAgICAgICAgaWYgbmV3X21v
      bl9pcDoKICAgICAgICAgICAgICAgIHNlbGYucmpPYmouX2FyZ19wYXJzZXIubW9uaXRvcmluZ19l
      bmRwb2ludCA9IG5ld19tb25faXAKICAgICAgICAgICAgaWYgbmV3X21vbl9wb3J0OgogICAgICAg
      ICAgICAgICAgY2hlY2tfcG9ydF92YWwgPSBuZXdfbW9uX3BvcnQKICAgICAgICAgICAgICAgIHNl
      bGYucmpPYmouX2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gbmV3X21vbl9w
      b3J0CiAgICAgICAgICAgICMgZm9yIHRlc3RpbmcsIHdlIGFyZSB1c2luZyAnRHVtbXlSYWRvcycg
      b2JqZWN0CiAgICAgICAgICAgIG1vbl9pcCwgbW9uX3BvcnQgPSBzZWxmLnJqT2JqLmdldF9hY3Rp
      dmVfY2VwaF9tZ3IoKQogICAgICAgICAgICBpZiBjaGVja19pcF92YWwgYW5kIGNoZWNrX2lwX3Zh
      bCAhPSBtb25faXA6CiAgICAgICAgICAgICAgICBzZWxmLmZhaWwoIkV4cGVjdGVkIElQOiB7fSwg
      UmV0dXJuZWQgSVA6IHt9Ii5mb3JtYXQoY2hlY2tfaXBfdmFsLCBtb25faXApKQogICAgICAgICAg
      ICBpZiBjaGVja19wb3J0X3ZhbCBhbmQgY2hlY2tfcG9ydF92YWwgIT0gbW9uX3BvcnQ6CiAgICAg
      ICAgICAgICAgICBzZWxmLmZhaWwoIkV4cGVjdGVkIFBvcnQ6ICd7fScsIFJldHVybmVkIFBvcnQ6
      ICd7fSciLmZvcm1hdChjaGVja19wb3J0X3ZhbCwgbW9uX3BvcnQpKQogICAgICAgICAgICBwcmlu
      dCgiTW9uSVA6IHt9LCBNb25Qb3J0OiB7fSIuZm9ybWF0KG1vbl9pcCwgbW9uX3BvcnQpKQoKICAg
      ICAgICBpbnZhbGlkX2lwX3BvcnRzID0gWygiMTAuMjIuMzEuMTMxLjQzIiwgIjUzMzQiKSwKICAg
      ICAgICAgICAgICAgICgiMTAuMTc3LjMuODEiLCAiOTAzMjAiKSwgKCIiLCAiNzM0MjIiKSwgKCIx
      MC4yOTIuMTIuOCIsICI5MDkyIildCiAgICAgICAgZm9yIGVhY2hfaXBfcG9ydF9wYWlyIGluIGlu
      dmFsaWRfaXBfcG9ydHM6CiAgICAgICAgICAgIG5ld19tb25faXAsIG5ld19tb25fcG9ydCA9IGVh
      Y2hfaXBfcG9ydF9wYWlyCiAgICAgICAgICAgIGlmIG5ld19tb25faXA6CiAgICAgICAgICAgICAg
      ICBzZWxmLnJqT2JqLl9hcmdfcGFyc2VyLm1vbml0b3JpbmdfZW5kcG9pbnQgPSBuZXdfbW9uX2lw
      CiAgICAgICAgICAgIGlmIG5ld19tb25fcG9ydDoKICAgICAgICAgICAgICAgIHNlbGYucmpPYmou
      X2FyZ19wYXJzZXIubW9uaXRvcmluZ19lbmRwb2ludF9wb3J0ID0gbmV3X21vbl9wb3J0CiAgICAg
      ICAgICAgIHRyeToKICAgICAgICAgICAgICAgIG1vbl9pcCwgbW9uX3BvcnQgPSBzZWxmLnJqT2Jq
      LmdldF9hY3RpdmVfY2VwaF9tZ3IoKQogICAgICAgICAgICAgICAgcHJpbnQoIltXcm9uZ10gTW9u
      SVA6IHt9LCBNb25Qb3J0OiB7fSIuZm9ybWF0KG1vbl9pcCwgbW9uX3BvcnQpKQogICAgICAgICAg
      ICAgICAgc2VsZi5mYWlsKCJBbiBleGNlcHRpb24gd2FzIGV4cGVjdGVkIikKICAgICAgICAgICAg
      ZXhjZXB0IEV4ZWN1dGlvbkZhaWx1cmVFeGNlcHRpb24gYXMgZXJyOgogICAgICAgICAgICAgICAg
      cHJpbnQoIkV4Y2VwdGlvbiB0aHJvd24gc3VjY2Vzc2Z1bGx5OiB7fSIuZm9ybWF0KGVycikpCg==
    external.features.ocs.openshift.io/validation: '{"secrets":["rook-ceph-operator-creds",
      "rook-csi-rbd-node", "rook-csi-rbd-provisioner"], "configMaps": ["rook-ceph-mon-endpoints",
      "rook-ceph-mon"], "storageClasses": ["ceph-rbd"], "cephClusters": ["monitoring-endpoint"]}'
    features.ocs.openshift.io/enabled: '["external", "minimal_deployment", "encryption"]'
    olm.skipRange: '>=0.0.1 <4.6.0'
    operatorframework.io/cluster-monitoring: "true"
    operatorframework.io/suggested-namespace: openshift-storage
    operators.operatorframework.io/internal-objects: '["ocsinitializations.ocs.openshift.io","cephclusters.ceph.rook.io","cephblockpools.ceph.rook.io","cephobjectstores.ceph.rook.io","cephobjectstoreusers.ceph.rook.io","cephnfses.ceph.rook.io","cephclients.ceph.rook.io","cephfilesystems.ceph.rook.io","cephrbdmirrors.ceph.rook.io","cephobjectrealms.ceph.rook.io","cephobjectzonegroups.ceph.rook.io","cephobjectzones.ceph.rook.io","noobaas.noobaa.io","objectbucketclaims.objectbucket.io","objectbuckets.objectbucket.io"]'
    repository: https://github.com/openshift/ocs-operator
    support: Red Hat
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
  name: ocs-operator.v4.6.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: OCS Initialization represents the initial data to be created when
        the OCS operator is installed.
      displayName: OCS Initialization
      kind: OCSInitialization
      name: ocsinitializations.ocs.openshift.io
      version: v1
    - description: Storage Cluster represents a OpenShift Container Storage Cluster
        including Ceph Cluster, NooBaa and all the storage and compute resources required.
      displayName: Storage Cluster
      kind: StorageCluster
      name: storageclusters.ocs.openshift.io
      resources:
      - kind: CephCluster
        name: cephclusters.ceph.rook.io
        version: v1
      - kind: NooBaa
        name: noobaas.noobaa.io
        version: v1alpha1
      version: v1
    - description: Represents a Ceph cluster.
      displayName: Ceph Cluster
      kind: CephCluster
      name: cephclusters.ceph.rook.io
      version: v1
    - description: Represents a Ceph Block Pool.
      displayName: Ceph Block Pool
      kind: CephBlockPool
      name: cephblockpools.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store.
      displayName: Ceph Object Store
      kind: CephObjectStore
      name: cephobjectstores.ceph.rook.io
      specDescriptors:
      - description: Coding Chunks
        displayName: Coding Chunks
        path: dataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: dataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: dataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: dataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Annotations
        displayName: Annotations
        path: gateway.annotations
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:annotations
      - description: Instances
        displayName: Instances
        path: gateway.instances
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Resources
        displayName: Resources
        path: gateway.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: placement
        displayName: placement
        path: gateway.placement
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:placement
      - description: securePort
        displayName: securePort
        path: gateway.securePort
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:securePort
      - description: sslCertificateRef
        displayName: sslCertificateRef
        path: gateway.sslCertificateRef
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:io.kubernetes:sslCertificateRef
      - description: Type
        displayName: Type
        path: gateway.type
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Coding Chunks
        displayName: Coding Chunks
        path: metadataPool.erasureCoded.codingChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: Data Chunks
        displayName: Data Chunks
        path: metadataPool.erasureCoded.dataChunks
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: failureDomain
        displayName: failureDomain
        path: metadataPool.failureDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Size
        displayName: Size
        path: metadataPool.replicated.size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
        - urn:alm:descriptor:com.tectonic.ui:number
      version: v1
    - description: Represents a Ceph Object Store User.
      displayName: Ceph Object Store User
      kind: CephObjectStoreUser
      name: cephobjectstoreusers.ceph.rook.io
      version: v1
    - description: Represents a cluster of Ceph NFS ganesha gateways.
      displayName: Ceph NFS
      kind: CephNFS
      name: cephnfses.ceph.rook.io
      version: v1
    - description: Represents a Ceph User.
      displayName: Ceph Client
      kind: CephClient
      name: cephclients.ceph.rook.io
      version: v1
    - description: Represents a Ceph Filesystem.
      displayName: Ceph Filesystem
      kind: CephFilesystem
      name: cephfilesystems.ceph.rook.io
      version: v1
    - description: Represents a Ceph RBD Mirror.
      displayName: Ceph RBD Mirror
      kind: CephRBDMirror
      name: cephrbdmirrors.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Realm.
      displayName: Ceph Object Store Realm
      kind: CephObjectRealm
      name: cephobjectrealms.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone Group.
      displayName: Ceph Object Store Zone Group
      kind: CephObjectZoneGroup
      name: cephobjectzonegroups.ceph.rook.io
      version: v1
    - description: Represents a Ceph Object Store Zone.
      displayName: Ceph Object Store Zone
      kind: CephObjectZone
      name: cephobjectzones.ceph.rook.io
      version: v1
    - description: A NooBaa system - Create this to start
      displayName: NooBaa
      kind: NooBaa
      name: noobaas.noobaa.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      specDescriptors:
      - description: DBImage (optional) overrides the default image for the db container.
        displayName: DB Image
        path: image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Image (optional) overrides the default image for the server container.
        displayName: Image
        path: dbImage
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: CoreResources (optional) overrides the default resource requirements
          for the server container.
        displayName: Core Resources
        path: coreResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBResources (optional) overrides the default resource requirements
          for the db container.
        displayName: DB Resources
        path: dbResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: 'DBVolumeResources (optional) overrides the default PVC resource
          requirements for the database volume. For the time being this field is immutable
          and can only be set on system creation. This is because volume size updates
          are only supported for increasing the size, and only if the storage class
          specifies `allowVolumeExpansion: true`, +immutable.'
        displayName: Image
        path: dbVolumeResources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: DBStorageClass (optional) overrides the default cluster StorageClass
          for the database volume. For the time being this field is immutable and
          can only be set on system creation. This affects where the system stores
          its database which contains system config, buckets, objects meta-data and
          mapping file parts to storage locations. +immutable.
        displayName: DB StorageClass
        path: dbStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: PVPoolDefaultStorageClass (optional) overrides the default cluster
          StorageClass for the pv-pool volumes. This affects where the system stores
          data chunks (encrypted). Updates to this field will only affect new pv-pools,
          but updates to existing pools are not supported by the operator.
        displayName: PV Pool DefaultStorageClass
        path: pvPoolDefaultStorageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: ImagePullSecret (optional) sets a pull secret for the system
          image.
        displayName: Image Pull Secret
        path: imagePullSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      version: v1alpha1
    - description: Storage target spec such as aws-s3, s3-compatible, ibm-cos, PV's
        and more. Used in BacketClass to construct data placement policies.
      displayName: Backing Store
      kind: BackingStore
      name: backingstores.noobaa.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      specDescriptors:
      - description: Region is the AWS region.
        displayName: Region
        path: awsS3.region
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Secret refers to a secret that provides the credentials. The
          secret should define AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY.
        displayName: Secret
        path: awsS3.secret.name
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: SSLDisabled allows to disable SSL and use plain http.
        displayName: SSL Disabled
        path: awsS3.sslDisabled
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: TargetBucket is the name of the target S3 bucket.
        displayName: Target Bucket
        path: awsS3.targetBucket
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: |2-
           Secret refers to a secret that provides the credentials. The secret should define AccountName and AccountKey as provided
          by Azure Blob.
        displayName: Secret
        path: azureBlob.secret.name
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:azureBlob
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: TargetBlobContainer is the name of the target Azure Blob container.
        displayName: Target Blob Container
        path: azureBlob.targetBlobContainer
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:azureBlob
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: |-
          Secret refers to a secret that provides the credentials. The secret should define GoogleServiceAccountPrivateKeyJson containing
          the entire json string as provided by Google.
        displayName: Secret
        path: googleCloudStorage.secret.name
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:googleCloudStorage
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: TargetBucket is the name of the target S3 bucket.
        displayName: Target Bucket
        path: googleCloudStorage.targetBucket
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:googleCloudStorage
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: NumVolumes is the number of volumes to allocate.
        displayName: Num Volumes
        path: pvPool.numVolumes
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: VolumeResources represents the minimum resources each volume
          should have.
        displayName: Resources
        path: pvPool.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: StorageClass is the name of the storage class to use for the
          PV's.
        displayName: Storage Class
        path: pvPool.storageClass
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Endpoint is the S3 compatible endpoint: http(s)://host:port.'
        displayName: End Point
        path: s3Compatible.endpoint
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Secret refers to a secret that provides the credentials. The
          secret should define AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY.
        displayName: Secret
        path: s3Compatible.secret.name
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: SignatureVersion specifies the client signature version to use
          when signing requests.
        displayName: Signature Version
        path: s3Compatible.signatureVersion
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: TargetBucket is the name of the target S3 bucket.
        displayName: Target Bucket
        path: s3Compatible.targetBucket
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Endpoint is the IBM COS endpoint: http(s)://host:port.'
        displayName: End Point
        path: IBMCos.endpoint
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Secret refers to a secret that provides the credentials. The
          secret should define IBM_COS_ACCESS_KEY_ID and IBM_COS_SECRET_ACCESS_KEY.
        displayName: Secret
        path: IBMCos.secret.name
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: SignatureVersion specifies the client signature version to use
          when signing requests.
        displayName: Signature Version
        path: IBMCos.signatureVersion
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: TargetBucket is the name of the target IBM COS bucket.
        displayName: Target Bucket
        path: IBMCos.targetBucket
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
        - urn:alm:descriptor:com.tectonic.ui:text
      version: v1alpha1
    - description: Storage policy spec  tiering, mirroring, spreading. Combines BackingStores.
        Referenced by ObjectBucketClaims.
      displayName: Bucket Class
      kind: BucketClass
      name: bucketclasses.noobaa.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      specDescriptors:
      - description: BackingStores is an unordered list of backing store names. The
          meaning of the list depends on the placement.
        displayName: Backing Stores
        path: placementPolicy.tiers[0].backingStores[0]
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:placementPolicy
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Placement specifies the type of placement for the tier If empty
          it should have a single backing store.
        displayName: Placement
        path: placementPolicy.tiers[0].placement
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:fieldGroup:placementPolicy
        - urn:alm:descriptor:com.tectonic.ui:text
      version: v1alpha1
    - description: Claim a bucket just like claiming a PV. Automate you app bucket
        provisioning by creating OBC with your app deployment. A secret and configmap
        (name=claim) will be created with access details for the app pods.
      displayName: Object Bucket Claim
      kind: ObjectBucketClaim
      name: objectbucketclaims.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
    - description: Used under-the-hood. Created per ObjectBucketClaim and keeps provisioning
        information.
      displayName: Object Bucket
      kind: ObjectBucket
      name: objectbuckets.objectbucket.io
      resources:
      - kind: Service
        name: services
        version: v1
      - kind: Secret
        name: secrets
        version: v1
      - kind: ConfigMap
        name: configmaps
        version: v1
      - kind: StatefulSet
        name: statefulsets.apps
        version: v1
      version: v1alpha1
  description: |2

    **Red Hat OpenShift Container Storage** deploys three operators.

    ### OpenShift Container Storage operator

    The OpenShift Container Storage operator is the primary operator for OpenShift Container Storage. It serves to facilitate the other operators in OpenShift Container Storage by performing administrative tasks outside their scope as well as watching and configuring their CustomResources.

    ### Rook

    [Rook][1] deploys and manages Ceph on OpenShift, which provides block and file storage.

    ### NooBaa operator

    The NooBaa operator deploys and manages the [NooBaa][2] Multi-Cloud Gateway on OpenShift, which provides object storage.

    # Core Capabilities

    * **Self-managing service:** No matter which supported storage technologies you choose, OpenShift Container Storage ensures that resources can be deployed and managed automatically.

    * **Hyper-scale or hyper-converged:** With OpenShift Container Storage you can either build dedicated storage clusters or hyper-converged clusters where your apps run alongside storage.

    * **File, Block, and Object provided by OpenShift Container Storage:** OpenShift Container Storage integrates Ceph with multiple storage presentations including object storage (compatible with S3), block storage, and POSIX-compliant shared file system.

    * **Your data, protected:** OpenShift Container Storage efficiently distributes and replicates your data across your cluster to minimize the risk of data loss. With snapshots, cloning, and versioning, no more losing sleep over your data.

    * **Elastic storage in your datacenter:** Scale is now possible in your datacenter. Get started with a few terabytes, and easily scale up.

    * **Simplified data management:** Easily create hybrid and multi-cloud data storage for your workloads, using a single namespace.

    [1]: https://rook.io
    [2]: https://noobaa.io
  displayName: OpenShift Container Storage
  icon:
  - base64data: PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTIgMTQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlJlZEhhdC1Mb2dvLUhhdC1Db2xvcjwvdGl0bGU+PHBhdGggZD0iTTE1Ny43Nyw2Mi42MWExNCwxNCwwLDAsMSwuMzEsMy40MmMwLDE0Ljg4LTE4LjEsMTcuNDYtMzAuNjEsMTcuNDZDNzguODMsODMuNDksNDIuNTMsNTMuMjYsNDIuNTMsNDRhNi40Myw2LjQzLDAsMCwxLC4yMi0xLjk0bC0zLjY2LDkuMDZhMTguNDUsMTguNDUsMCwwLDAtMS41MSw3LjMzYzAsMTguMTEsNDEsNDUuNDgsODcuNzQsNDUuNDgsMjAuNjksMCwzNi40My03Ljc2LDM2LjQzLTIxLjc3LDAtMS4wOCwwLTEuOTQtMS43My0xMC4xM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMjcuNDcsODMuNDljMTIuNTEsMCwzMC42MS0yLjU4LDMwLjYxLTE3LjQ2YTE0LDE0LDAsMCwwLS4zMS0zLjQybC03LjQ1LTMyLjM2Yy0xLjcyLTcuMTItMy4yMy0xMC4zNS0xNS43My0xNi42QzEyNC44OSw4LjY5LDEwMy43Ni41LDk3LjUxLjUsOTEuNjkuNSw5MCw4LDgzLjA2LDhjLTYuNjgsMC0xMS42NC01LjYtMTcuODktNS42LTYsMC05LjkxLDQuMDktMTIuOTMsMTIuNSwwLDAtOC40MSwyMy43Mi05LjQ5LDI3LjE2QTYuNDMsNi40MywwLDAsMCw0Mi41Myw0NGMwLDkuMjIsMzYuMywzOS40NSw4NC45NCwzOS40NU0xNjAsNzIuMDdjMS43Myw4LjE5LDEuNzMsOS4wNSwxLjczLDEwLjEzLDAsMTQtMTUuNzQsMjEuNzctMzYuNDMsMjEuNzdDNzguNTQsMTA0LDM3LjU4LDc2LjYsMzcuNTgsNTguNDlhMTguNDUsMTguNDUsMCwwLDEsMS41MS03LjMzQzIyLjI3LDUyLC41LDU1LC41LDc0LjIyYzAsMzEuNDgsNzQuNTksNzAuMjgsMTMzLjY1LDcwLjI4LDQ1LjI4LDAsNTYuNy0yMC40OCw1Ni43LTM2LjY1LDAtMTIuNzItMTEtMjcuMTYtMzAuODMtMzUuNzgiLz48L3N2Zz4=
    mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - endpoints
          - persistentvolumeclaims
          - events
          - configmaps
          - secrets
          - nodes
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - apps
          resources:
          - deployments
          - daemonsets
          - replicasets
          - statefulsets
          verbs:
          - '*'
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - servicemonitors
          - prometheusrules
          verbs:
          - get
          - list
          - watch
          - create
          - update
        - apiGroups:
          - ocs.openshift.io
          resources:
          - '*'
          - storageclusters
          - ocsinitialization
          - storageclusterinitializations
          verbs:
          - '*'
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclusters
          - cephblockpools
          - cephfilesystems
          - cephobjectstores
          - cephobjectstoreusers
          verbs:
          - '*'
        - apiGroups:
          - noobaa.io
          resources:
          - noobaas
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - security.openshift.io
          resources:
          - securitycontextconstraints
          verbs:
          - get
          - create
          - update
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - get
          - create
          - update
        - apiGroups:
          - template.openshift.io
          resources:
          - templates
          verbs:
          - '*'
        serviceAccountName: ocs-operator
      - rules:
        - apiGroups:
          - ceph.rook.io
          resources:
          - '*'
          verbs:
          - get
          - watch
          - list
        serviceAccountName: rook-ceph-admission-controller-role
      - rules:
        - apiGroups:
          - ""
          - apps
          - extensions
          resources:
          - secrets
          - pods
          - pods/log
          - services
          - configmaps
          - deployments
          - daemonsets
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - nodes
          - nodes/proxy
          - services
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          - persistentvolumes
          - persistentvolumeclaims
          - endpoints
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - rook.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - policy
          - apps
          - extensions
          resources:
          - poddisruptionbudgets
          - deployments
          - replicasets
          verbs:
          - '*'
        - apiGroups:
          - healthchecking.openshift.io
          resources:
          - machinedisruptionbudgets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - machine.openshift.io
          resources:
          - machines
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - storage.k8s.io
          resources:
          - csidrivers
          verbs:
          - create
          - delete
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          - nodes
          - nodes/proxy
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - patch
          - list
          - get
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          - configmaps
          verbs:
          - '*'
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - objectbucket.io
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        serviceAccountName: rook-csi-cephfs-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - create
          - list
          - watch
          - delete
          - get
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
        serviceAccountName: rook-csi-rbd-plugin-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
        - apiGroups:
          - ""
          resources:
          - persistentvolumes
          verbs:
          - get
          - list
          - watch
          - create
          - delete
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - storage.k8s.io
          resources:
          - volumeattachments
          verbs:
          - get
          - list
          - watch
          - update
          - patch
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - watch
          - create
          - update
          - patch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents
          verbs:
          - create
          - get
          - list
          - watch
          - update
          - delete
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotclasses
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshotcontents/status
          verbs:
          - update
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - create
          - list
          - watch
          - delete
          - get
          - update
        - apiGroups:
          - snapshot.storage.k8s.io
          resources:
          - volumesnapshots/status
          verbs:
          - update
        - apiGroups:
          - ""
          resources:
          - persistentvolumeclaims/status
          verbs:
          - update
          - patch
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - use
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - noobaa.io
          resources:
          - '*'
          - noobaas
          - backingstores
          - bucketclasses
          - noobaas/finalizers
          - backingstores/finalizers
          - bucketclasses/finalizers
          verbs:
          - '*'
        - apiGroups:
          - objectbucket.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - configmaps
          - secrets
          - persistentvolumes
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
        - apiGroups:
          - storage.k8s.io
          resources:
          - storageclasses
          verbs:
          - get
          - list
          - watch
          - create
          - update
        - apiGroups:
          - ""
          resources:
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - authentication.k8s.io
          resources:
          - tokenreviews
          verbs:
          - create
        - apiGroups:
          - authorization.k8s.io
          resources:
          - subjectaccessreviews
          verbs:
          - create
        serviceAccountName: noobaa
      - rules:
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: ocs-metrics-exporter
      deployments:
      - name: ocs-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: ocs-operator
          strategy:
            type: Recreate
          template:
            metadata:
              labels:
                name: ocs-operator
            spec:
              containers:
              - command:
                - ocs-operator
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: OPERATOR_NAME
                  value: ocs-operator
                - name: ROOK_CEPH_IMAGE
                  value: rook/ceph:v1.4.9
                - name: CEPH_IMAGE
                  value: ceph/ceph:v14.2
                - name: NOOBAA_CORE_IMAGE
                  value: noobaa/noobaa-core:5.5.0
                - name: NOOBAA_DB_IMAGE
                  value: centos/mongodb-36-centos7
                image: quay.io/ocs-dev/ocs-operator:latest
                imagePullPolicy: Always
                name: ocs-operator
                ports:
                - containerPort: 60000
                  name: metrics
                readinessProbe:
                  exec:
                    command:
                    - stat
                    - /tmp/operator-sdk-ready
                  failureThreshold: 1
                  initialDelaySeconds: 4
                  periodSeconds: 10
                resources: {}
              serviceAccountName: ocs-operator
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      - name: rook-ceph-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: rook-ceph-operator
          strategy: {}
          template:
            metadata:
              labels:
                app: rook-ceph-operator
            spec:
              containers:
              - args:
                - ceph
                - operator
                env:
                - name: ROOK_CURRENT_NAMESPACE_ONLY
                  value: "true"
                - name: ROOK_ALLOW_MULTIPLE_FILESYSTEMS
                  value: "false"
                - name: ROOK_LOG_LEVEL
                  value: INFO
                - name: ROOK_CEPH_STATUS_CHECK_INTERVAL
                  value: 60s
                - name: ROOK_MON_HEALTHCHECK_INTERVAL
                  value: 45s
                - name: ROOK_MON_OUT_TIMEOUT
                  value: 600s
                - name: ROOK_DISCOVER_DEVICES_INTERVAL
                  value: 60m
                - name: ROOK_HOSTPATH_REQUIRES_PRIVILEGED
                  value: "true"
                - name: ROOK_ENABLE_SELINUX_RELABELING
                  value: "true"
                - name: ROOK_ENABLE_FSGROUP
                  value: "true"
                - name: ROOK_ENABLE_FLEX_DRIVER
                  value: "false"
                - name: ROOK_ENABLE_DISCOVERY_DAEMON
                  value: "false"
                - name: ROOK_ENABLE_MACHINE_DISRUPTION_BUDGET
                  value: "false"
                - name: ROOK_DISABLE_DEVICE_HOTPLUG
                  value: "true"
                - name: ROOK_CSI_ALLOW_UNSUPPORTED_VERSION
                  value: "true"
                - name: CSI_PROVISIONER_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: CSI_PLUGIN_TOLERATIONS
                  value: |2-

                    - key: node.ocs.openshift.io/storage
                      operator: Equal
                      value: "true"
                      effect: NoSchedule
                - name: NODE_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: spec.nodeName
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: POD_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: ROOK_OBC_WATCH_OPERATOR_NAMESPACE
                  value: "true"
                image: rook/ceph:v1.4.9
                name: rook-ceph-operator
                resources: {}
                volumeMounts:
                - mountPath: /var/lib/rook
                  name: rook-config
                - mountPath: /etc/ceph
                  name: default-config-dir
              serviceAccountName: rook-ceph-system
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
              volumes:
              - emptyDir: {}
                name: rook-config
              - emptyDir: {}
                name: default-config-dir
      - name: noobaa-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              noobaa-operator: deployment
          strategy: {}
          template:
            metadata:
              labels:
                app: noobaa
                noobaa-operator: deployment
            spec:
              containers:
              - env:
                - name: OPERATOR_NAME
                  value: noobaa-operator
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: NOOBAA_CORE_IMAGE
                  value: noobaa/noobaa-core:5.5.0
                - name: NOOBAA_DB_IMAGE
                  value: centos/mongodb-36-centos7
                image: noobaa/noobaa-operator:2.3.0
                name: noobaa-operator
                resources:
                  limits:
                    cpu: 250m
                    memory: 512Mi
              serviceAccountName: noobaa
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      - name: ocs-metrics-exporter
        spec:
          replicas: 1
          selector:
            matchLabels:
              app.kubernetes.io/component: ocs-metrics-exporter
              app.kubernetes.io/name: ocs-metrics-exporter
          strategy: {}
          template:
            metadata:
              labels:
                app.kubernetes.io/component: ocs-metrics-exporter
                app.kubernetes.io/name: ocs-metrics-exporter
                app.kubernetes.io/version: 0.0.1
            spec:
              containers:
              - args:
                - --namespaces=openshift-storage
                command:
                - /usr/local/bin/metrics-exporter
                image: quay.io/ocs-dev/ocs-operator:latest
                name: ocs-metrics-exporter
                ports:
                - containerPort: 8080
                - containerPort: 8081
                resources: {}
                securityContext:
                  runAsNonRoot: true
              serviceAccountName: ocs-metrics-exporter
              tolerations:
              - effect: NoSchedule
                key: node.ocs.openshift.io/storage
                operator: Equal
                value: "true"
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          - services
          verbs:
          - get
          - list
          - watch
          - patch
          - create
          - update
          - delete
        - apiGroups:
          - apps
          - extensions
          resources:
          - daemonsets
          - statefulsets
          - deployments
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - k8s.cni.cncf.io
          resources:
          - network-attachment-definitions
          verbs:
          - get
        serviceAccountName: rook-ceph-system
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephclusters
          - cephclusters/finalizers
          verbs:
          - get
          - list
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-osd
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - pods/log
          verbs:
          - get
          - list
          - watch
          - delete
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ceph.rook.io
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: rook-ceph-mgr
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - create
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        serviceAccountName: rook-csi-cephfs-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - endpoints
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - watch
          - list
          - delete
          - update
          - create
        serviceAccountName: rook-csi-rbd-provisioner-sa
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        serviceAccountName: rook-ceph-cmd-reporter
      - rules:
        - apiGroups:
          - noobaa.io
          resources:
          - '*'
          - noobaas
          - backingstores
          - bucketclasses
          - noobaas/finalizers
          - backingstores/finalizers
          - bucketclasses/finalizers
          verbs:
          - '*'
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - endpoints
          - persistentvolumeclaims
          - events
          - configmaps
          - secrets
          - serviceaccounts
          verbs:
          - '*'
        - apiGroups:
          - apps
          resources:
          - deployments
          - daemonsets
          - replicasets
          - statefulsets
          verbs:
          - '*'
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - servicemonitors
          - prometheusrules
          verbs:
          - get
          - create
          - update
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - services/finalizers
          verbs:
          - update
        - apiGroups:
          - apps
          resourceNames:
          - noobaa-operator
          resources:
          - deployments/finalizers
          verbs:
          - update
        - apiGroups:
          - cloudcredential.openshift.io
          resources:
          - credentialsrequests
          verbs:
          - get
          - create
          - update
          - list
          - watch
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephobjectstores
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ceph.rook.io
          resources:
          - cephobjectstoreusers
          verbs:
          - get
          - create
          - update
          - list
          - watch
        - apiGroups:
          - route.openshift.io
          resources:
          - routes
          verbs:
          - get
          - create
          - update
          - list
          - watch
        - apiGroups:
          - autoscaling
          resources:
          - horizontalpodautoscalers
          verbs:
          - get
          - create
          - update
          - patch
          - list
          - watch
        serviceAccountName: noobaa
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - storage
  - rook
  - ceph
  - noobaa
  - block storage
  - shared filesystem
  - object storage
  links:
  - name: Source Code
    url: https://github.com/openshift/ocs-operator
  maintainers:
  - email: ocs-support@redhat.com
    name: Red Hat Support
  maturity: alpha
  provider:
    name: Red Hat
  relatedImages:
  - image: rook/ceph:v1.4.9
    name: rook-container
  - image: ceph/ceph:v14.2
    name: ceph-container
  - image: noobaa/noobaa-operator:2.3.0
    name: noobaa-operator
  - image: noobaa/noobaa-core:5.5.0
    name: noobaa-core
  - image: centos/mongodb-36-centos7
    name: noobaa-db
  - image: quay.io/ocs-dev/ocs-must-gather:latest
    name: ocs-must-gather
  version: 4.6.0
