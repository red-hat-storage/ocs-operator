---
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |2-

      [
          {
              "apiVersion": "ocs.openshift.io/v1",
              "kind": "StorageCluster",
              "metadata": {
                  "name": "example-storagecluster",
                  "namespace": "openshift-storage"
              },
              "spec": {
                  "manageNodes": false,
                  "monPVCTemplate": {
                      "spec": {
                          "accessModes": [
                              "ReadWriteOnce"
                          ],
                          "resources": {
                              "requests": {
                                  "storage": "10Gi"
                              }
                          },
                          "storageClassName": "gp2"
                      }
                  },
                  "storageDeviceSets": [
                      {
                          "count": 3,
                          "dataPVCTemplate": {
                              "spec": {
                                  "accessModes": [
                                      "ReadWriteOnce"
                                  ],
                                  "resources": {
                                      "requests": {
                                          "storage": "1Ti"
                                      }
                                  },
                                  "storageClassName": "gp2",
                                  "volumeMode": "Block"
                              }
                          },
                          "name": "example-deviceset",
                          "placement": {},
                          "portable": true,
                          "resources": {}
                      }
                  ]
              }
          }
      ]
    capabilities: Full Lifecycle
    categories: Storage
    containerImage: quay.io/ocs-dev/ocs-operator:4.3.0
    createdAt: "2020-03-12 15:40:59"
    description:
      Red Hat OpenShift Container Storage provides hyperconverged storage
      for applications within an OpenShift cluster.
    external.cluster.ocs.openshift.io/supported: "true"
    operatorframework.io/cluster-monitoring: "true"
    operatorframework.io/suggested-namespace: openshift-storage
    operators.operatorframework.io/internal-objects:
      '["cephclusters.ceph.rook.io",
      "cephblockpools.ceph.rook.io", "cephobjectstores.ceph.rook.io", "cephobjectstoreusers.ceph.rook.io",
      "cephnfses.ceph.rook.io", "noobaas.noobaa.io", "objectbuckets.objectbucket.io","objectbucketclaims.objectbucket.io","ocsinitializations.ocs.openshift.io",
      "storageclusterinitializations.ocs.openshift.io"]'
    repository: https://github.com/openshift/ocs-operator
    support: Red Hat
  name: ocs-operator.v4.3.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - description: |-
          [This resource is not intended to be created or managed by users.]


          OCS Initialization represents the initial data to be created when the OCS operator is installed.
        displayName: "[Internal] OCS Initialization"
        kind: OCSInitialization
        name: ocsinitializations.ocs.openshift.io
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          StorageCluster Initialization represents a set of tasks the OCS operator wants to implement for every StorageCluster it encounters.
        displayName: "[Internal] StorageCluster Initialization"
        kind: StorageClusterInitialization
        name: storageclusterinitializations.ocs.openshift.io
        version: v1
      - description:
          Storage Cluster represents a OpenShift Container Storage Cluster
          including Ceph Cluster, NooBaa and all the storage and compute resources required.
        displayName: Storage Cluster
        kind: StorageCluster
        name: storageclusters.ocs.openshift.io
        resources:
          - kind: CephCluster
            name: cephclusters.ceph.rook.io
            version: v1
          - kind: NooBaa
            name: noobaas.noobaa.io
            version: v1alpha1
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Represents a Ceph cluster.
        displayName: "[Internal] Ceph Cluster"
        kind: CephCluster
        name: cephclusters.ceph.rook.io
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Represents a Ceph Block Pool.
        displayName: "[Internal] Ceph Block Pool"
        kind: CephBlockPool
        name: cephblockpools.ceph.rook.io
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Represents a Ceph Object Store.
        displayName: "[Internal] Ceph Object Store"
        kind: CephObjectStore
        name: cephobjectstores.ceph.rook.io
        specDescriptors:
          - description: Coding Chunks
            displayName: Coding Chunks
            path: dataPool.erasureCoded.codingChunks
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Data Chunks
            displayName: Data Chunks
            path: dataPool.erasureCoded.dataChunks
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: failureDomain
            displayName: failureDomain
            path: dataPool.failureDomain
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: Size
            displayName: Size
            path: dataPool.replicated.size
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:dataPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Annotations
            displayName: Annotations
            path: gateway.annotations
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:io.kubernetes:annotations
          - description: Instances
            displayName: Instances
            path: gateway.instances
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Resources
            displayName: Resources
            path: gateway.resources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: placement
            displayName: placement
            path: gateway.placement
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:io.kubernetes:placement
          - description: securePort
            displayName: securePort
            path: gateway.securePort
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:io.kubernetes:securePort
          - description: sslCertificateRef
            displayName: sslCertificateRef
            path: gateway.sslCertificateRef
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:io.kubernetes:sslCertificateRef
          - description: Type
            displayName: Type
            path: gateway.type
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:gateway
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: Coding Chunks
            displayName: Coding Chunks
            path: metadataPool.erasureCoded.codingChunks
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Data Chunks
            displayName: Data Chunks
            path: metadataPool.erasureCoded.dataChunks
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: failureDomain
            displayName: failureDomain
            path: metadataPool.failureDomain
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: Size
            displayName: Size
            path: metadataPool.replicated.size
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:metadataPool
              - urn:alm:descriptor:com.tectonic.ui:number
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Represents a Ceph Object Store User.
        displayName: "[Internal] Ceph Object Store User"
        kind: CephObjectStoreUser
        name: cephobjectstoreusers.ceph.rook.io
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Represents a cluster of Ceph NFS ganesha gateways.
        displayName: "[Internal] Ceph NFS"
        kind: CephNFS
        name: cephnfses.ceph.rook.io
        version: v1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          A NooBaa system - Create this to start
        displayName: "[Internal] NooBaa"
        kind: NooBaa
        name: noobaas.noobaa.io
        resources:
          - kind: Service
            name: services
            version: v1
          - kind: Secret
            name: secrets
            version: v1
          - kind: ConfigMap
            name: configmaps
            version: v1
          - kind: StatefulSet
            name: statefulsets.apps
            version: v1
        specDescriptors:
          - description: DBImage (optional) overrides the default image for the db container.
            displayName: DB Image
            path: image
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: Image (optional) overrides the default image for the server container.
            displayName: Image
            path: dbImage
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              CoreResources (optional) overrides the default resource requirements
              for the server container.
            displayName: Core Resources
            path: coreResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description:
              DBResources (optional) overrides the default resource requirements
              for the db container.
            displayName: DB Resources
            path: dbResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description:
              "DBVolumeResources (optional) overrides the default PVC resource
              requirements for the database volume. For the time being this field is immutable
              and can only be set on system creation. This is because volume size updates
              are only supported for increasing the size, and only if the storage class
              specifies `allowVolumeExpansion: true`, +immutable."
            displayName: Image
            path: dbVolumeResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description:
              DBStorageClass (optional) overrides the default cluster StorageClass
              for the database volume. For the time being this field is immutable and
              can only be set on system creation. This affects where the system stores
              its database which contains system config, buckets, objects meta-data and
              mapping file parts to storage locations. +immutable.
            displayName: DB StorageClass
            path: dbStorageClass
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              PVPoolDefaultStorageClass (optional) overrides the default cluster
              StorageClass for the pv-pool volumes. This affects where the system stores
              data chunks (encrypted). Updates to this field will only affect new pv-pools,
              but updates to existing pools are not supported by the operator.
            displayName: PV Pool DefaultStorageClass
            path: pvPoolDefaultStorageClass
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              ImagePullSecret (optional) sets a pull secret for the system
              image.
            displayName: Image Pull Secret
            path: imagePullSecret
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
        version: v1alpha1
      - description:
          Storage target spec such as aws-s3, s3-compatible, ibm-cos, PV's
          and more. Used in BacketClass to construct data placement policies.
        displayName: Backing Store
        kind: BackingStore
        name: backingstores.noobaa.io
        resources:
          - kind: Service
            name: services
            version: v1
          - kind: Secret
            name: secrets
            version: v1
          - kind: ConfigMap
            name: configmaps
            version: v1
          - kind: StatefulSet
            name: statefulsets.apps
            version: v1
        specDescriptors:
          - description: Region is the AWS region.
            displayName: Region
            path: awsS3.region
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              Secret refers to a secret that provides the credentials. The
              secret should define AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY.
            displayName: Secret
            path: awsS3.secret.name
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: SSLDisabled allows to disable SSL and use plain http.
            displayName: SSL Disabled
            path: awsS3.sslDisabled
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: TargetBucket is the name of the target S3 bucket.
            displayName: Target Bucket
            path: awsS3.targetBucket
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:awsS3
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: |2-
              Secret refers to a secret that provides the credentials. The secret should define AccountName and AccountKey as provided
              by Azure Blob.
            displayName: Secret
            path: azureBlob.secret
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:azureBlob
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: TargetBlobContainer is the name of the target Azure Blob container.
            displayName: Target Blob Container
            path: azureBlob.targetBlobContainer
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:azureBlob
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: |-
              Secret refers to a secret that provides the credentials. The secret should define GoogleServiceAccountPrivateKeyJson containing
              the entire json string as provided by Google.
            displayName: Secret
            path: googleCloudStorage.secret
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:googleCloudStorage
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: TargetBucket is the name of the target S3 bucket.
            displayName: Target Bucket
            path: googleCloudStorage.targetBucket
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:googleCloudStorage
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: NumVolumes is the number of volumes to allocate.
            displayName: Num Volumes
            path: pvPool.numVolumes
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
              - urn:alm:descriptor:com.tectonic.ui:number
          - description:
              VolumeResources represents the minimum resources each volume
              should have.
            displayName: Resources
            path: pvPool.resources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description:
              StorageClass is the name of the storage class to use for the
              PV's.
            displayName: Storage Class
            path: pvPool.storageClass
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:pvPool
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: "Endpoint is the S3 compatible endpoint: http(s)://host:port."
            displayName: End Point
            path: s3Compatible.endpoint
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              Secret refers to a secret that provides the credentials. The
              secret should define AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY.
            displayName: Secret
            path: s3Compatible.secret
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
              - urn:alm:descriptor:io.kubernetes:Secret
          - description:
              SignatureVersion specifies the client signature version to use
              when signing requests.
            displayName: Signature Version
            path: s3Compatible.signatureVersion
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: TargetBucket is the name of the target S3 bucket.
            displayName: Target Bucket
            path: s3Compatible.targetBucket
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:s3Compatible
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: "Endpoint is the IBM COS endpoint: http(s)://host:port."
            displayName: End Point
            path: IBMCos.endpoint
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              Secret refers to a secret that provides the credentials. The
              secret should define IBM_COS_ACCESS_KEY_ID and IBM_COS_SECRET_ACCESS_KEY.
            displayName: Secret
            path: IBMCos.secret
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
              - urn:alm:descriptor:io.kubernetes:Secret
          - description:
              SignatureVersion specifies the client signature version to use
              when signing requests.
            displayName: Signature Version
            path: IBMCos.signatureVersion
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: TargetBucket is the name of the target IBM COS bucket.
            displayName: Target Bucket
            path: IBMCos.targetBucket
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:ibmCos
              - urn:alm:descriptor:com.tectonic.ui:text
        version: v1alpha1
      - description:
          Storage policy spec  tiering, mirroring, spreading. Combines BackingStores.
          Referenced by ObjectBucketClaims.
        displayName: Bucket Class
        kind: BucketClass
        name: bucketclasses.noobaa.io
        resources:
          - kind: Service
            name: services
            version: v1
          - kind: Secret
            name: secrets
            version: v1
          - kind: ConfigMap
            name: configmaps
            version: v1
          - kind: StatefulSet
            name: statefulsets.apps
            version: v1
        specDescriptors:
          - description:
              BackingStores is an unordered list of backing store names. The
              meaning of the list depends on the placement.
            displayName: Backing Stores
            path: placementPolicy.tiers[0].backingStores[0]
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:placementPolicy
              - urn:alm:descriptor:com.tectonic.ui:text
          - description:
              Placement specifies the type of placement for the tier If empty
              it should have a single backing store.
            displayName: Placement
            path: placementPolicy.tiers[0].placement
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldGroup:placementPolicy
              - urn:alm:descriptor:com.tectonic.ui:text
        version: v1alpha1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Claim a bucket just like claiming a PV. Automate you app bucket provisioning by creating OBC with your app deployment. A secret and configmap (name=claim) will be created with access details for the app pods.
        displayName: "[Internal] Object Bucket Claim"
        kind: ObjectBucketClaim
        name: objectbucketclaims.objectbucket.io
        resources:
          - kind: Service
            name: services
            version: v1
          - kind: Secret
            name: secrets
            version: v1
          - kind: ConfigMap
            name: configmaps
            version: v1
          - kind: StatefulSet
            name: statefulsets.apps
            version: v1
        version: v1alpha1
      - description: |-
          [This resource is not intended to be created or managed by users.]


          Used under-the-hood. Created per ObjectBucketClaim and keeps provisioning information.
        displayName: "[Internal] Object Bucket"
        kind: ObjectBucket
        name: objectbuckets.objectbucket.io
        resources:
          - kind: Service
            name: services
            version: v1
          - kind: Secret
            name: secrets
            version: v1
          - kind: ConfigMap
            name: configmaps
            version: v1
          - kind: StatefulSet
            name: statefulsets.apps
            version: v1
        version: v1alpha1
  description: |2

    **Red Hat OpenShift Container Storage** deploys three operators.

    ### OpenShift Container Storage operator

    The OpenShift Container Storage operator is the primary operator for OpenShift Container Storage. It serves to facilitate the other operators in OpenShift Container Storage by performing administrative tasks outside their scope as well as watching and configuring their CustomResources.

    ### Rook

    [Rook][1] deploys and manages Ceph on OpenShift, which provides block and file storage.

    ### NooBaa operator

    The NooBaa operator deploys and manages the [NooBaa][2] Multi-Cloud Gateway on OpenShift, which provides object storage.

    # Core Capabilities

    * **Self-managing service:** No matter which supported storage technologies you choose, OpenShift Container Storage ensures that resources can be deployed and managed automatically.

    * **Hyper-scale or hyper-converged:** With OpenShift Container Storage you can either build dedicated storage clusters or hyper-converged clusters where your apps run alongside storage.

    * **File, Block, and Object provided by OpenShift Container Storage:** OpenShift Container Storage integrates Ceph with multiple storage presentations including object storage (compatible with S3), block storage, and POSIX-compliant shared file system.

    * **Your data, protected:** OpenShift Container Storage efficiently distributes and replicates your data across your cluster to minimize the risk of data loss. With snapshots, cloning, and versioning, no more losing sleep over your data.

    * **Elastic storage in your datacenter:** Scale is now possible in your datacenter. Get started with a few terabytes, and easily scale up.

    * **Simplified data management:** Easily create hybrid and multi-cloud data storage for your workloads, using a single namespace.

    # Pre-requisites

    ## Before Subscription

    Before subscribing to OpenShift Container Storage, the following pre-requisites must be satisfied.

    ### Namespace

    OpenShift Container Storage runs only in the openshift-storage namespace, which needs to be created before subscription. The following manifest can be used to create the namespace.

    ```
    apiVersion: v1
    kind: Namespace
    metadata:
      labels:
        openshift.io/cluster-monitoring: "true"
      name: openshift-storage
    spec: {}
    ```

    Save the above as rhocs-namespace.yaml, and create the Namespace with,

    ```
    $ oc create -f rhocs-namespace.yaml
    ```
    **Important:** Make sure 'openshift.io/cluster-monitoring: "true"' is present in the rhocs-namespace.yaml, which enables the cluster monitoring.

    ## After subscription

    After the three operators have been deployed into the openshift-storage namespace, a StorageCluster can be created.

    [1]: https://rook.io
    [2]: https://noobaa.io
  displayName: OpenShift Container Storage
  icon:
    - base64data: PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTIgMTQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlJlZEhhdC1Mb2dvLUhhdC1Db2xvcjwvdGl0bGU+PHBhdGggZD0iTTE1Ny43Nyw2Mi42MWExNCwxNCwwLDAsMSwuMzEsMy40MmMwLDE0Ljg4LTE4LjEsMTcuNDYtMzAuNjEsMTcuNDZDNzguODMsODMuNDksNDIuNTMsNTMuMjYsNDIuNTMsNDRhNi40Myw2LjQzLDAsMCwxLC4yMi0xLjk0bC0zLjY2LDkuMDZhMTguNDUsMTguNDUsMCwwLDAtMS41MSw3LjMzYzAsMTguMTEsNDEsNDUuNDgsODcuNzQsNDUuNDgsMjAuNjksMCwzNi40My03Ljc2LDM2LjQzLTIxLjc3LDAtMS4wOCwwLTEuOTQtMS43My0xMC4xM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMjcuNDcsODMuNDljMTIuNTEsMCwzMC42MS0yLjU4LDMwLjYxLTE3LjQ2YTE0LDE0LDAsMCwwLS4zMS0zLjQybC03LjQ1LTMyLjM2Yy0xLjcyLTcuMTItMy4yMy0xMC4zNS0xNS43My0xNi42QzEyNC44OSw4LjY5LDEwMy43Ni41LDk3LjUxLjUsOTEuNjkuNSw5MCw4LDgzLjA2LDhjLTYuNjgsMC0xMS42NC01LjYtMTcuODktNS42LTYsMC05LjkxLDQuMDktMTIuOTMsMTIuNSwwLDAtOC40MSwyMy43Mi05LjQ5LDI3LjE2QTYuNDMsNi40MywwLDAsMCw0Mi41Myw0NGMwLDkuMjIsMzYuMywzOS40NSw4NC45NCwzOS40NU0xNjAsNzIuMDdjMS43Myw4LjE5LDEuNzMsOS4wNSwxLjczLDEwLjEzLDAsMTQtMTUuNzQsMjEuNzctMzYuNDMsMjEuNzdDNzguNTQsMTA0LDM3LjU4LDc2LjYsMzcuNTgsNTguNDlhMTguNDUsMTguNDUsMCwwLDEsMS41MS03LjMzQzIyLjI3LDUyLC41LDU1LC41LDc0LjIyYzAsMzEuNDgsNzQuNTksNzAuMjgsMTMzLjY1LDcwLjI4LDQ1LjI4LDAsNTYuNy0yMC40OCw1Ni43LTM2LjY1LDAtMTIuNzItMTEtMjcuMTYtMzAuODMtMzUuNzgiLz48L3N2Zz4=
      mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
        - rules:
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - ""
              resources:
                - pods
                - services
                - endpoints
                - persistentvolumeclaims
                - events
                - configmaps
                - secrets
                - nodes
              verbs:
                - "*"
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
            - apiGroups:
                - apps
              resources:
                - deployments
                - daemonsets
                - replicasets
                - statefulsets
              verbs:
                - "*"
            - apiGroups:
                - monitoring.coreos.com
              resources:
                - servicemonitors
              verbs:
                - get
                - list
                - watch
                - create
            - apiGroups:
                - ocs.openshift.io
              resources:
                - "*"
                - storageclusters
                - ocsinitialization
                - storageclusterinitializations
              verbs:
                - "*"
            - apiGroups:
                - ceph.rook.io
              resources:
                - cephclusters
                - cephblockpools
                - cephfilesystems
                - cephobjectstores
                - cephobjectstoreusers
              verbs:
                - "*"
            - apiGroups:
                - noobaa.io
              resources:
                - noobaas
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - security.openshift.io
              resources:
                - securitycontextconstraints
              verbs:
                - get
                - create
                - update
            - apiGroups:
                - security.openshift.io
              resourceNames:
                - privileged
              resources:
                - securitycontextconstraints
              verbs:
                - get
                - create
                - update
          serviceAccountName: ocs-operator
        - rules: []
          serviceAccountName: rook-ceph-cluster-mgmt
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
                - pods
                - pods/log
                - services
                - configmaps
              verbs:
                - get
                - list
                - watch
                - patch
                - create
                - update
                - delete
            - apiGroups:
                - apps
              resources:
                - deployments
                - daemonsets
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
          serviceAccountName: rook-ceph-system
        - rules: []
          serviceAccountName: rook-ceph-global
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - nodes
                - nodes/proxy
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - events
                - persistentvolumes
                - persistentvolumeclaims
                - endpoints
              verbs:
                - get
                - list
                - watch
                - patch
                - create
                - update
                - delete
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - batch
              resources:
                - jobs
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - ceph.rook.io
              resources:
                - "*"
              verbs:
                - "*"
            - apiGroups:
                - rook.io
              resources:
                - "*"
              verbs:
                - "*"
            - apiGroups:
                - policy
                - apps
              resources:
                - poddisruptionbudgets
                - deployments
                - replicasets
              verbs:
                - "*"
            - apiGroups:
                - healthchecking.openshift.io
              resources:
                - machinedisruptionbudgets
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - machine.openshift.io
              resources:
                - machines
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - storage.k8s.io
              resources:
                - csidrivers
              verbs:
                - create
          serviceAccountName: rook-ceph-system
        - rules: []
          serviceAccountName: rook-ceph-mgr-cluster
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
                - nodes
                - nodes/proxy
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
                - list
                - get
                - watch
          serviceAccountName: rook-ceph-mgr
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
                - configmaps
              verbs:
                - "*"
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - objectbucket.io
              resources:
                - "*"
              verbs:
                - "*"
          serviceAccountName: rook-ceph-system
        - rules:
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
          serviceAccountName: rook-ceph-osd
        - rules: []
          serviceAccountName: rook-ceph-mgr-system
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
          serviceAccountName: rook-ceph-mgr
        - rules: []
          serviceAccountName: cephfs-csi-nodeplugin
        - rules:
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - update
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - persistentvolumes
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
          serviceAccountName: rook-csi-cephfs-plugin-sa
        - rules: []
          serviceAccountName: cephfs-external-provisioner-runner
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - persistentvolumes
              verbs:
                - get
                - list
                - watch
                - create
                - delete
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - list
                - watch
                - create
                - update
                - patch
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments
              verbs:
                - get
                - list
                - watch
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims/status
              verbs:
                - update
                - patch
          serviceAccountName: rook-csi-cephfs-provisioner-sa
        - rules: []
          serviceAccountName: rbd-csi-nodeplugin
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - update
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - persistentvolumes
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
          serviceAccountName: rook-csi-rbd-plugin-sa
        - rules: []
          serviceAccountName: rbd-external-provisioner-runner
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - persistentvolumes
              verbs:
                - get
                - list
                - watch
                - create
                - delete
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments
              verbs:
                - get
                - list
                - watch
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - list
                - watch
                - create
                - update
                - patch
            - apiGroups:
                - snapshot.storage.k8s.io
              resources:
                - volumesnapshots
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - snapshot.storage.k8s.io
              resources:
                - volumesnapshotcontents
              verbs:
                - create
                - get
                - list
                - watch
                - update
                - delete
            - apiGroups:
                - snapshot.storage.k8s.io
              resources:
                - volumesnapshotclasses
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apiextensions.k8s.io
              resources:
                - customresourcedefinitions
              verbs:
                - create
                - list
                - watch
                - delete
                - get
                - update
            - apiGroups:
                - snapshot.storage.k8s.io
              resources:
                - volumesnapshots/status
              verbs:
                - update
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims/status
              verbs:
                - update
                - patch
          serviceAccountName: rook-csi-rbd-provisioner-sa
        - rules:
            - apiGroups:
                - security.openshift.io
              resourceNames:
                - privileged
              resources:
                - securitycontextconstraints
              verbs:
                - use
          serviceAccountName: rook-ceph-system
        - rules:
            - apiGroups:
                - noobaa.io
              resources:
                - "*"
                - noobaas
                - backingstores
                - bucketclasses
                - noobaas/finalizers
                - backingstores/finalizers
                - bucketclasses/finalizers
              verbs:
                - "*"
            - apiGroups:
                - objectbucket.io
              resources:
                - "*"
              verbs:
                - "*"
            - apiGroups:
                - ""
              resources:
                - configmaps
                - secrets
                - persistentvolumes
              verbs:
                - "*"
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
                - create
                - update
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
          serviceAccountName: noobaa
      deployments:
        - name: ocs-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                name: ocs-operator
            strategy:
              type: Recreate
            template:
              metadata:
                labels:
                  name: ocs-operator
              spec:
                containers:
                  - command:
                      - ocs-operator
                    env:
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: OPERATOR_NAME
                        value: ocs-operator
                      - name: ROOK_CEPH_IMAGE
                        value: rook/ceph:v1.2.4
                      - name: CEPH_IMAGE
                        value: ceph/ceph:v14.2
                      - name: NOOBAA_CORE_IMAGE
                        value: noobaa/noobaa-core:5.3.0-rc1
                      - name: NOOBAA_DB_IMAGE
                        value: centos/mongodb-36-centos7
                    image: quay.io/ocs-dev/ocs-operator:latest
                    imagePullPolicy: Always
                    name: ocs-operator
                    ports:
                      - containerPort: 60000
                        name: metrics
                    readinessProbe:
                      exec:
                        command:
                          - stat
                          - /tmp/operator-sdk-ready
                      failureThreshold: 1
                      initialDelaySeconds: 4
                      periodSeconds: 10
                    resources: {}
                serviceAccountName: ocs-operator
                tolerations:
                  - effect: NoSchedule
                    key: node.ocs.openshift.io/storage
                    operator: Equal
                    value: "true"
        - name: rook-ceph-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                app: rook-ceph-operator
            strategy: {}
            template:
              metadata:
                labels:
                  app: rook-ceph-operator
              spec:
                containers:
                  - args:
                      - ceph
                      - operator
                    env:
                      - name: ROOK_CURRENT_NAMESPACE_ONLY
                        value: "true"
                      - name: ROOK_ALLOW_MULTIPLE_FILESYSTEMS
                        value: "false"
                      - name: ROOK_LOG_LEVEL
                        value: INFO
                      - name: ROOK_CEPH_STATUS_CHECK_INTERVAL
                        value: 60s
                      - name: ROOK_MON_HEALTHCHECK_INTERVAL
                        value: 45s
                      - name: ROOK_MON_OUT_TIMEOUT
                        value: 600s
                      - name: ROOK_DISCOVER_DEVICES_INTERVAL
                        value: 60m
                      - name: ROOK_HOSTPATH_REQUIRES_PRIVILEGED
                        value: "true"
                      - name: ROOK_ENABLE_SELINUX_RELABELING
                        value: "true"
                      - name: ROOK_ENABLE_FSGROUP
                        value: "true"
                      - name: ROOK_ENABLE_FLEX_DRIVER
                        value: "false"
                      - name: ROOK_ENABLE_DISCOVERY_DAEMON
                        value: "false"
                      - name: ROOK_ENABLE_MACHINE_DISRUPTION_BUDGET
                        value: "false"
                      - name: ROOK_DISABLE_DEVICE_HOTPLUG
                        value: "true"
                      - name: CSI_PROVISIONER_NODE_AFFINITY
                        value: cluster.ocs.openshift.io/openshift-storage=
                      - name: CSI_PROVISIONER_TOLERATIONS
                        value: |2-
                          - key: node.ocs.openshift.io/storage
                            operator: Equal
                            value: "true"
                            effect: NoSchedule
                      - name: CSI_PLUGIN_TOLERATIONS
                        value: |2-
                          - key: node.ocs.openshift.io/storage
                            operator: Equal
                            value: "true"
                            effect: NoSchedule
                      - name: NODE_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: spec.nodeName
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: POD_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: CSI_ENABLE_SNAPSHOTTER
                        value: "false"
                    image: rook/ceph:v1.2.4
                    name: rook-ceph-operator
                    resources: {}
                    volumeMounts:
                      - mountPath: /var/lib/rook
                        name: rook-config
                      - mountPath: /etc/ceph
                        name: default-config-dir
                serviceAccountName: rook-ceph-system
                tolerations:
                  - effect: NoSchedule
                    key: node.ocs.openshift.io/storage
                    operator: Equal
                    value: "true"
                volumes:
                  - emptyDir: {}
                    name: rook-config
                  - emptyDir: {}
                    name: default-config-dir
        - name: noobaa-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                noobaa-operator: deployment
            strategy: {}
            template:
              metadata:
                labels:
                  app: noobaa
                  noobaa-operator: deployment
              spec:
                containers:
                  - env:
                      - name: OPERATOR_NAME
                        value: noobaa-operator
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: NOOBAA_CORE_IMAGE
                        value: noobaa/noobaa-core:5.3.0-rc1
                      - name: NOOBAA_DB_IMAGE
                        value: centos/mongodb-36-centos7
                    image: noobaa/noobaa-operator:2.2.0-20200312
                    name: noobaa-operator
                    resources:
                      limits:
                        cpu: 250m
                        memory: 512Mi
                serviceAccountName: noobaa
                tolerations:
                  - effect: NoSchedule
                    key: node.ocs.openshift.io/storage
                    operator: Equal
                    value: "true"
      permissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - configmaps
                - services
              verbs:
                - get
                - list
                - watch
                - patch
                - create
                - update
                - delete
            - apiGroups:
                - apps
              resources:
                - daemonsets
                - statefulsets
                - deployments
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
          serviceAccountName: rook-ceph-system
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - ceph.rook.io
              resources:
                - cephclusters
                - cephclusters/finalizers
              verbs:
                - get
                - list
                - create
                - update
                - delete
          serviceAccountName: rook-ceph-osd
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - services
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - batch
              resources:
                - jobs
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
            - apiGroups:
                - ceph.rook.io
              resources:
                - "*"
              verbs:
                - "*"
          serviceAccountName: rook-ceph-mgr
        - rules:
            - apiGroups:
                - ""
              resources:
                - endpoints
              verbs:
                - get
                - watch
                - list
                - delete
                - update
                - create
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - create
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - watch
                - list
                - delete
                - update
                - create
          serviceAccountName: rook-csi-cephfs-provisioner-sa
        - rules:
            - apiGroups:
                - ""
              resources:
                - endpoints
              verbs:
                - get
                - watch
                - list
                - delete
                - update
                - create
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - watch
                - list
                - delete
                - update
                - create
          serviceAccountName: rook-csi-rbd-provisioner-sa
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - delete
          serviceAccountName: rook-ceph-cmd-reporter
        - rules:
            - apiGroups:
                - noobaa.io
              resources:
                - "*"
                - noobaas
                - backingstores
                - bucketclasses
                - noobaas/finalizers
                - backingstores/finalizers
                - bucketclasses/finalizers
              verbs:
                - "*"
            - apiGroups:
                - ""
              resources:
                - pods
                - services
                - endpoints
                - persistentvolumeclaims
                - events
                - configmaps
                - secrets
                - serviceaccounts
              verbs:
                - "*"
            - apiGroups:
                - apps
              resources:
                - deployments
                - daemonsets
                - replicasets
                - statefulsets
              verbs:
                - "*"
            - apiGroups:
                - monitoring.coreos.com
              resources:
                - servicemonitors
                - prometheusrules
              verbs:
                - get
                - create
                - update
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - services/finalizers
              verbs:
                - update
            - apiGroups:
                - apps
              resourceNames:
                - noobaa-operator
              resources:
                - deployments/finalizers
              verbs:
                - update
            - apiGroups:
                - cloudcredential.openshift.io
              resources:
                - credentialsrequests
              verbs:
                - get
                - create
                - update
                - list
                - watch
            - apiGroups:
                - ceph.rook.io
              resources:
                - cephobjectstores
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ceph.rook.io
              resources:
                - cephobjectstoreusers
              verbs:
                - get
                - create
                - update
                - list
                - watch
            - apiGroups:
                - route.openshift.io
              resources:
                - routes
              verbs:
                - get
                - create
                - update
                - list
                - watch
            - apiGroups:
                - autoscaling
              resources:
                - horizontalpodautoscalers
              verbs:
                - get
                - create
                - update
                - patch
                - list
                - watch
          serviceAccountName: noobaa
    strategy: deployment
  installModes:
    - supported: true
      type: OwnNamespace
    - supported: true
      type: SingleNamespace
    - supported: false
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
  keywords:
    - storage
    - rook
    - ceph
    - noobaa
    - block storage
    - shared filesystem
    - object storage
  links:
    - name: Source Code
      url: https://github.com/openshift/ocs-operator
  maintainers:
    - email: support@redhat.com
      name: Red Hat Support
  maturity: alpha
  provider:
    name: Red Hat, Inc
  replaces: ocs-operator.v0.0.1
  version: 4.3.0
